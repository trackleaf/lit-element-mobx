{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/mobx/lib/mobx.es6.js","webpack:///./src/agent.js","webpack:///./node_modules/@stencil/router/dist/cjs/stencilrouter-a3d77a87.js","webpack:///./node_modules/@stencil/router/dist/cjs/index.cjs.js","webpack:///./node_modules/@stencil/router/dist/cjs/chunk-94c92d88.js","webpack:///./node_modules/@stencil/router/dist/cjs/chunk-e6311a56.js","webpack:///./node_modules/query-string/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/@stencil/router/dist/cjs/chunk-b786ea51.js","webpack:///./node_modules/@stencil/router/dist/cjs/chunk-b9bd6b52.js","webpack:///../src/is-object.js","webpack:///./node_modules/@stencil/router/dist/cjs/loader.cjs.js","webpack:///./node_modules/superagent-promise/index.js","webpack:///../src/client.js","webpack:///./node_modules/marked/lib/marked.js","webpack:///./node_modules/promise-prototype-finally/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/@stencil/router/dist/cjs sync ^\\.\\/.*\\.entry\\.js$","webpack:///./node_modules/@stencil/router/dist/cjs/context-consumer.cjs.entry.js","webpack:///./node_modules/@stencil/router/dist/cjs/stencil-async-content.cjs.entry.js","webpack:///./node_modules/@stencil/router/dist/cjs/stencil-route-link.cjs.entry.js","webpack:///./node_modules/@stencil/router/dist/cjs/stencil-route-switch.cjs.entry.js","webpack:///./node_modules/@stencil/router/dist/cjs/stencil-route-title.cjs.entry.js","webpack:///./node_modules/@stencil/router/dist/cjs/stencil-route.cjs.entry.js","webpack:///./node_modules/@stencil/router/dist/cjs/stencil-router-prompt.cjs.entry.js","webpack:///./node_modules/@stencil/router/dist/cjs/stencil-router-redirect.cjs.entry.js","webpack:///./node_modules/@stencil/router/dist/cjs/stencil-router.cjs.entry.js","webpack:///./node_modules/@stencil/router/dist/cjs/css-shim-f7ddb189-673dd43d.js","webpack:///./node_modules/url/url.js","webpack:///./node_modules/punycode/punycode.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/url/util.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/@stencil/router/dist/cjs/dom-a0c82e31-d4621515.js","webpack:///./node_modules/superagent/node_modules/component-emitter/index.js","webpack:///./node_modules/fast-safe-stringify/index.js","webpack:///../src/request-base.js","webpack:///../src/response-base.js","webpack:///../src/utils.js","webpack:///../src/agent-base.js","webpack:///./node_modules/strict-uri-encode/index.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/decode-uri-component/index.js","webpack:///../src/lib/directive.ts","webpack:///../src/lib/dom.ts","webpack:///../src/lib/part.ts","webpack:///../src/lib/template.ts","webpack:///../src/lib/template-instance.ts","webpack:///../src/lib/template-result.ts","webpack:///../src/lib/parts.ts","webpack:///../src/lib/default-template-processor.ts","webpack:///../src/lib/template-factory.ts","webpack:///../src/lib/render.ts","webpack:///src/lit-html.ts","webpack:///./src/stores/articlesStore.js","webpack:///./src/stores/commentsStore.js","webpack:///./src/stores/authStore.js","webpack:///./src/stores/commonStore.js","webpack:///./src/stores/editorStore.js","webpack:///./src/stores/userStore.js","webpack:///./src/stores/profileStore.js","webpack:///./src/stores/rootStore.js","webpack:///../src/lib/modify-template.ts","webpack:///../src/lib/shady-render.ts","webpack:///../src/lib/updating-element.ts","webpack:///../src/lib/decorators.ts","webpack:///../src/lib/css-tag.ts","webpack:///src/lit-element.ts","webpack:///../src/directives/class-map.ts","webpack:///../src/directives/style-map.ts","webpack:///../src/directives/repeat.ts","webpack:///../src/directives/unsafe-html.ts","webpack:///../src/directives/if-defined.ts","webpack:///../src/lib/mixin.ts","webpack:///src/lit-mobx.ts","webpack:///./node_modules/wc-context/core.js","webpack:///./node_modules/wc-context/lit-element.js","webpack:///./src/components/base.js","webpack:///./src/components/PrivateRoute.js","webpack:///./src/components/app-header.js","webpack:///./src/components/list-errors.js","webpack:///./src/pages/login-page.js","webpack:///./src/pages/Home/Banner.js","webpack:///./src/components/loading-spinner.js","webpack:///./src/pages/Home/Tags.js","webpack:///./src/components/ListPagination.js","webpack:///./src/components/article-preview.js","webpack:///./src/components/ArticleList.js","webpack:///./src/pages/Home/home-main-view.js","webpack:///./src/pages/Home/home-page.js","webpack:///./src/pages/register-page.js","webpack:///./src/components/red-error.js","webpack:///./src/pages/Article/ArticleActions.js","webpack:///./src/pages/Article/ArticleMeta.js","webpack:///./src/pages/Article/comment-input.js","webpack:///./src/pages/Article/DeleteButton.js","webpack:///./src/pages/Article/Comment.js","webpack:///./src/pages/Article/CommentList.js","webpack:///./src/pages/Article/CommentContainer.js","webpack:///./src/pages/Article/article-page.js","webpack:///./src/pages/editor-page.js","webpack:///./src/pages/profile-page.js","webpack:///./src/pages/settings-page.js","webpack:///./src/realworld-app.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","OBFUSCATED_ERROR","EMPTY_ARRAY","freeze","EMPTY_OBJECT","getNextId","globalState","mobxGuid","fail","message","invariant","check","Error","once","func","invoked","apply","this","arguments","noop","isObject","isPlainObject","proto","getPrototypeOf","addHiddenProp","propName","writable","configurable","createInstanceofPredicate","clazz","x","isES6Map","thing","Map","isES6Set","Set","getPlainObjectKeys","enumerables","add","getOwnPropertySymbols","forEach","k","getOwnPropertyDescriptor","Array","from","stringifyKey","toString","String","toPrimitive","$mobx","Atom","constructor","isPendingUnobservation","isBeingObserved","observers","diffValue","lastAccessedBy","lowestObserverState","IDerivationState","NOT_TRACKING","onBecomeObserved","onBecomeObservedListeners","listener","onBecomeUnobserved","onBecomeUnobservedListeners","reportObserved","reportChanged","startBatch","observable","STALE","dependenciesState","UP_TO_DATE","isTracing","TraceMode","NONE","logTraceInfo","onBecomeStale","propagateChanged","endBatch","isAtom","createAtom","onBecomeObservedHandler","onBecomeUnobservedHandler","atom","arg3","interceptHook","comparer","identity","a","b","structural","deepEqual","default","is","shallow","mobxDidRunLazyInitializersSymbol","mobxPendingDecorators","enumerableDescriptorCache","nonEnumerableDescriptorCache","createPropertyInitializerDescriptor","prop","cache","initializeInstance","set","target","decorators","keys","propertyCreator","descriptor","decoratorTarget","decoratorArguments","createPropDecorator","propertyInitiallyEnumerable","decorator","applyImmediately","inheritedDecorators","assign","quacksLikeADecorator","slice","args","length","deepEnhancer","v","_","isObservable","isArray","array","undefined","map","referenceEnhancer","newValue","createDecoratorForEnhancer","enhancer","propertyName","_decoratorTarget","decoratorArgs","initialValue","initializer","asObservableObject","addObservableProp","res","process","env","defaultCreateObservableOptions","deep","defaultDecorator","proxy","asCreateObservableOptions","deepDecorator","shallowDecorator","isObservableObject","isObservableArray","isObservableMap","isObservableSet","refDecorator","refStructDecorator","oldValue","getEnhancerFromOptions","options","observableFactories","box","incorrectlyUsedAsDecorator","ObservableValue","equals","initialValues","owned","adm","ObservableArrayAdministration","values","Proxy","arrayTraps","prev","allowStateChangesStart","spliceWithArray","allowStateChangesEnd","createObservableArray","ObservableMap","ObservableSet","props","extendObservable","getDefaultDecoratorFromObjectOptions","base","objectProxyTraps","createDynamicObservableObject","extendObservableObjectWithProperties","ref","struct","arg2","methodName","computedDecorator","instance","addComputedProp","context","computedStructDecorator","computed","arg1","opts","ComputedValue","CaughtException","cause","isCaughtException","e","shouldCompute","derivation","POSSIBLY_STALE","prevUntracked","untrackedStart","obs","observing","obj","isComputedValue","disableErrorBoundaries","untrackedEnd","changeDependenciesStateTo0","checkIfStateModificationsAreAllowed","hasObservers","size","computationDepth","allowStateChanges","enforceActions","trackDerivedFunction","f","prevAllowStateReads","allowStateReadsStart","newObserving","unboundDepsCount","runId","prevTracking","trackingDerivation","result","prevObserving","lowestNewObservingDerivationState","i0","dep","removeObserver","addObserver","bindDependencies","allowStateReadsEnd","clearObserving","untracked","action","allowStateReads","currentActionId","nextActionId","createAction","actionName","fn","executeAction","isMobxAction","scope","runInfo","startTime","prevDerivation","prevAllowStateChanges","notifySpy","actionId","parentActionId","_startAction","err","error","suppressReactionErrors","_endAction","super","hasUnreportedChange","dehanceValue","dehancer","prepareNewValue","UNCHANGED","setNewValue","hasInterceptors","change","interceptChange","type","hasListeners","notifyListeners","intercept","handler","registerInterceptor","observe","fireImmediately","registerListener","toJSON","valueOf","__mapid","isComputing","isRunningSetter","setter","compareStructural","requiresReaction","keepAlive","propagateMaybeChanged","inBatch","trackAndCompute","propagateChangeConfirmed","warnAboutUntrackedRead","computeValue","peek","wasSuspended","changed","track","suspend","firstTime","prevValue","autorun","prevU","MobXGlobals","version","pendingUnobservations","pendingReactions","isRunningReactions","spyListeners","globalReactionErrorHandlers","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","computedConfigurable","mockGlobal","getGlobal","window","global","self","canMergeGlobalState","isolateCalled","__mobxInstanceCount","__mobxGlobals","setTimeout","node","delete","queueForUnobservation","push","runReactions","list","console","log","BREAK","lines","printDepTree","tree","depth","join","dependencies","child","nodeToDependencyTree","getAtom","Function","replace","Reaction","onInvalidate","errorHandler","requiresObservable","isDisposed","_isScheduled","_isTrackPending","_isRunning","schedule","isScheduled","runReaction","reportExceptionInDerivation","warn","dispose","getDisposer","trace","enterBreakPoint","pop","getAtomFromArgs","LOG","MAX_REACTION_ITERATIONS","reactionScheduler","runReactionsHelper","allReactions","iterations","splice","remainingReactions","isReaction","setReactionScheduler","baseScheduler","dontReassignFields","namedActionDecorator","actionFieldDecorator","arg4","defineBoundAction","view","reaction","scheduler","delay","reactionRunner","onError","createSchedulerFromOptions","bound","applyToInstance","run","expression","effect","effectAction","baseFn","runSync","nextValue","hook","cb","listenersKey","hookListeners","configure","isolateGlobalState","ea","properties","resultDescriptor","item","indexOf","unique","_isObservable","has","transaction","thisArg","getAdm","isPropertyKey","val","write","defaultEnhancer","parseInt","deleteProperty","remove","ownKeys","keysAtom","Reflect","preventExtensions","interceptable","interceptors","idx","listenable","changeListeners","listeners","MAX_SPLICE_SIZE","getArrayLength","arrayExtensions","isNaN","setArrayLength","lastKnownLength","newV","oldV","dehanceValues","index","added","addedCount","removed","removedCount","newLength","currentLength","newItems","updateArrayLength","oldLength","delta","deleteCount","Math","max","min","spliceItemsIntoValues","notifyArraySplice","concat","notifyArrayChildUpdate","notify","clear","toJS","items","shift","unshift","reverse","clone","sort","compareFn","funcName","isObservableArrayAdministration","_a","ObservableMapMarker","initialData","_keysAtom","_data","_hasMap","merge","_has","entry","newEntry","hasKey","_updateValue","_addValue","_updateHasMapEntry","nextIndex","makeIterable","next","done","entries","iterator","callback","other","newKeys","getMapLikeKeys","filter","toPOJO","_a$1","ObservableSetMarker","_atom","callbackFn","observableValues","ObservableObjectAdministration","read","pendingKeys","exists","observablePropertyConfigs","generateObservablePropConfig","notifyPropertyAddition","propertyOwner","isPropertyConfigurable","computedPropertyConfigs","getAdministrationForComputedPropOwner","generateComputedPropConfig","oldObservable","illegalAccess","owner","getKeys","isObservableObjectAdministration","anyThing","getAdministration","eq","aStack","bStack","unwrap","className","areArrays","aCtor","bCtor","has$1","getSelf","__MOBX_DEVTOOLS_GLOBAL_HOOK__","injectMobx","spy","extras","getDebugName","named","superagent","superagentPromise","_superagent","Promise","API_ROOT","encode","encodeURIComponent","commonStore","authStore","handleErrors","response","status","logout","responseBody","body","tokenPlugin","req","token","requests","url","del","use","end","then","put","post","Auth","current","login","email","password","user","register","username","save","Tags","getAll","limit","count","omitSlug","article","slug","Articles","all","page","lim","byAuthor","author","query","byTag","tag","favorite","favoritedBy","feed","unfavorite","update","Comments","comment","commentId","forArticle","Profile","follow","unfollow","stores","BUILD","win","doc","document","plt","$flags$","$resourcesUrl$","raf","h","requestAnimationFrame","ael","el","eventName","addEventListener","rel","removeEventListener","supportsConstructibleStylesheets","CSSStyleSheet","Context","hostRefs","WeakMap","getHostRef","isMemberInElement","elm","memberName","consoleError","styles","cssVarShim","__stencil_cssshim","queueCongestion","queuePending","queueDomReads","queueDomWrites","queueDomWritesLow","queueTask","queue","flush","consumeTimeout","timeout","ts","performance","now","consume","ceil","Infinity","readTask","writeTask","EMPTY_OBJ","isDef","toLowerCase","str","isComplexType","includes","patchDynamicImport","importFunctionName","namespace","getDynamicImportFunction","moduleMap","src","URL","href","mod","script","createElement","createObjectURL","Blob","resolve","onload","head","appendChild","rootAppliedStyles","attachStyles","cmpMeta","styleContainerNode","tagName","hostElm","scopeId","getScopeId","style","nodeType","styleElm","appliedStyles","createHostStyle","newScopeId","innerHTML","adoptedStyleSheets","addStyle","getRootNode","$tagName$","nodeName","vnodeData","children","slotName","simple","lastSimple","vNodeChildren","walk","$text$","classData","class","vdomFnUtils","vnode","$tag$","$children$","$elm$","$attrs$","$key$","$name$","Host","convertToPublic","convertToPrivate","vattrs","vchildren","vkey","vname","vtag","vtext","setAccessor","isSvg","flags","removeProperty","setProperty","startsWith","substring","isProp","isComplex","removeAttribute","setAttribute","oldList","parseClassList","baseList","split","updateElement","oldVnode","newVnode","isSvgMode","host","oldVnodeAttrs","newVnodeAttrs","contentRef","hostTagName","useNativeShadowDom","checkSlotFallbackVisibility","checkSlotRelocate","createElm","oldParentVNode","newParentVNode","childIndex","parentElm","childNode","oldVNode","newVNode","classList","createTextNode","putBackInOriginalLocation","recursive","oldSlotChildNodes","childNodes","parentReferenceNode","insertBefore","referenceNode","addVnodes","before","parentVNode","vnodes","startIdx","endIdx","containerElm","parentNode","removeVnodes","callNodeRefs","isSameVnode","vnode1","vnode2","patch","oldChildren","newChildren","defaultHolder","textContent","oldCh","newCh","elmToMove","oldStartIdx","newStartIdx","idxInOld","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","nextSibling","updateChildren","updateFallbackSlotVisibility","ilen","j","slotNameAttr","hidden","getAttribute","trim","relocateNodes","relocateSlotContent","hostContentNodes","some","nodeToRelocate","slotRefNode","vNode","isDestroy","vChild","renderVdom","hostRef","renderFnResults","$vnode$","isHost","$attrsToReflect$","attribute","shadowRoot","relocateNode","orgLocationNode","createComment","parentNodeRef","insertBeforeNode","previousSibling","refNode","safeCall","async","method","scheduleUpdate","isInitialLoad","$lazyInstance$","updateComponent","$modeName$","render","updateHost","postUpdateComponent","ancestorsActivelyLoadingChildren","ancestorComponent","$ancestorComponent$","$onReadyResolve$","documentElement","setValue","newVal","$hostElement$","oldVal","$instanceValues$","propValue","propType","parseFloat","parsePropertyValue","$members$","$watchers$","watchMethods","watchMethodName","proxyComponent","Cstr","watchers","members","memberFlags","getValue","attrNameToPropName","attributeChangedCallback","attrName","_oldValue","observedAttributes","initializeComponent","hmrVersionId","bundleId","$lazyBundleIds$","require","importedModule","loadModule","isProxied","fireConnectedCallback","isStyleRegistered","cssText","registerStyle","setContentReference","contentRefElm","crName","firstChild","bootstrapLazy","lazyBundles","cmpTags","exclude","customElements","y","querySelector","visibilityStyle","resourcesUrl","location","syncQueue","lazyBundle","compactMeta","$listeners$","HostElement","HTMLElement","$onReadyPromise$","registerHost","connectedCallback","hostId","hasAttribute","disconnectedCallback","removeHost","forceUpdate","componentOnReady","define","getContext","_elm","path","assetUrl","origin","pathname","getAssetPath","tick","nextTick","getElement","patchBrowser","importMeta","__filename","currentScript","baseURI","scriptElm","querySelectorAll","find","patchEsm","CSS","supports","registerInstance","lazyInstance","__chunk_2","__chunk_3","matchPath","injectHistory","Component","ActiveRouter","injectProps","__chunk_1","defaultState","consumerRender","currentState","updateListener","fields","fieldName","subscribe","propList","Provider","state","Consumer","fieldList","CstrPrototype","cstrConnectedCallback","cstrDisconnectedCallback","createProviderConsumer","historyType","titleSuffix","root","routeViewsUpdated","renderer","hasBasename","prefix","RegExp","test","isAbsolute","charAt","spliceOne","valueEqual","every","aType","aValue","bValue","aKeys","bKeys","addLeadingSlash","createKey","keyLength","random","substr","createLocation","currentLocation","search","hash","hashIndex","searchIndex","parsePath","decodeURI","URIError","to","hasTrailingSlash","fromParts","up","toParts","isToAbs","isFromAbs","mustEndAbs","last","part","resolvePathname","reduce","params","param","decodeURIComponent","parseQueryString","createPath","locationsAreEqual","stripBasename","stripLeadingSlash","stripTrailingSlash","strictUriEncode","objectAssign","decodeComponent","strict","extract","parse","formatter","arrayFormat","accumulator","exec","parserForArrayFormat","ret","parts","Boolean","keysSorter","input","Number","stringify","encoderForArrayFormat","val2","g","__chunk_4","PATH_REGEXP","escapeString","escapeGroup","group","sensitive","stringToRegexp","tokensToRegExp","tokens","defaultDelimiter","delimiter","delimiters","pathEscaped","escaped","offset","capture","modifier","partial","repeat","optional","pattern","endsWith","route","isEndDelimited","pathToRegexp","groups","source","match","regexpToRegexp","arrayToRegexp","cacheCount","patternCache","exact","re","cacheKey","cachePattern","JSON","compiledPattern","compilePath","isExact","memo","matchesAreEqual","getConfirmation","confirm","isExtraneousPopstateEvent","nav","event","userAgent","isModifiedEvent","ev","metaKey","altKey","ctrlKey","shiftKey","storageAvailable","storage","setItem","removeItem","DOMException","code","supportsGoWithoutReloadUsingHash","supportsHistory","ua","navigator","history","supportsPopStateOnHashChange","defineCustomElements","PromiseRequest","Request","_end","accept","reject","request","data","send","Emitter","safeStringify","RequestBase","ResponseBase","Agent","ActiveXObject","serialize","pairs","pushEncodedKeyValuePair","parseString","len","pos","pair","isJSON","mime","Response","xhr","responseType","line","field","parseHeader","getResponseHeader","text","_parseBody","_query","err_","new_err","html","json","xml","urlencoded","form","_parser","msg","pass","btoa","encoder","string","_auth","file","_shouldRetry","_retries","_uploadTimeout","_formData","readyState","clearTimeout","handleProgress","direction","_isHost","contentType","_header","_serializer","header","block","newline","fences","hr","heading","nptable","blockquote","def","table","lheading","paragraph","Lexer","links","marked","defaults","rules","normal","gfm","tables","_label","_title","edit","getRegex","bullet","_tag","lex","top","loose","cap","bull","space","isordered","pedantic","lang","align","cells","ordered","start","smartLists","sanitize","pre","sanitizer","title","charCodeAt","inline","escape","autolink","link","reflink","nolink","strong","em","br","InlineLexer","Renderer","breaks","TextRenderer","Parser","unescape","fromCharCode","regex","opt","resolveUrl","baseUrls","_scheme","_email","_inside","_href","_backpedal","output","out","mangle","inLink","outputLink","codespan","smartypants","image","ch","highlight","langPrefix","quote","level","raw","headerPrefix","xhtml","listitem","tablerow","content","tablecell","prot","baseUrl","originIndependentUrl","inlineText","tok","parseText","row","cell","pending","silent","setOptions","parser","lexer","inlineLexer","finally","catch","reason","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","browser","argv","versions","on","addListener","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","webpackContext","id","webpackContextResolve","context_consumer","unsubscribe","stencil_async_content","componentWillLoad","documentLocation","fetchNewContent","newDocumentLocation","fetch","__chunk_5","getUrl","RouteLink","activeClass","custom","computeMatch","urlMatch","handleClick","preventDefault","anchorAttributes","onClick","anchorClass","anchorTitle","role","anchorRole","tabindex","anchorTabIndex","ariaHaspopup","anchorId","ariaPosinset","ariaSetsize","ariaLabel","stencil_route_link","getUniqueId","getMatch","isHTMLStencilRouteElement","RouteSwitch","subscribers","regenerateSubscribers","newLocation","newActiveIndex","childElement","activeIndex","activeChild","scrollTopOffset","componentUpdated","routeViewUpdatedOptions","display","stencil_route_switch","RouteTitle","pageTitle","updateDocumentTitle","ownerDocument","stencil_route_title","Route","componentProps","scrollOnNextRender","previousMatch","isGrouped","parentElement","routeViewOptions","scrollToId","loadCompleted","childProps","routeRender","component","ChildComponent","stencil_route","StencilRouterPrompt","when","enable","unblock","disable","updateMessage","newMessage","prevMessage","componentDidUnload","stencil_router_prompt","Redirect","stencil_router_redirect","warning","createTransitionManager","prompt","setPrompt","nextPrompt","confirmTransitionTo","getUserConfirmation","appendListener","isActive","createScrollHistory","applicationScrollKey","scrollPositions","arrayData","sessionStorage","scrollData","getItem","scrollRestoration","scrollX","scrollY","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","getLocation","HISTORIES","forceNextPop","globalHistory","globalLocation","globalNavigator","canUseHistory","needsHashChangeListener","scrollHistory","forceRefresh","basename","getHistoryState","getDOMLocation","historyState","transitionManager","setState","nextState","scrollPosition","handlePopState","handlePop","handleHashChange","ok","revertPop","fromLocation","toLocation","toIndex","allKeys","fromIndex","go","initialLocation","listenerCount","isBlocked","createHref","checkDOMListeners","pushState","prevIndex","nextKeys","replaceState","goBack","goForward","listen","unlisten","ignorePath","canGoWithoutReload","hashType","getHashPath","replaceHashPath","encodedPath","prevLocation","allPaths","lastIndexOf","pushHashPath","nextPaths","stencil_router","getElementById","scrollIntoView","scrollTo","isServer","defaultView","scrollToLocation","StyleNode","previous","parent","parsedCssText","atRule","keyframesName","selector","parsedSelector","parseCss","ss","_expandUnicodeEscapes","RX","multipleSpaces","AT_START","MEDIA_START","types","MEDIA_RULE","keyframesRule","KEYFRAMES_RULE","VAR_START","MIXIN_RULE","STYLE_RULE","r$","OPEN_BRACE","CLOSE_BRACE","comments","port","customProp","mixinProp","mixinApply","varApply","findRegex","VAR_USAGE_START","VAR_ASSIGN_START","COMMENTS","TRAILING_LINES","compileVar","template","varMeta","varPos","endVar","findVarEndIndex","fallback","parseVar","compileTemplate","executeTemplate","resolveVar","final","findEndValue","onStr","double","assignPos","removeCustomAssigns","segments","resolveValues","selectors","declarations","dec","propsValues","_loop_1","dirty","getSelectors","rule","xArray","FIND_DECLARATIONS","normalizeValue","important","getDeclarations","specificity","nu","IMPORTANT","getSelectorsForScopes","scopes","parseCSS","original","ast","isDynamic","addGlobalStyle","globalScopes","styleEl","css","replaceScope","oldScopeId","loadDocument","promises","linkElms","addGlobalLink","loadDocumentLinks","styleElms","loadDocumentStyles","linkElm","rsp","CSS_VARIABLE_REGEXP","CSS_URL_REGEXP","lastIndex","hasRelativeUrls","originalUrl","basePath","fullMatch","relativeUrl","fixRelativeUrls","CustomStyle","hostStyleMap","hostScopeMap","scopesMap","initShim","_this","addLink","linkEl","updateGlobal","hostEl","cssScopeId","baseScope","registerHostTemplate","isDynamicScoped","needStyleEl","segment","sel","reScope","activeSelectors","hostTemplateMap","getScopesForElement","matches","getActiveSelectors","punycode","util","Url","protocol","slashes","auth","hostname","urlParse","relative","resolveObject","format","isString","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","slashesDenoteHost","u","TypeError","queryIndex","splitter","uSplit","rest","simplePath","lowerProto","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","toASCII","ae","esc","qm","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","freeGlobal","maxInt","tMin","tMax","skew","damp","initialBias","initialN","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","stringFromCharCode","RangeError","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","flag","adapt","numPoints","decode","basic","oldi","w","baseMinusT","codePoint","inputLength","bias","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","webpackPolyfill","deprecate","paths","arg","qs","sep","regexp","maxKeys","kstr","vstr","xs","stringifyPrimitive","isFinite","objectKeys","ks","aa","isConnected","__CE_isImportDocument","Document","ShadowRoot","Node","ELEMENT_NODE","localName","import","__CE_shadowRoot","__CE_patched","__CE_state","z","A","__CE_hasRegistry","__CE_documentLoadHandled","constructionStack","constructorFunction","__CE_definition","B","MutationObserver","childList","subtree","C","disconnect","D","E","addedNodes","SyntaxError","adoptedCallback","ba","fa","CustomElementRegistry","upgrade","whenDefined","polyfillWrapFlushCallback","F","G","createElementNS","ha","importNode","ia","prepend","ja","append","ka","DocumentFragment","la","H","cloneNode","I","J","K","removeChild","L","replaceChild","M","N","Element","attachShadow","O","P","Q","R","S","getAttributeNS","T","setAttributeNS","U","removeAttributeNS","ma","insertAdjacentElement","na","insertAdjacentHTML","oa","pa","V","qa","after","ra","replaceWith","sa","ta","W","va","wa","Y","Z","forcePolyfill","X","setPrototypeOf","ya","TEXT_NODE","ca","COMMENT_NODE","za","lastChild","da","namespaceURI","Aa","Ba","CustomEvent","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","Event","composedPath","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","closest","composed","CharacterData","DocumentType","toggle","contains","mixin","_callbacks","callbacks","stable","deterministicStringify","stableStringify","arr","replacerStack","replacer","spacer","decirc","stack","propertyDescriptor","replaceGetterValues","compareFunction","tmp","deterministicDecirc","ERROR_CODES","override","_retryCallback","_fullfilledPromise","_okCallback","base64Encoder","headers","isObj","queryArr","_timeout","_responseTimeout","utils","ct","toUpperCase","propIsEnumerable","propertyIsEnumerable","toObject","test1","getOwnPropertyNames","test2","test3","letter","shouldUseNative","symbols","singleMatcher","multiMatcher","decodeComponents","components","left","right","encodedURI","replaceMap","customDecodeURIComponent","directives","isDirective","isCEPolyfill","reparentNodes","container","removeNodes","noChange","nothing","nodeMarker","markerRegex","boundAttributeSuffix","Template","element","nodesToRemove","walker","createTreeWalker","lastPartIndex","partIndex","strings","nextNode","hasAttributes","attributes","stringForPart","lastAttributeNameRegex","attributeLookupName","attributeValue","statics","currentNode","insert","createMarker","suffix","isTemplatePartActive","processor","__parts","commit","fragment","nodeIndex","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","commentMarker","isCommentBinding","commentOpen","attributeMatch","getHTML","isPrimitive","isIterable","AttributeCommitter","_createPart","_getValue","committer","directive","__pendingValue","startNode","endNode","__insert","__commitText","__commitTemplateResult","__commitNode","__commitIterable","valueAsString","templateFactory","_clone","itemParts","itemPart","appendIntoPart","insertAfterPart","PropertyCommitter","single","PropertyPart","eventOptionsSupported","_e","eventContext","__boundHandleEvent","handleEvent","newListener","oldListener","shouldRemoveListener","passive","shouldAddListener","__options","getOptions","defaultTemplateProcessor","templateCache","templateCaches","stringsArray","keyString","getTemplateElement","appendInto","ArticlesStore","articlesRegistry","getArticle","setPage","setPredicate","predicate","$req","myFeed","agent","loadArticles","isLoading","articles","articlesCount","totalPagesCount","loadArticle","acceptCached","makeFavorite","favorited","favoritesCount","unmakeFavorite","createArticle","updateArticle","deleteArticle","CommentsStore","setArticleSlug","articleSlug","loadComments","isLoadingComments","commentErrors","isCreatingComment","deleteComment","findIndex","AuthStore","rootStore","setUsername","setEmail","setPassword","reset","inProgress","setToken","userStore","pullUser","forgetUser","CommonStore","localStorage","loadTags","isLoadingTags","tags","setAppLoaded","appLoaded","EditorStore","loadInitialData","articlesStore","description","tagList","setTitle","setDescription","setBody","addTag","removeTag","submit","UserStore","loadingUser","currentUser","updateUser","newUser","updatingUser","ProfileStore","loadProfile","isLoadingProfile","profile","following","RootStore","commentsStore","editorStore","profileStore","walkerNodeFilter","removeNodesFromTemplate","nextActiveIndexInTemplateParts","removeCount","nodesToRemoveInTemplate","currentRemovingNode","countNodes","startIndex","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","shadyTemplateFactory","TEMPLATE_TYPES","shadyRenderSet","prepareTemplateStyles","renderedDOM","templateElement","condensedStyle","templates","removeStylesFromLitTemplates","insertCount","walkerIndex","insertNodeIntoTemplate","nativeShadow","removes","JSCompiler_renameProperty","_obj","defaultConverter","notEqual","old","defaultPropertyDeclaration","converter","reflect","hasChanged","microtaskPromise","STATE_HAS_UPDATED","STATE_UPDATE_REQUESTED","STATE_IS_REFLECTING_TO_ATTRIBUTE","STATE_IS_REFLECTING_TO_PROPERTY","STATE_HAS_CONNECTED","finalized","UpdatingElement","_updateState","_instanceProperties","_updatePromise","_hasConnectedResolver","_changedProperties","_reflectingProperties","initialize","finalize","_classProperties","attr","_attributeNameForProperty","_attributeToPropertyMap","superProperties","_ensureClassProperties","noAccessor","_requestUpdate","superCtor","propKeys","createProperty","fromAttribute","toAttribute","_saveInstanceProperties","_v","_attributeToProperty","ctor","attrValue","_propertyValueToAttribute","_propertyValueFromAttribute","shouldRequestUpdate","_valueHasChanged","_hasRequestedUpdate","_enqueueUpdate","updateComplete","previousUpdatePromise","rej","_hasConnected","performUpdate","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","_getUpdateComplete","_propertyToAttribute","supportsAdoptingStyleSheets","flattenStyles","flat","arrayFlat","_styles","_getUniqueStyles","userStyles","reduceRight","renderRoot","createRenderRoot","adoptStyles","styleSheet","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","hasUpdated","styleElement","templateResult","hasRendered","needsScoping","firstScopeRender","renderContainer","createDocumentFragment","classMapCache","styleMapCache","classInfo","oldInfo","styleMap","styleInfo","createAndInsertPart","containerPart","beforePart","beforeNode","newPart","updatePart","insertPartBefore","removePart","generateMap","partListCache","keyListCache","keyFnOrTemplate","keyFn","oldParts","oldKeys","newParts","newValues","newKeyToIndexMap","oldKeyToIndexMap","oldHead","oldTail","newHead","newTail","oldIndex","oldPart","previousValues","unsafeHTML","previousValue","ifDefined","cachedRequestUpdate","cachedPerformUpdate","MobxReactionUpdate","requestUpdate","orphanMap","resolved","orphanResolveQueue","contexts","running","orphans","orphan","sendContextEvent","handled","dispatchEvent","observeContext","addOrphan","unobserveContext","removeOrphan","initializedElements","WeakSet","withContext","Base","__wcContext","observedContexts","providedContextConfigs","providedContexts","__wcProvidedContexts","mappedProps","__wcMappedProps","config","observerMap","__wcContextObserverMap","stopPropagation","targetEl","contextChangedCallback","registerProvidedContext","shouldChange","contextName","observer","notifyContextChange","LitElement","PrivateRoute","LoggedOutView","LoggedInView","AppHeader","appName","ListErrors","LoginPage","handleEmailChange","handlePasswordChange","handleSubmitForm","Banner","borderRadius","width","height","margin","position","borderTop","borderRight","borderBottom","borderLeft","transform","animation","ListPagination","range","isCurrent","currentPage","onSetPage","FAVORITED_CLASS","NOT_FAVORITED_CLASS","ArticlePreview","handleClickFavorite","favoriteButtonClass","Date","createdAt","toDateString","ArticleList","loading","YourFeedTab","tab","GlobalFeedTab","TagFilterTab","MainView","handleTabChange","handleSetPage","getPredicate","getTab","getTag","qsParse","HomePage","RegisterPage","handleUsernameChange","wrapperStyle","justifyContent","errorStyle","padding","color","fontWeight","backgroundColor","RedError","ArticleActions","handleDelete","onDelete","canModify","ArticleMeta","CommentInput","handleBodyChange","DeleteButton","show","Comment","CommentList","CommentContainer","ArticlePage","handleDeleteArticle","handleDeleteComment","markup","EditorPage","tagInput","changeTitle","changeDescription","changeBody","changeTagInput","handleTagInputKeyDown","keyCode","handleAddTag","handleRemoveTag","submitForm","dataLoaded","EditProfileSettings","isUser","FollowUserButton","classes","ProfilePage","handleFollow","handleUnfollow","renderTabs","isFavorites","bio","SettingsForm","updateState","newState","onSubmitForm","SettingsPage","handleClickLogout","updatingUserErrors","App","_____APP_STATE_____","configureMobx"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","/** MobX - (c) Michel Weststrate 2015 - 2019 - MIT Licensed */\nconst OBFUSCATED_ERROR = \"An invariant failed, however the error is obfuscated because this is an production build.\";\nconst EMPTY_ARRAY = [];\nObject.freeze(EMPTY_ARRAY);\nconst EMPTY_OBJECT = {};\nObject.freeze(EMPTY_OBJECT);\nfunction getNextId() {\n    return ++globalState.mobxGuid;\n}\nfunction fail(message) {\n    invariant(false, message);\n    throw \"X\"; // unreachable\n}\nfunction invariant(check, message) {\n    if (!check)\n        throw new Error(\"[mobx] \" + (message || OBFUSCATED_ERROR));\n}\n/**\n * Prints a deprecation message, but only one time.\n * Returns false if the deprecated message was already printed before\n */\nconst deprecatedMessages = [];\nfunction deprecated(msg, thing) {\n    if (process.env.NODE_ENV === \"production\")\n        return false;\n    if (thing) {\n        return deprecated(`'${msg}', use '${thing}' instead.`);\n    }\n    if (deprecatedMessages.indexOf(msg) !== -1)\n        return false;\n    deprecatedMessages.push(msg);\n    console.error(\"[mobx] Deprecated: \" + msg);\n    return true;\n}\n/**\n * Makes sure that the provided function is invoked at most once.\n */\nfunction once(func) {\n    let invoked = false;\n    return function () {\n        if (invoked)\n            return;\n        invoked = true;\n        return func.apply(this, arguments);\n    };\n}\nconst noop = () => { };\nfunction unique(list) {\n    const res = [];\n    list.forEach(item => {\n        if (res.indexOf(item) === -1)\n            res.push(item);\n    });\n    return res;\n}\nfunction isObject(value) {\n    return value !== null && typeof value === \"object\";\n}\nfunction isPlainObject(value) {\n    if (value === null || typeof value !== \"object\")\n        return false;\n    const proto = Object.getPrototypeOf(value);\n    return proto === Object.prototype || proto === null;\n}\nfunction addHiddenProp(object, propName, value) {\n    Object.defineProperty(object, propName, {\n        enumerable: false,\n        writable: true,\n        configurable: true,\n        value\n    });\n}\nfunction addHiddenFinalProp(object, propName, value) {\n    Object.defineProperty(object, propName, {\n        enumerable: false,\n        writable: false,\n        configurable: true,\n        value\n    });\n}\nfunction isPropertyConfigurable(object, prop) {\n    const descriptor = Object.getOwnPropertyDescriptor(object, prop);\n    return !descriptor || (descriptor.configurable !== false && descriptor.writable !== false);\n}\nfunction assertPropertyConfigurable(object, prop) {\n    if (process.env.NODE_ENV !== \"production\" && !isPropertyConfigurable(object, prop))\n        fail(`Cannot make property '${prop.toString()}' observable, it is not configurable and writable in the target object`);\n}\nfunction createInstanceofPredicate(name, clazz) {\n    const propName = \"isMobX\" + name;\n    clazz.prototype[propName] = true;\n    return function (x) {\n        return isObject(x) && x[propName] === true;\n    };\n}\n/**\n * Returns whether the argument is an array, disregarding observability.\n */\nfunction isArrayLike(x) {\n    return Array.isArray(x) || isObservableArray(x);\n}\nfunction isES6Map(thing) {\n    return thing instanceof Map;\n}\nfunction isES6Set(thing) {\n    return thing instanceof Set;\n}\n/**\n * Returns the following: own keys, prototype keys & own symbol keys, if they are enumerable.\n */\nfunction getPlainObjectKeys(object) {\n    const enumerables = new Set();\n    for (let key in object)\n        enumerables.add(key); // *all* enumerables\n    Object.getOwnPropertySymbols(object).forEach(k => {\n        if (Object.getOwnPropertyDescriptor(object, k).enumerable)\n            enumerables.add(k);\n    }); // *own* symbols\n    // Note: this implementation is missing enumerable, inherited, symbolic property names! That would however pretty expensive to add,\n    // as there is no efficient iterator that returns *all* properties\n    return Array.from(enumerables);\n}\nfunction stringifyKey(key) {\n    if (key && key.toString)\n        return key.toString();\n    else\n        return new String(key).toString();\n}\nfunction getMapLikeKeys(map) {\n    if (isPlainObject(map))\n        return Object.keys(map);\n    if (Array.isArray(map))\n        return map.map(([key]) => key);\n    if (isES6Map(map) || isObservableMap(map))\n        return Array.from(map.keys());\n    return fail(`Cannot get keys from '${map}'`);\n}\nfunction toPrimitive(value) {\n    return value === null ? null : typeof value === \"object\" ? \"\" + value : value;\n}\n\nconst $mobx = Symbol(\"mobx administration\");\nclass Atom {\n    /**\n     * Create a new atom. For debugging purposes it is recommended to give it a name.\n     * The onBecomeObserved and onBecomeUnobserved callbacks can be used for resource management.\n     */\n    constructor(name = \"Atom@\" + getNextId()) {\n        this.name = name;\n        this.isPendingUnobservation = false; // for effective unobserving. BaseAtom has true, for extra optimization, so its onBecomeUnobserved never gets called, because it's not needed\n        this.isBeingObserved = false;\n        this.observers = new Set();\n        this.diffValue = 0;\n        this.lastAccessedBy = 0;\n        this.lowestObserverState = IDerivationState.NOT_TRACKING;\n    }\n    onBecomeObserved() {\n        if (this.onBecomeObservedListeners) {\n            this.onBecomeObservedListeners.forEach(listener => listener());\n        }\n    }\n    onBecomeUnobserved() {\n        if (this.onBecomeUnobservedListeners) {\n            this.onBecomeUnobservedListeners.forEach(listener => listener());\n        }\n    }\n    /**\n     * Invoke this method to notify mobx that your atom has been used somehow.\n     * Returns true if there is currently a reactive context.\n     */\n    reportObserved() {\n        return reportObserved(this);\n    }\n    /**\n     * Invoke this method _after_ this method has changed to signal mobx that all its observers should invalidate.\n     */\n    reportChanged() {\n        startBatch();\n        propagateChanged(this);\n        endBatch();\n    }\n    toString() {\n        return this.name;\n    }\n}\nconst isAtom = createInstanceofPredicate(\"Atom\", Atom);\nfunction createAtom(name, onBecomeObservedHandler = noop, onBecomeUnobservedHandler = noop) {\n    const atom = new Atom(name);\n    // default `noop` listener will not initialize the hook Set\n    if (onBecomeObservedHandler !== noop) {\n        onBecomeObserved(atom, onBecomeObservedHandler);\n    }\n    if (onBecomeUnobservedHandler !== noop) {\n        onBecomeUnobserved(atom, onBecomeUnobservedHandler);\n    }\n    return atom;\n}\n\nfunction identityComparer(a, b) {\n    return a === b;\n}\nfunction structuralComparer(a, b) {\n    return deepEqual(a, b);\n}\nfunction shallowComparer(a, b) {\n    return deepEqual(a, b, 1);\n}\nfunction defaultComparer(a, b) {\n    return Object.is(a, b);\n}\nconst comparer = {\n    identity: identityComparer,\n    structural: structuralComparer,\n    default: defaultComparer,\n    shallow: shallowComparer\n};\n\nconst mobxDidRunLazyInitializersSymbol = Symbol(\"mobx did run lazy initializers\");\nconst mobxPendingDecorators = Symbol(\"mobx pending decorators\");\nconst enumerableDescriptorCache = {};\nconst nonEnumerableDescriptorCache = {};\nfunction createPropertyInitializerDescriptor(prop, enumerable) {\n    const cache = enumerable ? enumerableDescriptorCache : nonEnumerableDescriptorCache;\n    return (cache[prop] ||\n        (cache[prop] = {\n            configurable: true,\n            enumerable: enumerable,\n            get() {\n                initializeInstance(this);\n                return this[prop];\n            },\n            set(value) {\n                initializeInstance(this);\n                this[prop] = value;\n            }\n        }));\n}\nfunction initializeInstance(target) {\n    if (target[mobxDidRunLazyInitializersSymbol] === true)\n        return;\n    const decorators = target[mobxPendingDecorators];\n    if (decorators) {\n        addHiddenProp(target, mobxDidRunLazyInitializersSymbol, true);\n        // Build property key array from both strings and symbols\n        const keys = [...Object.getOwnPropertySymbols(decorators), ...Object.keys(decorators)];\n        for (const key of keys) {\n            const d = decorators[key];\n            d.propertyCreator(target, d.prop, d.descriptor, d.decoratorTarget, d.decoratorArguments);\n        }\n    }\n}\nfunction createPropDecorator(propertyInitiallyEnumerable, propertyCreator) {\n    return function decoratorFactory() {\n        let decoratorArguments;\n        const decorator = function decorate(target, prop, descriptor, applyImmediately\n        // This is a special parameter to signal the direct application of a decorator, allow extendObservable to skip the entire type decoration part,\n        // as the instance to apply the decorator to equals the target\n        ) {\n            if (applyImmediately === true) {\n                propertyCreator(target, prop, descriptor, target, decoratorArguments);\n                return null;\n            }\n            if (process.env.NODE_ENV !== \"production\" && !quacksLikeADecorator(arguments))\n                fail(\"This function is a decorator, but it wasn't invoked like a decorator\");\n            if (!Object.prototype.hasOwnProperty.call(target, mobxPendingDecorators)) {\n                const inheritedDecorators = target[mobxPendingDecorators];\n                addHiddenProp(target, mobxPendingDecorators, Object.assign({}, inheritedDecorators));\n            }\n            target[mobxPendingDecorators][prop] = {\n                prop,\n                propertyCreator,\n                descriptor,\n                decoratorTarget: target,\n                decoratorArguments\n            };\n            return createPropertyInitializerDescriptor(prop, propertyInitiallyEnumerable);\n        };\n        if (quacksLikeADecorator(arguments)) {\n            // @decorator\n            decoratorArguments = EMPTY_ARRAY;\n            return decorator.apply(null, arguments);\n        }\n        else {\n            // @decorator(args)\n            decoratorArguments = Array.prototype.slice.call(arguments);\n            return decorator;\n        }\n    };\n}\nfunction quacksLikeADecorator(args) {\n    return (((args.length === 2 || args.length === 3) &&\n        (typeof args[1] === \"string\" || typeof args[1] === \"symbol\")) ||\n        (args.length === 4 && args[3] === true));\n}\n\nfunction deepEnhancer(v, _, name) {\n    // it is an observable already, done\n    if (isObservable(v))\n        return v;\n    // something that can be converted and mutated?\n    if (Array.isArray(v))\n        return observable.array(v, { name });\n    if (isPlainObject(v))\n        return observable.object(v, undefined, { name });\n    if (isES6Map(v))\n        return observable.map(v, { name });\n    if (isES6Set(v))\n        return observable.set(v, { name });\n    return v;\n}\nfunction shallowEnhancer(v, _, name) {\n    if (v === undefined || v === null)\n        return v;\n    if (isObservableObject(v) || isObservableArray(v) || isObservableMap(v) || isObservableSet(v))\n        return v;\n    if (Array.isArray(v))\n        return observable.array(v, { name, deep: false });\n    if (isPlainObject(v))\n        return observable.object(v, undefined, { name, deep: false });\n    if (isES6Map(v))\n        return observable.map(v, { name, deep: false });\n    if (isES6Set(v))\n        return observable.set(v, { name, deep: false });\n    return fail(process.env.NODE_ENV !== \"production\" &&\n        \"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets\");\n}\nfunction referenceEnhancer(newValue) {\n    // never turn into an observable\n    return newValue;\n}\nfunction refStructEnhancer(v, oldValue, name) {\n    if (process.env.NODE_ENV !== \"production\" && isObservable(v))\n        throw `observable.struct should not be used with observable values`;\n    if (deepEqual(v, oldValue))\n        return oldValue;\n    return v;\n}\n\nfunction createDecoratorForEnhancer(enhancer) {\n    invariant(enhancer);\n    const decorator = createPropDecorator(true, (target, propertyName, descriptor, _decoratorTarget, decoratorArgs) => {\n        if (process.env.NODE_ENV !== \"production\") {\n            invariant(!descriptor || !descriptor.get, `@observable cannot be used on getter (property \"${stringifyKey(propertyName)}\"), use @computed instead.`);\n        }\n        const initialValue = descriptor\n            ? descriptor.initializer\n                ? descriptor.initializer.call(target)\n                : descriptor.value\n            : undefined;\n        asObservableObject(target).addObservableProp(propertyName, initialValue, enhancer);\n    });\n    const res = \n    // Extra process checks, as this happens during module initialization\n    typeof process !== \"undefined\" && process.env && process.env.NODE_ENV !== \"production\"\n        ? function observableDecorator() {\n            // This wrapper function is just to detect illegal decorator invocations, deprecate in a next version\n            // and simply return the created prop decorator\n            if (arguments.length < 2)\n                return fail(\"Incorrect decorator invocation. @observable decorator doesn't expect any arguments\");\n            return decorator.apply(null, arguments);\n        }\n        : decorator;\n    res.enhancer = enhancer;\n    return res;\n}\n\n// Predefined bags of create observable options, to avoid allocating temporarily option objects\n// in the majority of cases\nconst defaultCreateObservableOptions = {\n    deep: true,\n    name: undefined,\n    defaultDecorator: undefined,\n    proxy: true\n};\nObject.freeze(defaultCreateObservableOptions);\nfunction assertValidOption(key) {\n    if (!/^(deep|name|equals|defaultDecorator|proxy)$/.test(key))\n        fail(`invalid option for (extend)observable: ${key}`);\n}\nfunction asCreateObservableOptions(thing) {\n    if (thing === null || thing === undefined)\n        return defaultCreateObservableOptions;\n    if (typeof thing === \"string\")\n        return { name: thing, deep: true, proxy: true };\n    if (process.env.NODE_ENV !== \"production\") {\n        if (typeof thing !== \"object\")\n            return fail(\"expected options object\");\n        Object.keys(thing).forEach(assertValidOption);\n    }\n    return thing;\n}\nconst deepDecorator = createDecoratorForEnhancer(deepEnhancer);\nconst shallowDecorator = createDecoratorForEnhancer(shallowEnhancer);\nconst refDecorator = createDecoratorForEnhancer(referenceEnhancer);\nconst refStructDecorator = createDecoratorForEnhancer(refStructEnhancer);\nfunction getEnhancerFromOptions(options) {\n    return options.defaultDecorator\n        ? options.defaultDecorator.enhancer\n        : options.deep === false\n            ? referenceEnhancer\n            : deepEnhancer;\n}\n/**\n * Turns an object, array or function into a reactive structure.\n * @param v the value which should become observable.\n */\nfunction createObservable(v, arg2, arg3) {\n    // @observable someProp;\n    if (typeof arguments[1] === \"string\" || typeof arguments[1] === \"symbol\") {\n        return deepDecorator.apply(null, arguments);\n    }\n    // it is an observable already, done\n    if (isObservable(v))\n        return v;\n    // something that can be converted and mutated?\n    const res = isPlainObject(v)\n        ? observable.object(v, arg2, arg3)\n        : Array.isArray(v)\n            ? observable.array(v, arg2)\n            : isES6Map(v)\n                ? observable.map(v, arg2)\n                : isES6Set(v)\n                    ? observable.set(v, arg2)\n                    : v;\n    // this value could be converted to a new observable data structure, return it\n    if (res !== v)\n        return res;\n    // otherwise, just box it\n    fail(process.env.NODE_ENV !== \"production\" &&\n        `The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'`);\n}\nconst observableFactories = {\n    box(value, options) {\n        if (arguments.length > 2)\n            incorrectlyUsedAsDecorator(\"box\");\n        const o = asCreateObservableOptions(options);\n        return new ObservableValue(value, getEnhancerFromOptions(o), o.name, true, o.equals);\n    },\n    array(initialValues, options) {\n        if (arguments.length > 2)\n            incorrectlyUsedAsDecorator(\"array\");\n        const o = asCreateObservableOptions(options);\n        return createObservableArray(initialValues, getEnhancerFromOptions(o), o.name);\n    },\n    map(initialValues, options) {\n        if (arguments.length > 2)\n            incorrectlyUsedAsDecorator(\"map\");\n        const o = asCreateObservableOptions(options);\n        return new ObservableMap(initialValues, getEnhancerFromOptions(o), o.name);\n    },\n    set(initialValues, options) {\n        if (arguments.length > 2)\n            incorrectlyUsedAsDecorator(\"set\");\n        const o = asCreateObservableOptions(options);\n        return new ObservableSet(initialValues, getEnhancerFromOptions(o), o.name);\n    },\n    object(props, decorators, options) {\n        if (typeof arguments[1] === \"string\")\n            incorrectlyUsedAsDecorator(\"object\");\n        const o = asCreateObservableOptions(options);\n        if (o.proxy === false) {\n            return extendObservable({}, props, decorators, o);\n        }\n        else {\n            const defaultDecorator = getDefaultDecoratorFromObjectOptions(o);\n            const base = extendObservable({}, undefined, undefined, o);\n            const proxy = createDynamicObservableObject(base);\n            extendObservableObjectWithProperties(proxy, props, decorators, defaultDecorator);\n            return proxy;\n        }\n    },\n    ref: refDecorator,\n    shallow: shallowDecorator,\n    deep: deepDecorator,\n    struct: refStructDecorator\n};\nconst observable = createObservable;\n// weird trick to keep our typings nicely with our funcs, and still extend the observable function\nObject.keys(observableFactories).forEach(name => (observable[name] = observableFactories[name]));\nfunction incorrectlyUsedAsDecorator(methodName) {\n    fail(\n    // process.env.NODE_ENV !== \"production\" &&\n    `Expected one or two arguments to observable.${methodName}. Did you accidentally try to use observable.${methodName} as decorator?`);\n}\n\nconst computedDecorator = createPropDecorator(false, (instance, propertyName, descriptor, decoratorTarget, decoratorArgs) => {\n    const { get, set } = descriptor; // initialValue is the descriptor for get / set props\n    // Optimization: faster on decorator target or instance? Assuming target\n    // Optimization: find out if declaring on instance isn't just faster. (also makes the property descriptor simpler). But, more memory usage..\n    // Forcing instance now, fixes hot reloadig issues on React Native:\n    const options = decoratorArgs[0] || {};\n    asObservableObject(instance).addComputedProp(instance, propertyName, Object.assign({ get,\n        set, context: instance }, options));\n});\nconst computedStructDecorator = computedDecorator({ equals: comparer.structural });\n/**\n * Decorator for class properties: @computed get value() { return expr; }.\n * For legacy purposes also invokable as ES5 observable created: `computed(() => expr)`;\n */\nconst computed = function computed(arg1, arg2, arg3) {\n    if (typeof arg2 === \"string\") {\n        // @computed\n        return computedDecorator.apply(null, arguments);\n    }\n    if (arg1 !== null && typeof arg1 === \"object\" && arguments.length === 1) {\n        // @computed({ options })\n        return computedDecorator.apply(null, arguments);\n    }\n    // computed(expr, options?)\n    if (process.env.NODE_ENV !== \"production\") {\n        invariant(typeof arg1 === \"function\", \"First argument to `computed` should be an expression.\");\n        invariant(arguments.length < 3, \"Computed takes one or two arguments if used as function\");\n    }\n    const opts = typeof arg2 === \"object\" ? arg2 : {};\n    opts.get = arg1;\n    opts.set = typeof arg2 === \"function\" ? arg2 : opts.set;\n    opts.name = opts.name || arg1.name || \"\"; /* for generated name */\n    return new ComputedValue(opts);\n};\ncomputed.struct = computedStructDecorator;\n\nvar IDerivationState;\n(function (IDerivationState) {\n    // before being run or (outside batch and not being observed)\n    // at this point derivation is not holding any data about dependency tree\n    IDerivationState[IDerivationState[\"NOT_TRACKING\"] = -1] = \"NOT_TRACKING\";\n    // no shallow dependency changed since last computation\n    // won't recalculate derivation\n    // this is what makes mobx fast\n    IDerivationState[IDerivationState[\"UP_TO_DATE\"] = 0] = \"UP_TO_DATE\";\n    // some deep dependency changed, but don't know if shallow dependency changed\n    // will require to check first if UP_TO_DATE or POSSIBLY_STALE\n    // currently only ComputedValue will propagate POSSIBLY_STALE\n    //\n    // having this state is second big optimization:\n    // don't have to recompute on every dependency change, but only when it's needed\n    IDerivationState[IDerivationState[\"POSSIBLY_STALE\"] = 1] = \"POSSIBLY_STALE\";\n    // A shallow dependency has changed since last computation and the derivation\n    // will need to recompute when it's needed next.\n    IDerivationState[IDerivationState[\"STALE\"] = 2] = \"STALE\";\n})(IDerivationState || (IDerivationState = {}));\nvar TraceMode;\n(function (TraceMode) {\n    TraceMode[TraceMode[\"NONE\"] = 0] = \"NONE\";\n    TraceMode[TraceMode[\"LOG\"] = 1] = \"LOG\";\n    TraceMode[TraceMode[\"BREAK\"] = 2] = \"BREAK\";\n})(TraceMode || (TraceMode = {}));\nclass CaughtException {\n    constructor(cause) {\n        this.cause = cause;\n        // Empty\n    }\n}\nfunction isCaughtException(e) {\n    return e instanceof CaughtException;\n}\n/**\n * Finds out whether any dependency of the derivation has actually changed.\n * If dependenciesState is 1 then it will recalculate dependencies,\n * if any dependency changed it will propagate it by changing dependenciesState to 2.\n *\n * By iterating over the dependencies in the same order that they were reported and\n * stopping on the first change, all the recalculations are only called for ComputedValues\n * that will be tracked by derivation. That is because we assume that if the first x\n * dependencies of the derivation doesn't change then the derivation should run the same way\n * up until accessing x-th dependency.\n */\nfunction shouldCompute(derivation) {\n    switch (derivation.dependenciesState) {\n        case IDerivationState.UP_TO_DATE:\n            return false;\n        case IDerivationState.NOT_TRACKING:\n        case IDerivationState.STALE:\n            return true;\n        case IDerivationState.POSSIBLY_STALE: {\n            const prevUntracked = untrackedStart(); // no need for those computeds to be reported, they will be picked up in trackDerivedFunction.\n            const obs = derivation.observing, l = obs.length;\n            for (let i = 0; i < l; i++) {\n                const obj = obs[i];\n                if (isComputedValue(obj)) {\n                    if (globalState.disableErrorBoundaries) {\n                        obj.get();\n                    }\n                    else {\n                        try {\n                            obj.get();\n                        }\n                        catch (e) {\n                            // we are not interested in the value *or* exception at this moment, but if there is one, notify all\n                            untrackedEnd(prevUntracked);\n                            return true;\n                        }\n                    }\n                    // if ComputedValue `obj` actually changed it will be computed and propagated to its observers.\n                    // and `derivation` is an observer of `obj`\n                    // invariantShouldCompute(derivation)\n                    if (derivation.dependenciesState === IDerivationState.STALE) {\n                        untrackedEnd(prevUntracked);\n                        return true;\n                    }\n                }\n            }\n            changeDependenciesStateTo0(derivation);\n            untrackedEnd(prevUntracked);\n            return false;\n        }\n    }\n}\n// function invariantShouldCompute(derivation: IDerivation) {\n//     const newDepState = (derivation as any).dependenciesState\n//     if (\n//         process.env.NODE_ENV === \"production\" &&\n//         (newDepState === IDerivationState.POSSIBLY_STALE ||\n//             newDepState === IDerivationState.NOT_TRACKING)\n//     )\n//         fail(\"Illegal dependency state\")\n// }\nfunction isComputingDerivation() {\n    return globalState.trackingDerivation !== null; // filter out actions inside computations\n}\nfunction checkIfStateModificationsAreAllowed(atom) {\n    const hasObservers = atom.observers.size > 0;\n    // Should never be possible to change an observed observable from inside computed, see #798\n    if (globalState.computationDepth > 0 && hasObservers)\n        fail(process.env.NODE_ENV !== \"production\" &&\n            `Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: ${atom.name}`);\n    // Should not be possible to change observed state outside strict mode, except during initialization, see #563\n    if (!globalState.allowStateChanges && (hasObservers || globalState.enforceActions === \"strict\"))\n        fail(process.env.NODE_ENV !== \"production\" &&\n            (globalState.enforceActions\n                ? \"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: \"\n                : \"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: \") +\n                atom.name);\n}\nfunction checkIfStateReadsAreAllowed(observable) {\n    if (process.env.NODE_ENV !== \"production\" &&\n        !globalState.allowStateReads &&\n        globalState.observableRequiresReaction) {\n        console.warn(`[mobx] Observable ${observable.name} being read outside a reactive context`);\n    }\n}\n/**\n * Executes the provided function `f` and tracks which observables are being accessed.\n * The tracking information is stored on the `derivation` object and the derivation is registered\n * as observer of any of the accessed observables.\n */\nfunction trackDerivedFunction(derivation, f, context) {\n    const prevAllowStateReads = allowStateReadsStart(true);\n    // pre allocate array allocation + room for variation in deps\n    // array will be trimmed by bindDependencies\n    changeDependenciesStateTo0(derivation);\n    derivation.newObserving = new Array(derivation.observing.length + 100);\n    derivation.unboundDepsCount = 0;\n    derivation.runId = ++globalState.runId;\n    const prevTracking = globalState.trackingDerivation;\n    globalState.trackingDerivation = derivation;\n    let result;\n    if (globalState.disableErrorBoundaries === true) {\n        result = f.call(context);\n    }\n    else {\n        try {\n            result = f.call(context);\n        }\n        catch (e) {\n            result = new CaughtException(e);\n        }\n    }\n    globalState.trackingDerivation = prevTracking;\n    bindDependencies(derivation);\n    warnAboutDerivationWithoutDependencies(derivation);\n    allowStateReadsEnd(prevAllowStateReads);\n    return result;\n}\nfunction warnAboutDerivationWithoutDependencies(derivation) {\n    if (process.env.NODE_ENV === \"production\")\n        return;\n    if (derivation.observing.length !== 0)\n        return;\n    if (globalState.reactionRequiresObservable || derivation.requiresObservable) {\n        console.warn(`[mobx] Derivation ${derivation.name} is created/updated without reading any observable value`);\n    }\n}\n/**\n * diffs newObserving with observing.\n * update observing to be newObserving with unique observables\n * notify observers that become observed/unobserved\n */\nfunction bindDependencies(derivation) {\n    // invariant(derivation.dependenciesState !== IDerivationState.NOT_TRACKING, \"INTERNAL ERROR bindDependencies expects derivation.dependenciesState !== -1\");\n    const prevObserving = derivation.observing;\n    const observing = (derivation.observing = derivation.newObserving);\n    let lowestNewObservingDerivationState = IDerivationState.UP_TO_DATE;\n    // Go through all new observables and check diffValue: (this list can contain duplicates):\n    //   0: first occurrence, change to 1 and keep it\n    //   1: extra occurrence, drop it\n    let i0 = 0, l = derivation.unboundDepsCount;\n    for (let i = 0; i < l; i++) {\n        const dep = observing[i];\n        if (dep.diffValue === 0) {\n            dep.diffValue = 1;\n            if (i0 !== i)\n                observing[i0] = dep;\n            i0++;\n        }\n        // Upcast is 'safe' here, because if dep is IObservable, `dependenciesState` will be undefined,\n        // not hitting the condition\n        if (dep.dependenciesState > lowestNewObservingDerivationState) {\n            lowestNewObservingDerivationState = dep.dependenciesState;\n        }\n    }\n    observing.length = i0;\n    derivation.newObserving = null; // newObserving shouldn't be needed outside tracking (statement moved down to work around FF bug, see #614)\n    // Go through all old observables and check diffValue: (it is unique after last bindDependencies)\n    //   0: it's not in new observables, unobserve it\n    //   1: it keeps being observed, don't want to notify it. change to 0\n    l = prevObserving.length;\n    while (l--) {\n        const dep = prevObserving[l];\n        if (dep.diffValue === 0) {\n            removeObserver(dep, derivation);\n        }\n        dep.diffValue = 0;\n    }\n    // Go through all new observables and check diffValue: (now it should be unique)\n    //   0: it was set to 0 in last loop. don't need to do anything.\n    //   1: it wasn't observed, let's observe it. set back to 0\n    while (i0--) {\n        const dep = observing[i0];\n        if (dep.diffValue === 1) {\n            dep.diffValue = 0;\n            addObserver(dep, derivation);\n        }\n    }\n    // Some new observed derivations may become stale during this derivation computation\n    // so they have had no chance to propagate staleness (#916)\n    if (lowestNewObservingDerivationState !== IDerivationState.UP_TO_DATE) {\n        derivation.dependenciesState = lowestNewObservingDerivationState;\n        derivation.onBecomeStale();\n    }\n}\nfunction clearObserving(derivation) {\n    // invariant(globalState.inBatch > 0, \"INTERNAL ERROR clearObserving should be called only inside batch\");\n    const obs = derivation.observing;\n    derivation.observing = [];\n    let i = obs.length;\n    while (i--)\n        removeObserver(obs[i], derivation);\n    derivation.dependenciesState = IDerivationState.NOT_TRACKING;\n}\nfunction untracked(action) {\n    const prev = untrackedStart();\n    try {\n        return action();\n    }\n    finally {\n        untrackedEnd(prev);\n    }\n}\nfunction untrackedStart() {\n    const prev = globalState.trackingDerivation;\n    globalState.trackingDerivation = null;\n    return prev;\n}\nfunction untrackedEnd(prev) {\n    globalState.trackingDerivation = prev;\n}\nfunction allowStateReadsStart(allowStateReads) {\n    const prev = globalState.allowStateReads;\n    globalState.allowStateReads = allowStateReads;\n    return prev;\n}\nfunction allowStateReadsEnd(prev) {\n    globalState.allowStateReads = prev;\n}\n/**\n * needed to keep `lowestObserverState` correct. when changing from (2 or 1) to 0\n *\n */\nfunction changeDependenciesStateTo0(derivation) {\n    if (derivation.dependenciesState === IDerivationState.UP_TO_DATE)\n        return;\n    derivation.dependenciesState = IDerivationState.UP_TO_DATE;\n    const obs = derivation.observing;\n    let i = obs.length;\n    while (i--)\n        obs[i].lowestObserverState = IDerivationState.UP_TO_DATE;\n}\n\n// we don't use globalState for these in order to avoid possible issues with multiple\n// mobx versions\nlet currentActionId = 0;\nlet nextActionId = 1;\nfunction createAction(actionName, fn, ref) {\n    if (process.env.NODE_ENV !== \"production\") {\n        invariant(typeof fn === \"function\", \"`action` can only be invoked on functions\");\n        if (typeof actionName !== \"string\" || !actionName)\n            fail(`actions should have valid names, got: '${actionName}'`);\n    }\n    const res = function () {\n        return executeAction(actionName, fn, ref || this, arguments);\n    };\n    res.isMobxAction = true;\n    return res;\n}\nfunction executeAction(actionName, fn, scope, args) {\n    const runInfo = _startAction(actionName, scope, args);\n    try {\n        return fn.apply(scope, args);\n    }\n    catch (err) {\n        runInfo.error = err;\n        throw err;\n    }\n    finally {\n        _endAction(runInfo);\n    }\n}\nfunction _startAction(actionName, scope, args) {\n    const notifySpy = isSpyEnabled() && !!actionName;\n    let startTime = 0;\n    if (notifySpy && process.env.NODE_ENV !== \"production\") {\n        startTime = Date.now();\n        const l = (args && args.length) || 0;\n        const flattendArgs = new Array(l);\n        if (l > 0)\n            for (let i = 0; i < l; i++)\n                flattendArgs[i] = args[i];\n        spyReportStart({\n            type: \"action\",\n            name: actionName,\n            object: scope,\n            arguments: flattendArgs\n        });\n    }\n    const prevDerivation = untrackedStart();\n    startBatch();\n    const prevAllowStateChanges = allowStateChangesStart(true);\n    const prevAllowStateReads = allowStateReadsStart(true);\n    const runInfo = {\n        prevDerivation,\n        prevAllowStateChanges,\n        prevAllowStateReads,\n        notifySpy,\n        startTime,\n        actionId: nextActionId++,\n        parentActionId: currentActionId\n    };\n    currentActionId = runInfo.actionId;\n    return runInfo;\n}\nfunction _endAction(runInfo) {\n    if (currentActionId !== runInfo.actionId) {\n        fail(\"invalid action stack. did you forget to finish an action?\");\n    }\n    currentActionId = runInfo.parentActionId;\n    if (runInfo.error !== undefined) {\n        globalState.suppressReactionErrors = true;\n    }\n    allowStateChangesEnd(runInfo.prevAllowStateChanges);\n    allowStateReadsEnd(runInfo.prevAllowStateReads);\n    endBatch();\n    untrackedEnd(runInfo.prevDerivation);\n    if (runInfo.notifySpy && process.env.NODE_ENV !== \"production\") {\n        spyReportEnd({ time: Date.now() - runInfo.startTime });\n    }\n    globalState.suppressReactionErrors = false;\n}\nfunction allowStateChanges(allowStateChanges, func) {\n    const prev = allowStateChangesStart(allowStateChanges);\n    let res;\n    try {\n        res = func();\n    }\n    finally {\n        allowStateChangesEnd(prev);\n    }\n    return res;\n}\nfunction allowStateChangesStart(allowStateChanges) {\n    const prev = globalState.allowStateChanges;\n    globalState.allowStateChanges = allowStateChanges;\n    return prev;\n}\nfunction allowStateChangesEnd(prev) {\n    globalState.allowStateChanges = prev;\n}\nfunction allowStateChangesInsideComputed(func) {\n    const prev = globalState.computationDepth;\n    globalState.computationDepth = 0;\n    let res;\n    try {\n        res = func();\n    }\n    finally {\n        globalState.computationDepth = prev;\n    }\n    return res;\n}\n\nclass ObservableValue extends Atom {\n    constructor(value, enhancer, name = \"ObservableValue@\" + getNextId(), notifySpy = true, equals = comparer.default) {\n        super(name);\n        this.enhancer = enhancer;\n        this.name = name;\n        this.equals = equals;\n        this.hasUnreportedChange = false;\n        this.value = enhancer(value, undefined, name);\n        if (notifySpy && isSpyEnabled() && process.env.NODE_ENV !== \"production\") {\n            // only notify spy if this is a stand-alone observable\n            spyReport({ type: \"create\", name: this.name, newValue: \"\" + this.value });\n        }\n    }\n    dehanceValue(value) {\n        if (this.dehancer !== undefined)\n            return this.dehancer(value);\n        return value;\n    }\n    set(newValue) {\n        const oldValue = this.value;\n        newValue = this.prepareNewValue(newValue);\n        if (newValue !== globalState.UNCHANGED) {\n            const notifySpy = isSpyEnabled();\n            if (notifySpy && process.env.NODE_ENV !== \"production\") {\n                spyReportStart({\n                    type: \"update\",\n                    name: this.name,\n                    newValue,\n                    oldValue\n                });\n            }\n            this.setNewValue(newValue);\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportEnd();\n        }\n    }\n    prepareNewValue(newValue) {\n        checkIfStateModificationsAreAllowed(this);\n        if (hasInterceptors(this)) {\n            const change = interceptChange(this, {\n                object: this,\n                type: \"update\",\n                newValue\n            });\n            if (!change)\n                return globalState.UNCHANGED;\n            newValue = change.newValue;\n        }\n        // apply modifier\n        newValue = this.enhancer(newValue, this.value, this.name);\n        return this.equals(this.value, newValue) ? globalState.UNCHANGED : newValue;\n    }\n    setNewValue(newValue) {\n        const oldValue = this.value;\n        this.value = newValue;\n        this.reportChanged();\n        if (hasListeners(this)) {\n            notifyListeners(this, {\n                type: \"update\",\n                object: this,\n                newValue,\n                oldValue\n            });\n        }\n    }\n    get() {\n        this.reportObserved();\n        return this.dehanceValue(this.value);\n    }\n    intercept(handler) {\n        return registerInterceptor(this, handler);\n    }\n    observe(listener, fireImmediately) {\n        if (fireImmediately)\n            listener({\n                object: this,\n                type: \"update\",\n                newValue: this.value,\n                oldValue: undefined\n            });\n        return registerListener(this, listener);\n    }\n    toJSON() {\n        return this.get();\n    }\n    toString() {\n        return `${this.name}[${this.value}]`;\n    }\n    valueOf() {\n        return toPrimitive(this.get());\n    }\n    [Symbol.toPrimitive]() {\n        return this.valueOf();\n    }\n}\nconst isObservableValue = createInstanceofPredicate(\"ObservableValue\", ObservableValue);\n\n/**\n * A node in the state dependency root that observes other nodes, and can be observed itself.\n *\n * ComputedValue will remember the result of the computation for the duration of the batch, or\n * while being observed.\n *\n * During this time it will recompute only when one of its direct dependencies changed,\n * but only when it is being accessed with `ComputedValue.get()`.\n *\n * Implementation description:\n * 1. First time it's being accessed it will compute and remember result\n *    give back remembered result until 2. happens\n * 2. First time any deep dependency change, propagate POSSIBLY_STALE to all observers, wait for 3.\n * 3. When it's being accessed, recompute if any shallow dependency changed.\n *    if result changed: propagate STALE to all observers, that were POSSIBLY_STALE from the last step.\n *    go to step 2. either way\n *\n * If at any point it's outside batch and it isn't observed: reset everything and go to 1.\n */\nclass ComputedValue {\n    /**\n     * Create a new computed value based on a function expression.\n     *\n     * The `name` property is for debug purposes only.\n     *\n     * The `equals` property specifies the comparer function to use to determine if a newly produced\n     * value differs from the previous value. Two comparers are provided in the library; `defaultComparer`\n     * compares based on identity comparison (===), and `structualComparer` deeply compares the structure.\n     * Structural comparison can be convenient if you always produce a new aggregated object and\n     * don't want to notify observers if it is structurally the same.\n     * This is useful for working with vectors, mouse coordinates etc.\n     */\n    constructor(options) {\n        this.dependenciesState = IDerivationState.NOT_TRACKING;\n        this.observing = []; // nodes we are looking at. Our value depends on these nodes\n        this.newObserving = null; // during tracking it's an array with new observed observers\n        this.isBeingObserved = false;\n        this.isPendingUnobservation = false;\n        this.observers = new Set();\n        this.diffValue = 0;\n        this.runId = 0;\n        this.lastAccessedBy = 0;\n        this.lowestObserverState = IDerivationState.UP_TO_DATE;\n        this.unboundDepsCount = 0;\n        this.__mapid = \"#\" + getNextId();\n        this.value = new CaughtException(null);\n        this.isComputing = false; // to check for cycles\n        this.isRunningSetter = false;\n        this.isTracing = TraceMode.NONE;\n        if (process.env.NODE_ENV !== \"production\" && !options.get)\n            throw \"[mobx] missing option for computed: get\";\n        this.derivation = options.get;\n        this.name = options.name || \"ComputedValue@\" + getNextId();\n        if (options.set)\n            this.setter = createAction(this.name + \"-setter\", options.set);\n        this.equals =\n            options.equals ||\n                (options.compareStructural || options.struct\n                    ? comparer.structural\n                    : comparer.default);\n        this.scope = options.context;\n        this.requiresReaction = !!options.requiresReaction;\n        this.keepAlive = !!options.keepAlive;\n    }\n    onBecomeStale() {\n        propagateMaybeChanged(this);\n    }\n    onBecomeObserved() {\n        if (this.onBecomeObservedListeners) {\n            this.onBecomeObservedListeners.forEach(listener => listener());\n        }\n    }\n    onBecomeUnobserved() {\n        if (this.onBecomeUnobservedListeners) {\n            this.onBecomeUnobservedListeners.forEach(listener => listener());\n        }\n    }\n    /**\n     * Returns the current value of this computed value.\n     * Will evaluate its computation first if needed.\n     */\n    get() {\n        if (this.isComputing)\n            fail(`Cycle detected in computation ${this.name}: ${this.derivation}`);\n        if (globalState.inBatch === 0 && this.observers.size === 0 && !this.keepAlive) {\n            if (shouldCompute(this)) {\n                this.warnAboutUntrackedRead();\n                startBatch(); // See perf test 'computed memoization'\n                this.value = this.computeValue(false);\n                endBatch();\n            }\n        }\n        else {\n            reportObserved(this);\n            if (shouldCompute(this))\n                if (this.trackAndCompute())\n                    propagateChangeConfirmed(this);\n        }\n        const result = this.value;\n        if (isCaughtException(result))\n            throw result.cause;\n        return result;\n    }\n    peek() {\n        const res = this.computeValue(false);\n        if (isCaughtException(res))\n            throw res.cause;\n        return res;\n    }\n    set(value) {\n        if (this.setter) {\n            invariant(!this.isRunningSetter, `The setter of computed value '${this.name}' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?`);\n            this.isRunningSetter = true;\n            try {\n                this.setter.call(this.scope, value);\n            }\n            finally {\n                this.isRunningSetter = false;\n            }\n        }\n        else\n            invariant(false, process.env.NODE_ENV !== \"production\" &&\n                `[ComputedValue '${this.name}'] It is not possible to assign a new value to a computed value.`);\n    }\n    trackAndCompute() {\n        if (isSpyEnabled() && process.env.NODE_ENV !== \"production\") {\n            spyReport({\n                object: this.scope,\n                type: \"compute\",\n                name: this.name\n            });\n        }\n        const oldValue = this.value;\n        const wasSuspended = \n        /* see #1208 */ this.dependenciesState === IDerivationState.NOT_TRACKING;\n        const newValue = this.computeValue(true);\n        const changed = wasSuspended ||\n            isCaughtException(oldValue) ||\n            isCaughtException(newValue) ||\n            !this.equals(oldValue, newValue);\n        if (changed) {\n            this.value = newValue;\n        }\n        return changed;\n    }\n    computeValue(track) {\n        this.isComputing = true;\n        globalState.computationDepth++;\n        let res;\n        if (track) {\n            res = trackDerivedFunction(this, this.derivation, this.scope);\n        }\n        else {\n            if (globalState.disableErrorBoundaries === true) {\n                res = this.derivation.call(this.scope);\n            }\n            else {\n                try {\n                    res = this.derivation.call(this.scope);\n                }\n                catch (e) {\n                    res = new CaughtException(e);\n                }\n            }\n        }\n        globalState.computationDepth--;\n        this.isComputing = false;\n        return res;\n    }\n    suspend() {\n        if (!this.keepAlive) {\n            clearObserving(this);\n            this.value = undefined; // don't hold on to computed value!\n        }\n    }\n    observe(listener, fireImmediately) {\n        let firstTime = true;\n        let prevValue = undefined;\n        return autorun(() => {\n            let newValue = this.get();\n            if (!firstTime || fireImmediately) {\n                const prevU = untrackedStart();\n                listener({\n                    type: \"update\",\n                    object: this,\n                    newValue,\n                    oldValue: prevValue\n                });\n                untrackedEnd(prevU);\n            }\n            firstTime = false;\n            prevValue = newValue;\n        });\n    }\n    warnAboutUntrackedRead() {\n        if (process.env.NODE_ENV === \"production\")\n            return;\n        if (this.requiresReaction === true) {\n            fail(`[mobx] Computed value ${this.name} is read outside a reactive context`);\n        }\n        if (this.isTracing !== TraceMode.NONE) {\n            console.log(`[mobx.trace] '${this.name}' is being read outside a reactive context. Doing a full recompute`);\n        }\n        if (globalState.computedRequiresReaction) {\n            console.warn(`[mobx] Computed value ${this.name} is being read outside a reactive context. Doing a full recompute`);\n        }\n    }\n    toJSON() {\n        return this.get();\n    }\n    toString() {\n        return `${this.name}[${this.derivation.toString()}]`;\n    }\n    valueOf() {\n        return toPrimitive(this.get());\n    }\n    [Symbol.toPrimitive]() {\n        return this.valueOf();\n    }\n}\nconst isComputedValue = createInstanceofPredicate(\"ComputedValue\", ComputedValue);\n\n/**\n * These values will persist if global state is reset\n */\nconst persistentKeys = [\n    \"mobxGuid\",\n    \"spyListeners\",\n    \"enforceActions\",\n    \"computedRequiresReaction\",\n    \"reactionRequiresObservable\",\n    \"observableRequiresReaction\",\n    \"allowStateReads\",\n    \"disableErrorBoundaries\",\n    \"runId\",\n    \"UNCHANGED\"\n];\nclass MobXGlobals {\n    constructor() {\n        /**\n         * MobXGlobals version.\n         * MobX compatiblity with other versions loaded in memory as long as this version matches.\n         * It indicates that the global state still stores similar information\n         *\n         * N.B: this version is unrelated to the package version of MobX, and is only the version of the\n         * internal state storage of MobX, and can be the same across many different package versions\n         */\n        this.version = 5;\n        /**\n         * globally unique token to signal unchanged\n         */\n        this.UNCHANGED = {};\n        /**\n         * Currently running derivation\n         */\n        this.trackingDerivation = null;\n        /**\n         * Are we running a computation currently? (not a reaction)\n         */\n        this.computationDepth = 0;\n        /**\n         * Each time a derivation is tracked, it is assigned a unique run-id\n         */\n        this.runId = 0;\n        /**\n         * 'guid' for general purpose. Will be persisted amongst resets.\n         */\n        this.mobxGuid = 0;\n        /**\n         * Are we in a batch block? (and how many of them)\n         */\n        this.inBatch = 0;\n        /**\n         * Observables that don't have observers anymore, and are about to be\n         * suspended, unless somebody else accesses it in the same batch\n         *\n         * @type {IObservable[]}\n         */\n        this.pendingUnobservations = [];\n        /**\n         * List of scheduled, not yet executed, reactions.\n         */\n        this.pendingReactions = [];\n        /**\n         * Are we currently processing reactions?\n         */\n        this.isRunningReactions = false;\n        /**\n         * Is it allowed to change observables at this point?\n         * In general, MobX doesn't allow that when running computations and React.render.\n         * To ensure that those functions stay pure.\n         */\n        this.allowStateChanges = true;\n        /**\n         * Is it allowed to read observables at this point?\n         * Used to hold the state needed for `observableRequiresReaction`\n         */\n        this.allowStateReads = true;\n        /**\n         * If strict mode is enabled, state changes are by default not allowed\n         */\n        this.enforceActions = false;\n        /**\n         * Spy callbacks\n         */\n        this.spyListeners = [];\n        /**\n         * Globally attached error handlers that react specifically to errors in reactions\n         */\n        this.globalReactionErrorHandlers = [];\n        /**\n         * Warn if computed values are accessed outside a reactive context\n         */\n        this.computedRequiresReaction = false;\n        /**\n         * (Experimental)\n         * Warn if you try to create to derivation / reactive context without accessing any observable.\n         */\n        this.reactionRequiresObservable = false;\n        /**\n         * (Experimental)\n         * Warn if observables are accessed outside a reactive context\n         */\n        this.observableRequiresReaction = false;\n        /**\n         * Allows overwriting of computed properties, useful in tests but not prod as it can cause\n         * memory leaks. See https://github.com/mobxjs/mobx/issues/1867\n         */\n        this.computedConfigurable = false;\n        /*\n         * Don't catch and rethrow exceptions. This is useful for inspecting the state of\n         * the stack when an exception occurs while debugging.\n         */\n        this.disableErrorBoundaries = false;\n        /*\n         * If true, we are already handling an exception in an action. Any errors in reactions should be suppressed, as\n         * they are not the cause, see: https://github.com/mobxjs/mobx/issues/1836\n         */\n        this.suppressReactionErrors = false;\n    }\n}\nconst mockGlobal = {};\nfunction getGlobal() {\n    if (typeof window !== \"undefined\") {\n        return window;\n    }\n    if (typeof global !== \"undefined\") {\n        return global;\n    }\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    return mockGlobal;\n}\nlet canMergeGlobalState = true;\nlet isolateCalled = false;\nlet globalState = (function () {\n    const global = getGlobal();\n    if (global.__mobxInstanceCount > 0 && !global.__mobxGlobals)\n        canMergeGlobalState = false;\n    if (global.__mobxGlobals && global.__mobxGlobals.version !== new MobXGlobals().version)\n        canMergeGlobalState = false;\n    if (!canMergeGlobalState) {\n        setTimeout(() => {\n            if (!isolateCalled) {\n                fail(\"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`\");\n            }\n        }, 1);\n        return new MobXGlobals();\n    }\n    else if (global.__mobxGlobals) {\n        global.__mobxInstanceCount += 1;\n        if (!global.__mobxGlobals.UNCHANGED)\n            global.__mobxGlobals.UNCHANGED = {}; // make merge backward compatible\n        return global.__mobxGlobals;\n    }\n    else {\n        global.__mobxInstanceCount = 1;\n        return (global.__mobxGlobals = new MobXGlobals());\n    }\n})();\nfunction isolateGlobalState() {\n    if (globalState.pendingReactions.length ||\n        globalState.inBatch ||\n        globalState.isRunningReactions)\n        fail(\"isolateGlobalState should be called before MobX is running any reactions\");\n    isolateCalled = true;\n    if (canMergeGlobalState) {\n        if (--getGlobal().__mobxInstanceCount === 0)\n            getGlobal().__mobxGlobals = undefined;\n        globalState = new MobXGlobals();\n    }\n}\nfunction getGlobalState() {\n    return globalState;\n}\n/**\n * For testing purposes only; this will break the internal state of existing observables,\n * but can be used to get back at a stable state after throwing errors\n */\nfunction resetGlobalState() {\n    const defaultGlobals = new MobXGlobals();\n    for (let key in defaultGlobals)\n        if (persistentKeys.indexOf(key) === -1)\n            globalState[key] = defaultGlobals[key];\n    globalState.allowStateChanges = !globalState.enforceActions;\n}\n\nfunction hasObservers(observable) {\n    return observable.observers && observable.observers.size > 0;\n}\nfunction getObservers(observable) {\n    return observable.observers;\n}\n// function invariantObservers(observable: IObservable) {\n//     const list = observable.observers\n//     const map = observable.observersIndexes\n//     const l = list.length\n//     for (let i = 0; i < l; i++) {\n//         const id = list[i].__mapid\n//         if (i) {\n//             invariant(map[id] === i, \"INTERNAL ERROR maps derivation.__mapid to index in list\") // for performance\n//         } else {\n//             invariant(!(id in map), \"INTERNAL ERROR observer on index 0 shouldn't be held in map.\") // for performance\n//         }\n//     }\n//     invariant(\n//         list.length === 0 || Object.keys(map).length === list.length - 1,\n//         \"INTERNAL ERROR there is no junk in map\"\n//     )\n// }\nfunction addObserver(observable, node) {\n    // invariant(node.dependenciesState !== -1, \"INTERNAL ERROR, can add only dependenciesState !== -1\");\n    // invariant(observable._observers.indexOf(node) === -1, \"INTERNAL ERROR add already added node\");\n    // invariantObservers(observable);\n    observable.observers.add(node);\n    if (observable.lowestObserverState > node.dependenciesState)\n        observable.lowestObserverState = node.dependenciesState;\n    // invariantObservers(observable);\n    // invariant(observable._observers.indexOf(node) !== -1, \"INTERNAL ERROR didn't add node\");\n}\nfunction removeObserver(observable, node) {\n    // invariant(globalState.inBatch > 0, \"INTERNAL ERROR, remove should be called only inside batch\");\n    // invariant(observable._observers.indexOf(node) !== -1, \"INTERNAL ERROR remove already removed node\");\n    // invariantObservers(observable);\n    observable.observers.delete(node);\n    if (observable.observers.size === 0) {\n        // deleting last observer\n        queueForUnobservation(observable);\n    }\n    // invariantObservers(observable);\n    // invariant(observable._observers.indexOf(node) === -1, \"INTERNAL ERROR remove already removed node2\");\n}\nfunction queueForUnobservation(observable) {\n    if (observable.isPendingUnobservation === false) {\n        // invariant(observable._observers.length === 0, \"INTERNAL ERROR, should only queue for unobservation unobserved observables\");\n        observable.isPendingUnobservation = true;\n        globalState.pendingUnobservations.push(observable);\n    }\n}\n/**\n * Batch starts a transaction, at least for purposes of memoizing ComputedValues when nothing else does.\n * During a batch `onBecomeUnobserved` will be called at most once per observable.\n * Avoids unnecessary recalculations.\n */\nfunction startBatch() {\n    globalState.inBatch++;\n}\nfunction endBatch() {\n    if (--globalState.inBatch === 0) {\n        runReactions();\n        // the batch is actually about to finish, all unobserving should happen here.\n        const list = globalState.pendingUnobservations;\n        for (let i = 0; i < list.length; i++) {\n            const observable = list[i];\n            observable.isPendingUnobservation = false;\n            if (observable.observers.size === 0) {\n                if (observable.isBeingObserved) {\n                    // if this observable had reactive observers, trigger the hooks\n                    observable.isBeingObserved = false;\n                    observable.onBecomeUnobserved();\n                }\n                if (observable instanceof ComputedValue) {\n                    // computed values are automatically teared down when the last observer leaves\n                    // this process happens recursively, this computed might be the last observabe of another, etc..\n                    observable.suspend();\n                }\n            }\n        }\n        globalState.pendingUnobservations = [];\n    }\n}\nfunction reportObserved(observable) {\n    checkIfStateReadsAreAllowed(observable);\n    const derivation = globalState.trackingDerivation;\n    if (derivation !== null) {\n        /**\n         * Simple optimization, give each derivation run an unique id (runId)\n         * Check if last time this observable was accessed the same runId is used\n         * if this is the case, the relation is already known\n         */\n        if (derivation.runId !== observable.lastAccessedBy) {\n            observable.lastAccessedBy = derivation.runId;\n            // Tried storing newObserving, or observing, or both as Set, but performance didn't come close...\n            derivation.newObserving[derivation.unboundDepsCount++] = observable;\n            if (!observable.isBeingObserved) {\n                observable.isBeingObserved = true;\n                observable.onBecomeObserved();\n            }\n        }\n        return true;\n    }\n    else if (observable.observers.size === 0 && globalState.inBatch > 0) {\n        queueForUnobservation(observable);\n    }\n    return false;\n}\n// function invariantLOS(observable: IObservable, msg: string) {\n//     // it's expensive so better not run it in produciton. but temporarily helpful for testing\n//     const min = getObservers(observable).reduce((a, b) => Math.min(a, b.dependenciesState), 2)\n//     if (min >= observable.lowestObserverState) return // <- the only assumption about `lowestObserverState`\n//     throw new Error(\n//         \"lowestObserverState is wrong for \" +\n//             msg +\n//             \" because \" +\n//             min +\n//             \" < \" +\n//             observable.lowestObserverState\n//     )\n// }\n/**\n * NOTE: current propagation mechanism will in case of self reruning autoruns behave unexpectedly\n * It will propagate changes to observers from previous run\n * It's hard or maybe impossible (with reasonable perf) to get it right with current approach\n * Hopefully self reruning autoruns aren't a feature people should depend on\n * Also most basic use cases should be ok\n */\n// Called by Atom when its value changes\nfunction propagateChanged(observable) {\n    // invariantLOS(observable, \"changed start\");\n    if (observable.lowestObserverState === IDerivationState.STALE)\n        return;\n    observable.lowestObserverState = IDerivationState.STALE;\n    // Ideally we use for..of here, but the downcompiled version is really slow...\n    observable.observers.forEach(d => {\n        if (d.dependenciesState === IDerivationState.UP_TO_DATE) {\n            if (d.isTracing !== TraceMode.NONE) {\n                logTraceInfo(d, observable);\n            }\n            d.onBecomeStale();\n        }\n        d.dependenciesState = IDerivationState.STALE;\n    });\n    // invariantLOS(observable, \"changed end\");\n}\n// Called by ComputedValue when it recalculate and its value changed\nfunction propagateChangeConfirmed(observable) {\n    // invariantLOS(observable, \"confirmed start\");\n    if (observable.lowestObserverState === IDerivationState.STALE)\n        return;\n    observable.lowestObserverState = IDerivationState.STALE;\n    observable.observers.forEach(d => {\n        if (d.dependenciesState === IDerivationState.POSSIBLY_STALE)\n            d.dependenciesState = IDerivationState.STALE;\n        else if (d.dependenciesState === IDerivationState.UP_TO_DATE // this happens during computing of `d`, just keep lowestObserverState up to date.\n        )\n            observable.lowestObserverState = IDerivationState.UP_TO_DATE;\n    });\n    // invariantLOS(observable, \"confirmed end\");\n}\n// Used by computed when its dependency changed, but we don't wan't to immediately recompute.\nfunction propagateMaybeChanged(observable) {\n    // invariantLOS(observable, \"maybe start\");\n    if (observable.lowestObserverState !== IDerivationState.UP_TO_DATE)\n        return;\n    observable.lowestObserverState = IDerivationState.POSSIBLY_STALE;\n    observable.observers.forEach(d => {\n        if (d.dependenciesState === IDerivationState.UP_TO_DATE) {\n            d.dependenciesState = IDerivationState.POSSIBLY_STALE;\n            if (d.isTracing !== TraceMode.NONE) {\n                logTraceInfo(d, observable);\n            }\n            d.onBecomeStale();\n        }\n    });\n    // invariantLOS(observable, \"maybe end\");\n}\nfunction logTraceInfo(derivation, observable) {\n    console.log(`[mobx.trace] '${derivation.name}' is invalidated due to a change in: '${observable.name}'`);\n    if (derivation.isTracing === TraceMode.BREAK) {\n        const lines = [];\n        printDepTree(getDependencyTree(derivation), lines, 1);\n        // prettier-ignore\n        new Function(`debugger;\n/*\nTracing '${derivation.name}'\n\nYou are entering this break point because derivation '${derivation.name}' is being traced and '${observable.name}' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n${derivation instanceof ComputedValue ? derivation.derivation.toString().replace(/[*]\\//g, \"/\") : \"\"}\n\nThe dependencies for this derivation are:\n\n${lines.join(\"\\n\")}\n*/\n    `)();\n    }\n}\nfunction printDepTree(tree, lines, depth) {\n    if (lines.length >= 1000) {\n        lines.push(\"(and many more)\");\n        return;\n    }\n    lines.push(`${new Array(depth).join(\"\\t\")}${tree.name}`); // MWE: not the fastest, but the easiest way :)\n    if (tree.dependencies)\n        tree.dependencies.forEach(child => printDepTree(child, lines, depth + 1));\n}\n\nclass Reaction {\n    constructor(name = \"Reaction@\" + getNextId(), onInvalidate, errorHandler, requiresObservable = false) {\n        this.name = name;\n        this.onInvalidate = onInvalidate;\n        this.errorHandler = errorHandler;\n        this.requiresObservable = requiresObservable;\n        this.observing = []; // nodes we are looking at. Our value depends on these nodes\n        this.newObserving = [];\n        this.dependenciesState = IDerivationState.NOT_TRACKING;\n        this.diffValue = 0;\n        this.runId = 0;\n        this.unboundDepsCount = 0;\n        this.__mapid = \"#\" + getNextId();\n        this.isDisposed = false;\n        this._isScheduled = false;\n        this._isTrackPending = false;\n        this._isRunning = false;\n        this.isTracing = TraceMode.NONE;\n    }\n    onBecomeStale() {\n        this.schedule();\n    }\n    schedule() {\n        if (!this._isScheduled) {\n            this._isScheduled = true;\n            globalState.pendingReactions.push(this);\n            runReactions();\n        }\n    }\n    isScheduled() {\n        return this._isScheduled;\n    }\n    /**\n     * internal, use schedule() if you intend to kick off a reaction\n     */\n    runReaction() {\n        if (!this.isDisposed) {\n            startBatch();\n            this._isScheduled = false;\n            if (shouldCompute(this)) {\n                this._isTrackPending = true;\n                try {\n                    this.onInvalidate();\n                    if (this._isTrackPending &&\n                        isSpyEnabled() &&\n                        process.env.NODE_ENV !== \"production\") {\n                        // onInvalidate didn't trigger track right away..\n                        spyReport({\n                            name: this.name,\n                            type: \"scheduled-reaction\"\n                        });\n                    }\n                }\n                catch (e) {\n                    this.reportExceptionInDerivation(e);\n                }\n            }\n            endBatch();\n        }\n    }\n    track(fn) {\n        if (this.isDisposed) {\n            return;\n            // console.warn(\"Reaction already disposed\") // Note: Not a warning / error in mobx 4 either\n        }\n        startBatch();\n        const notify = isSpyEnabled();\n        let startTime;\n        if (notify && process.env.NODE_ENV !== \"production\") {\n            startTime = Date.now();\n            spyReportStart({\n                name: this.name,\n                type: \"reaction\"\n            });\n        }\n        this._isRunning = true;\n        const result = trackDerivedFunction(this, fn, undefined);\n        this._isRunning = false;\n        this._isTrackPending = false;\n        if (this.isDisposed) {\n            // disposed during last run. Clean up everything that was bound after the dispose call.\n            clearObserving(this);\n        }\n        if (isCaughtException(result))\n            this.reportExceptionInDerivation(result.cause);\n        if (notify && process.env.NODE_ENV !== \"production\") {\n            spyReportEnd({\n                time: Date.now() - startTime\n            });\n        }\n        endBatch();\n    }\n    reportExceptionInDerivation(error) {\n        if (this.errorHandler) {\n            this.errorHandler(error, this);\n            return;\n        }\n        if (globalState.disableErrorBoundaries)\n            throw error;\n        const message = `[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '${this}'`;\n        if (globalState.suppressReactionErrors) {\n            console.warn(`[mobx] (error in reaction '${this.name}' suppressed, fix error of causing action below)`); // prettier-ignore\n        }\n        else {\n            console.error(message, error);\n            /** If debugging brought you here, please, read the above message :-). Tnx! */\n        }\n        if (isSpyEnabled()) {\n            spyReport({\n                type: \"error\",\n                name: this.name,\n                message,\n                error: \"\" + error\n            });\n        }\n        globalState.globalReactionErrorHandlers.forEach(f => f(error, this));\n    }\n    dispose() {\n        if (!this.isDisposed) {\n            this.isDisposed = true;\n            if (!this._isRunning) {\n                // if disposed while running, clean up later. Maybe not optimal, but rare case\n                startBatch();\n                clearObserving(this);\n                endBatch();\n            }\n        }\n    }\n    getDisposer() {\n        const r = this.dispose.bind(this);\n        r[$mobx] = this;\n        return r;\n    }\n    toString() {\n        return `Reaction[${this.name}]`;\n    }\n    trace(enterBreakPoint = false) {\n        trace(this, enterBreakPoint);\n    }\n}\nfunction onReactionError(handler) {\n    globalState.globalReactionErrorHandlers.push(handler);\n    return () => {\n        const idx = globalState.globalReactionErrorHandlers.indexOf(handler);\n        if (idx >= 0)\n            globalState.globalReactionErrorHandlers.splice(idx, 1);\n    };\n}\n/**\n * Magic number alert!\n * Defines within how many times a reaction is allowed to re-trigger itself\n * until it is assumed that this is gonna be a never ending loop...\n */\nconst MAX_REACTION_ITERATIONS = 100;\nlet reactionScheduler = f => f();\nfunction runReactions() {\n    // Trampolining, if runReactions are already running, new reactions will be picked up\n    if (globalState.inBatch > 0 || globalState.isRunningReactions)\n        return;\n    reactionScheduler(runReactionsHelper);\n}\nfunction runReactionsHelper() {\n    globalState.isRunningReactions = true;\n    const allReactions = globalState.pendingReactions;\n    let iterations = 0;\n    // While running reactions, new reactions might be triggered.\n    // Hence we work with two variables and check whether\n    // we converge to no remaining reactions after a while.\n    while (allReactions.length > 0) {\n        if (++iterations === MAX_REACTION_ITERATIONS) {\n            console.error(`Reaction doesn't converge to a stable state after ${MAX_REACTION_ITERATIONS} iterations.` +\n                ` Probably there is a cycle in the reactive function: ${allReactions[0]}`);\n            allReactions.splice(0); // clear reactions\n        }\n        let remainingReactions = allReactions.splice(0);\n        for (let i = 0, l = remainingReactions.length; i < l; i++)\n            remainingReactions[i].runReaction();\n    }\n    globalState.isRunningReactions = false;\n}\nconst isReaction = createInstanceofPredicate(\"Reaction\", Reaction);\nfunction setReactionScheduler(fn) {\n    const baseScheduler = reactionScheduler;\n    reactionScheduler = f => fn(() => baseScheduler(f));\n}\n\nfunction isSpyEnabled() {\n    return process.env.NODE_ENV !== \"production\" && !!globalState.spyListeners.length;\n}\nfunction spyReport(event) {\n    if (process.env.NODE_ENV === \"production\")\n        return; // dead code elimination can do the rest\n    if (!globalState.spyListeners.length)\n        return;\n    const listeners = globalState.spyListeners;\n    for (let i = 0, l = listeners.length; i < l; i++)\n        listeners[i](event);\n}\nfunction spyReportStart(event) {\n    if (process.env.NODE_ENV === \"production\")\n        return;\n    const change = Object.assign(Object.assign({}, event), { spyReportStart: true });\n    spyReport(change);\n}\nconst END_EVENT = { spyReportEnd: true };\nfunction spyReportEnd(change) {\n    if (process.env.NODE_ENV === \"production\")\n        return;\n    if (change)\n        spyReport(Object.assign(Object.assign({}, change), { spyReportEnd: true }));\n    else\n        spyReport(END_EVENT);\n}\nfunction spy(listener) {\n    if (process.env.NODE_ENV === \"production\") {\n        console.warn(`[mobx.spy] Is a no-op in production builds`);\n        return function () { };\n    }\n    else {\n        globalState.spyListeners.push(listener);\n        return once(() => {\n            globalState.spyListeners = globalState.spyListeners.filter(l => l !== listener);\n        });\n    }\n}\n\nfunction dontReassignFields() {\n    fail(process.env.NODE_ENV !== \"production\" && \"@action fields are not reassignable\");\n}\nfunction namedActionDecorator(name) {\n    return function (target, prop, descriptor) {\n        if (descriptor) {\n            if (process.env.NODE_ENV !== \"production\" && descriptor.get !== undefined) {\n                return fail(\"@action cannot be used with getters\");\n            }\n            // babel / typescript\n            // @action method() { }\n            if (descriptor.value) {\n                // typescript\n                return {\n                    value: createAction(name, descriptor.value),\n                    enumerable: false,\n                    configurable: true,\n                    writable: true // for typescript, this must be writable, otherwise it cannot inherit :/ (see inheritable actions test)\n                };\n            }\n            // babel only: @action method = () => {}\n            const { initializer } = descriptor;\n            return {\n                enumerable: false,\n                configurable: true,\n                writable: true,\n                initializer() {\n                    // N.B: we can't immediately invoke initializer; this would be wrong\n                    return createAction(name, initializer.call(this));\n                }\n            };\n        }\n        // bound instance methods\n        return actionFieldDecorator(name).apply(this, arguments);\n    };\n}\nfunction actionFieldDecorator(name) {\n    // Simple property that writes on first invocation to the current instance\n    return function (target, prop, descriptor) {\n        Object.defineProperty(target, prop, {\n            configurable: true,\n            enumerable: false,\n            get() {\n                return undefined;\n            },\n            set(value) {\n                addHiddenProp(this, prop, action(name, value));\n            }\n        });\n    };\n}\nfunction boundActionDecorator(target, propertyName, descriptor, applyToInstance) {\n    if (applyToInstance === true) {\n        defineBoundAction(target, propertyName, descriptor.value);\n        return null;\n    }\n    if (descriptor) {\n        // if (descriptor.value)\n        // Typescript / Babel: @action.bound method() { }\n        // also: babel @action.bound method = () => {}\n        return {\n            configurable: true,\n            enumerable: false,\n            get() {\n                defineBoundAction(this, propertyName, descriptor.value || descriptor.initializer.call(this));\n                return this[propertyName];\n            },\n            set: dontReassignFields\n        };\n    }\n    // field decorator Typescript @action.bound method = () => {}\n    return {\n        enumerable: false,\n        configurable: true,\n        set(v) {\n            defineBoundAction(this, propertyName, v);\n        },\n        get() {\n            return undefined;\n        }\n    };\n}\n\nconst action = function action(arg1, arg2, arg3, arg4) {\n    // action(fn() {})\n    if (arguments.length === 1 && typeof arg1 === \"function\")\n        return createAction(arg1.name || \"<unnamed action>\", arg1);\n    // action(\"name\", fn() {})\n    if (arguments.length === 2 && typeof arg2 === \"function\")\n        return createAction(arg1, arg2);\n    // @action(\"name\") fn() {}\n    if (arguments.length === 1 && typeof arg1 === \"string\")\n        return namedActionDecorator(arg1);\n    // @action fn() {}\n    if (arg4 === true) {\n        // apply to instance immediately\n        addHiddenProp(arg1, arg2, createAction(arg1.name || arg2, arg3.value, this));\n    }\n    else {\n        return namedActionDecorator(arg2).apply(null, arguments);\n    }\n};\naction.bound = boundActionDecorator;\nfunction runInAction(arg1, arg2) {\n    const actionName = typeof arg1 === \"string\" ? arg1 : arg1.name || \"<unnamed action>\";\n    const fn = typeof arg1 === \"function\" ? arg1 : arg2;\n    if (process.env.NODE_ENV !== \"production\") {\n        invariant(typeof fn === \"function\" && fn.length === 0, \"`runInAction` expects a function without arguments\");\n        if (typeof actionName !== \"string\" || !actionName)\n            fail(`actions should have valid names, got: '${actionName}'`);\n    }\n    return executeAction(actionName, fn, this, undefined);\n}\nfunction isAction(thing) {\n    return typeof thing === \"function\" && thing.isMobxAction === true;\n}\nfunction defineBoundAction(target, propertyName, fn) {\n    addHiddenProp(target, propertyName, createAction(propertyName, fn.bind(target)));\n}\n\n/**\n * Creates a named reactive view and keeps it alive, so that the view is always\n * updated if one of the dependencies changes, even when the view is not further used by something else.\n * @param view The reactive view\n * @returns disposer function, which can be used to stop the view from being updated in the future.\n */\nfunction autorun(view, opts = EMPTY_OBJECT) {\n    if (process.env.NODE_ENV !== \"production\") {\n        invariant(typeof view === \"function\", \"Autorun expects a function as first argument\");\n        invariant(isAction(view) === false, \"Autorun does not accept actions since actions are untrackable\");\n    }\n    const name = (opts && opts.name) || view.name || \"Autorun@\" + getNextId();\n    const runSync = !opts.scheduler && !opts.delay;\n    let reaction;\n    if (runSync) {\n        // normal autorun\n        reaction = new Reaction(name, function () {\n            this.track(reactionRunner);\n        }, opts.onError, opts.requiresObservable);\n    }\n    else {\n        const scheduler = createSchedulerFromOptions(opts);\n        // debounced autorun\n        let isScheduled = false;\n        reaction = new Reaction(name, () => {\n            if (!isScheduled) {\n                isScheduled = true;\n                scheduler(() => {\n                    isScheduled = false;\n                    if (!reaction.isDisposed)\n                        reaction.track(reactionRunner);\n                });\n            }\n        }, opts.onError, opts.requiresObservable);\n    }\n    function reactionRunner() {\n        view(reaction);\n    }\n    reaction.schedule();\n    return reaction.getDisposer();\n}\nconst run = (f) => f();\nfunction createSchedulerFromOptions(opts) {\n    return opts.scheduler\n        ? opts.scheduler\n        : opts.delay\n            ? (f) => setTimeout(f, opts.delay)\n            : run;\n}\nfunction reaction(expression, effect, opts = EMPTY_OBJECT) {\n    if (process.env.NODE_ENV !== \"production\") {\n        invariant(typeof expression === \"function\", \"First argument to reaction should be a function\");\n        invariant(typeof opts === \"object\", \"Third argument of reactions should be an object\");\n    }\n    const name = opts.name || \"Reaction@\" + getNextId();\n    const effectAction = action(name, opts.onError ? wrapErrorHandler(opts.onError, effect) : effect);\n    const runSync = !opts.scheduler && !opts.delay;\n    const scheduler = createSchedulerFromOptions(opts);\n    let firstTime = true;\n    let isScheduled = false;\n    let value;\n    const equals = opts.compareStructural\n        ? comparer.structural\n        : opts.equals || comparer.default;\n    const r = new Reaction(name, () => {\n        if (firstTime || runSync) {\n            reactionRunner();\n        }\n        else if (!isScheduled) {\n            isScheduled = true;\n            scheduler(reactionRunner);\n        }\n    }, opts.onError, opts.requiresObservable);\n    function reactionRunner() {\n        isScheduled = false; // Q: move into reaction runner?\n        if (r.isDisposed)\n            return;\n        let changed = false;\n        r.track(() => {\n            const nextValue = expression(r);\n            changed = firstTime || !equals(value, nextValue);\n            value = nextValue;\n        });\n        if (firstTime && opts.fireImmediately)\n            effectAction(value, r);\n        if (!firstTime && changed === true)\n            effectAction(value, r);\n        if (firstTime)\n            firstTime = false;\n    }\n    r.schedule();\n    return r.getDisposer();\n}\nfunction wrapErrorHandler(errorHandler, baseFn) {\n    return function () {\n        try {\n            return baseFn.apply(this, arguments);\n        }\n        catch (e) {\n            errorHandler.call(this, e);\n        }\n    };\n}\n\nfunction onBecomeObserved(thing, arg2, arg3) {\n    return interceptHook(\"onBecomeObserved\", thing, arg2, arg3);\n}\nfunction onBecomeUnobserved(thing, arg2, arg3) {\n    return interceptHook(\"onBecomeUnobserved\", thing, arg2, arg3);\n}\nfunction interceptHook(hook, thing, arg2, arg3) {\n    const atom = typeof arg3 === \"function\" ? getAtom(thing, arg2) : getAtom(thing);\n    const cb = typeof arg3 === \"function\" ? arg3 : arg2;\n    const listenersKey = `${hook}Listeners`;\n    if (atom[listenersKey]) {\n        atom[listenersKey].add(cb);\n    }\n    else {\n        atom[listenersKey] = new Set([cb]);\n    }\n    const orig = atom[hook];\n    if (typeof orig !== \"function\")\n        return fail(process.env.NODE_ENV !== \"production\" && \"Not an atom that can be (un)observed\");\n    return function () {\n        const hookListeners = atom[listenersKey];\n        if (hookListeners) {\n            hookListeners.delete(cb);\n            if (hookListeners.size === 0) {\n                delete atom[listenersKey];\n            }\n        }\n    };\n}\n\nfunction configure(options) {\n    const { enforceActions, computedRequiresReaction, computedConfigurable, disableErrorBoundaries, reactionScheduler, reactionRequiresObservable, observableRequiresReaction } = options;\n    if (options.isolateGlobalState === true) {\n        isolateGlobalState();\n    }\n    if (enforceActions !== undefined) {\n        if (typeof enforceActions === \"boolean\" || enforceActions === \"strict\")\n            deprecated(`Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead`);\n        let ea;\n        switch (enforceActions) {\n            case true:\n            case \"observed\":\n                ea = true;\n                break;\n            case false:\n            case \"never\":\n                ea = false;\n                break;\n            case \"strict\":\n            case \"always\":\n                ea = \"strict\";\n                break;\n            default:\n                fail(`Invalid value for 'enforceActions': '${enforceActions}', expected 'never', 'always' or 'observed'`);\n        }\n        globalState.enforceActions = ea;\n        globalState.allowStateChanges = ea === true || ea === \"strict\" ? false : true;\n    }\n    if (computedRequiresReaction !== undefined) {\n        globalState.computedRequiresReaction = !!computedRequiresReaction;\n    }\n    if (reactionRequiresObservable !== undefined) {\n        globalState.reactionRequiresObservable = !!reactionRequiresObservable;\n    }\n    if (observableRequiresReaction !== undefined) {\n        globalState.observableRequiresReaction = !!observableRequiresReaction;\n        globalState.allowStateReads = !globalState.observableRequiresReaction;\n    }\n    if (computedConfigurable !== undefined) {\n        globalState.computedConfigurable = !!computedConfigurable;\n    }\n    if (disableErrorBoundaries !== undefined) {\n        if (disableErrorBoundaries === true)\n            console.warn(\"WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled.\");\n        globalState.disableErrorBoundaries = !!disableErrorBoundaries;\n    }\n    if (reactionScheduler) {\n        setReactionScheduler(reactionScheduler);\n    }\n}\n\nfunction decorate(thing, decorators) {\n    process.env.NODE_ENV !== \"production\" &&\n        invariant(isPlainObject(decorators), \"Decorators should be a key value map\");\n    const target = typeof thing === \"function\" ? thing.prototype : thing;\n    for (let prop in decorators) {\n        let propertyDecorators = decorators[prop];\n        if (!Array.isArray(propertyDecorators)) {\n            propertyDecorators = [propertyDecorators];\n        }\n        process.env.NODE_ENV !== \"production\" &&\n            invariant(propertyDecorators.every(decorator => typeof decorator === \"function\"), `Decorate: expected a decorator function or array of decorator functions for '${prop}'`);\n        const descriptor = Object.getOwnPropertyDescriptor(target, prop);\n        const newDescriptor = propertyDecorators.reduce((accDescriptor, decorator) => decorator(target, prop, accDescriptor), descriptor);\n        if (newDescriptor)\n            Object.defineProperty(target, prop, newDescriptor);\n    }\n    return thing;\n}\n\nfunction extendObservable(target, properties, decorators, options) {\n    if (process.env.NODE_ENV !== \"production\") {\n        invariant(arguments.length >= 2 && arguments.length <= 4, \"'extendObservable' expected 2-4 arguments\");\n        invariant(typeof target === \"object\", \"'extendObservable' expects an object as first argument\");\n        invariant(!isObservableMap(target), \"'extendObservable' should not be used on maps, use map.merge instead\");\n    }\n    options = asCreateObservableOptions(options);\n    const defaultDecorator = getDefaultDecoratorFromObjectOptions(options);\n    initializeInstance(target); // Fixes #1740\n    asObservableObject(target, options.name, defaultDecorator.enhancer); // make sure object is observable, even without initial props\n    if (properties)\n        extendObservableObjectWithProperties(target, properties, decorators, defaultDecorator);\n    return target;\n}\nfunction getDefaultDecoratorFromObjectOptions(options) {\n    return options.defaultDecorator || (options.deep === false ? refDecorator : deepDecorator);\n}\nfunction extendObservableObjectWithProperties(target, properties, decorators, defaultDecorator) {\n    if (process.env.NODE_ENV !== \"production\") {\n        invariant(!isObservable(properties), \"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540\");\n        if (decorators) {\n            const keys = getPlainObjectKeys(decorators);\n            for (const key of keys) {\n                if (!(key in properties))\n                    fail(`Trying to declare a decorator for unspecified property '${stringifyKey(key)}'`);\n            }\n        }\n    }\n    startBatch();\n    try {\n        const keys = getPlainObjectKeys(properties);\n        for (const key of keys) {\n            const descriptor = Object.getOwnPropertyDescriptor(properties, key);\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!isPlainObject(properties))\n                    fail(`'extendObservabe' only accepts plain objects as second argument`);\n                if (Object.getOwnPropertyDescriptor(target, key))\n                    fail(`'extendObservable' can only be used to introduce new properties. Use 'set' or 'decorate' instead. The property '${stringifyKey(key)}' already exists on '${target}'`);\n                if (isComputed(descriptor.value))\n                    fail(`Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead`);\n            }\n            const decorator = decorators && key in decorators\n                ? decorators[key]\n                : descriptor.get\n                    ? computedDecorator\n                    : defaultDecorator;\n            if (process.env.NODE_ENV !== \"production\" && typeof decorator !== \"function\")\n                fail(`Not a valid decorator for '${stringifyKey(key)}', got: ${decorator}`);\n            const resultDescriptor = decorator(target, key, descriptor, true);\n            if (resultDescriptor // otherwise, assume already applied, due to `applyToInstance`\n            )\n                Object.defineProperty(target, key, resultDescriptor);\n        }\n    }\n    finally {\n        endBatch();\n    }\n}\n\nfunction getDependencyTree(thing, property) {\n    return nodeToDependencyTree(getAtom(thing, property));\n}\nfunction nodeToDependencyTree(node) {\n    const result = {\n        name: node.name\n    };\n    if (node.observing && node.observing.length > 0)\n        result.dependencies = unique(node.observing).map(nodeToDependencyTree);\n    return result;\n}\nfunction getObserverTree(thing, property) {\n    return nodeToObserverTree(getAtom(thing, property));\n}\nfunction nodeToObserverTree(node) {\n    const result = {\n        name: node.name\n    };\n    if (hasObservers(node))\n        result.observers = Array.from(getObservers(node)).map(nodeToObserverTree);\n    return result;\n}\n\nlet generatorId = 0;\nclass FlowCancellationError extends Error {\n    constructor() {\n        super(\"FLOW_CANCELLED\");\n    }\n}\nfunction isFlowCancellationError(error) {\n    return error instanceof FlowCancellationError;\n}\nfunction flow(generator) {\n    if (arguments.length !== 1)\n        fail(!!process.env.NODE_ENV && `Flow expects 1 argument and cannot be used as decorator`);\n    const name = generator.name || \"<unnamed flow>\";\n    // Implementation based on https://github.com/tj/co/blob/master/index.js\n    return function () {\n        const ctx = this;\n        const args = arguments;\n        const runId = ++generatorId;\n        const gen = action(`${name} - runid: ${runId} - init`, generator).apply(ctx, args);\n        let rejector;\n        let pendingPromise = undefined;\n        const promise = new Promise(function (resolve, reject) {\n            let stepId = 0;\n            rejector = reject;\n            function onFulfilled(res) {\n                pendingPromise = undefined;\n                let ret;\n                try {\n                    ret = action(`${name} - runid: ${runId} - yield ${stepId++}`, gen.next).call(gen, res);\n                }\n                catch (e) {\n                    return reject(e);\n                }\n                next(ret);\n            }\n            function onRejected(err) {\n                pendingPromise = undefined;\n                let ret;\n                try {\n                    ret = action(`${name} - runid: ${runId} - yield ${stepId++}`, gen.throw).call(gen, err);\n                }\n                catch (e) {\n                    return reject(e);\n                }\n                next(ret);\n            }\n            function next(ret) {\n                if (ret && typeof ret.then === \"function\") {\n                    // an async iterator\n                    ret.then(next, reject);\n                    return;\n                }\n                if (ret.done)\n                    return resolve(ret.value);\n                pendingPromise = Promise.resolve(ret.value);\n                return pendingPromise.then(onFulfilled, onRejected);\n            }\n            onFulfilled(undefined); // kick off the process\n        });\n        promise.cancel = action(`${name} - runid: ${runId} - cancel`, function () {\n            try {\n                if (pendingPromise)\n                    cancelPromise(pendingPromise);\n                // Finally block can return (or yield) stuff..\n                const res = gen.return(undefined);\n                // eat anything that promise would do, it's cancelled!\n                const yieldedPromise = Promise.resolve(res.value);\n                yieldedPromise.then(noop, noop);\n                cancelPromise(yieldedPromise); // maybe it can be cancelled :)\n                // reject our original promise\n                rejector(new FlowCancellationError());\n            }\n            catch (e) {\n                rejector(e); // there could be a throwing finally block\n            }\n        });\n        return promise;\n    };\n}\nfunction cancelPromise(promise) {\n    if (typeof promise.cancel === \"function\")\n        promise.cancel();\n}\n\nfunction interceptReads(thing, propOrHandler, handler) {\n    let target;\n    if (isObservableMap(thing) || isObservableArray(thing) || isObservableValue(thing)) {\n        target = getAdministration(thing);\n    }\n    else if (isObservableObject(thing)) {\n        if (typeof propOrHandler !== \"string\")\n            return fail(process.env.NODE_ENV !== \"production\" &&\n                `InterceptReads can only be used with a specific property, not with an object in general`);\n        target = getAdministration(thing, propOrHandler);\n    }\n    else {\n        return fail(process.env.NODE_ENV !== \"production\" &&\n            `Expected observable map, object or array as first array`);\n    }\n    if (target.dehancer !== undefined)\n        return fail(process.env.NODE_ENV !== \"production\" && `An intercept reader was already established`);\n    target.dehancer = typeof propOrHandler === \"function\" ? propOrHandler : handler;\n    return () => {\n        target.dehancer = undefined;\n    };\n}\n\nfunction intercept(thing, propOrHandler, handler) {\n    if (typeof handler === \"function\")\n        return interceptProperty(thing, propOrHandler, handler);\n    else\n        return interceptInterceptable(thing, propOrHandler);\n}\nfunction interceptInterceptable(thing, handler) {\n    return getAdministration(thing).intercept(handler);\n}\nfunction interceptProperty(thing, property, handler) {\n    return getAdministration(thing, property).intercept(handler);\n}\n\nfunction _isComputed(value, property) {\n    if (value === null || value === undefined)\n        return false;\n    if (property !== undefined) {\n        if (isObservableObject(value) === false)\n            return false;\n        if (!value[$mobx].values.has(property))\n            return false;\n        const atom = getAtom(value, property);\n        return isComputedValue(atom);\n    }\n    return isComputedValue(value);\n}\nfunction isComputed(value) {\n    if (arguments.length > 1)\n        return fail(process.env.NODE_ENV !== \"production\" &&\n            `isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property`);\n    return _isComputed(value);\n}\nfunction isComputedProp(value, propName) {\n    if (typeof propName !== \"string\")\n        return fail(process.env.NODE_ENV !== \"production\" &&\n            `isComputed expected a property name as second argument`);\n    return _isComputed(value, propName);\n}\n\nfunction _isObservable(value, property) {\n    if (value === null || value === undefined)\n        return false;\n    if (property !== undefined) {\n        if (process.env.NODE_ENV !== \"production\" &&\n            (isObservableMap(value) || isObservableArray(value)))\n            return fail(\"isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.\");\n        if (isObservableObject(value)) {\n            return value[$mobx].values.has(property);\n        }\n        return false;\n    }\n    // For first check, see #701\n    return (isObservableObject(value) ||\n        !!value[$mobx] ||\n        isAtom(value) ||\n        isReaction(value) ||\n        isComputedValue(value));\n}\nfunction isObservable(value) {\n    if (arguments.length !== 1)\n        fail(process.env.NODE_ENV !== \"production\" &&\n            `isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property`);\n    return _isObservable(value);\n}\nfunction isObservableProp(value, propName) {\n    if (typeof propName !== \"string\")\n        return fail(process.env.NODE_ENV !== \"production\" && `expected a property name as second argument`);\n    return _isObservable(value, propName);\n}\n\nfunction keys(obj) {\n    if (isObservableObject(obj)) {\n        return obj[$mobx].getKeys();\n    }\n    if (isObservableMap(obj)) {\n        return Array.from(obj.keys());\n    }\n    if (isObservableSet(obj)) {\n        return Array.from(obj.keys());\n    }\n    if (isObservableArray(obj)) {\n        return obj.map((_, index) => index);\n    }\n    return fail(process.env.NODE_ENV !== \"production\" &&\n        \"'keys()' can only be used on observable objects, arrays, sets and maps\");\n}\nfunction values(obj) {\n    if (isObservableObject(obj)) {\n        return keys(obj).map(key => obj[key]);\n    }\n    if (isObservableMap(obj)) {\n        return keys(obj).map(key => obj.get(key));\n    }\n    if (isObservableSet(obj)) {\n        return Array.from(obj.values());\n    }\n    if (isObservableArray(obj)) {\n        return obj.slice();\n    }\n    return fail(process.env.NODE_ENV !== \"production\" &&\n        \"'values()' can only be used on observable objects, arrays, sets and maps\");\n}\nfunction entries(obj) {\n    if (isObservableObject(obj)) {\n        return keys(obj).map(key => [key, obj[key]]);\n    }\n    if (isObservableMap(obj)) {\n        return keys(obj).map(key => [key, obj.get(key)]);\n    }\n    if (isObservableSet(obj)) {\n        return Array.from(obj.entries());\n    }\n    if (isObservableArray(obj)) {\n        return obj.map((key, index) => [index, key]);\n    }\n    return fail(process.env.NODE_ENV !== \"production\" &&\n        \"'entries()' can only be used on observable objects, arrays and maps\");\n}\nfunction set(obj, key, value) {\n    if (arguments.length === 2 && !isObservableSet(obj)) {\n        startBatch();\n        const values = key;\n        try {\n            for (let key in values)\n                set(obj, key, values[key]);\n        }\n        finally {\n            endBatch();\n        }\n        return;\n    }\n    if (isObservableObject(obj)) {\n        const adm = obj[$mobx];\n        const existingObservable = adm.values.get(key);\n        if (existingObservable) {\n            adm.write(key, value);\n        }\n        else {\n            adm.addObservableProp(key, value, adm.defaultEnhancer);\n        }\n    }\n    else if (isObservableMap(obj)) {\n        obj.set(key, value);\n    }\n    else if (isObservableSet(obj)) {\n        obj.add(key);\n    }\n    else if (isObservableArray(obj)) {\n        if (typeof key !== \"number\")\n            key = parseInt(key, 10);\n        invariant(key >= 0, `Not a valid index: '${key}'`);\n        startBatch();\n        if (key >= obj.length)\n            obj.length = key + 1;\n        obj[key] = value;\n        endBatch();\n    }\n    else {\n        return fail(process.env.NODE_ENV !== \"production\" &&\n            \"'set()' can only be used on observable objects, arrays and maps\");\n    }\n}\nfunction remove(obj, key) {\n    if (isObservableObject(obj)) {\n        obj[$mobx].remove(key);\n    }\n    else if (isObservableMap(obj)) {\n        obj.delete(key);\n    }\n    else if (isObservableSet(obj)) {\n        obj.delete(key);\n    }\n    else if (isObservableArray(obj)) {\n        if (typeof key !== \"number\")\n            key = parseInt(key, 10);\n        invariant(key >= 0, `Not a valid index: '${key}'`);\n        obj.splice(key, 1);\n    }\n    else {\n        return fail(process.env.NODE_ENV !== \"production\" &&\n            \"'remove()' can only be used on observable objects, arrays and maps\");\n    }\n}\nfunction has(obj, key) {\n    if (isObservableObject(obj)) {\n        // return keys(obj).indexOf(key) >= 0\n        const adm = getAdministration(obj);\n        return adm.has(key);\n    }\n    else if (isObservableMap(obj)) {\n        return obj.has(key);\n    }\n    else if (isObservableSet(obj)) {\n        return obj.has(key);\n    }\n    else if (isObservableArray(obj)) {\n        return key >= 0 && key < obj.length;\n    }\n    else {\n        return fail(process.env.NODE_ENV !== \"production\" &&\n            \"'has()' can only be used on observable objects, arrays and maps\");\n    }\n}\nfunction get(obj, key) {\n    if (!has(obj, key))\n        return undefined;\n    if (isObservableObject(obj)) {\n        return obj[key];\n    }\n    else if (isObservableMap(obj)) {\n        return obj.get(key);\n    }\n    else if (isObservableArray(obj)) {\n        return obj[key];\n    }\n    else {\n        return fail(process.env.NODE_ENV !== \"production\" &&\n            \"'get()' can only be used on observable objects, arrays and maps\");\n    }\n}\n\nfunction observe(thing, propOrCb, cbOrFire, fireImmediately) {\n    if (typeof cbOrFire === \"function\")\n        return observeObservableProperty(thing, propOrCb, cbOrFire, fireImmediately);\n    else\n        return observeObservable(thing, propOrCb, cbOrFire);\n}\nfunction observeObservable(thing, listener, fireImmediately) {\n    return getAdministration(thing).observe(listener, fireImmediately);\n}\nfunction observeObservableProperty(thing, property, listener, fireImmediately) {\n    return getAdministration(thing, property).observe(listener, fireImmediately);\n}\n\nconst defaultOptions = {\n    detectCycles: true,\n    exportMapsAsObjects: true,\n    recurseEverything: false\n};\nfunction cache(map, key, value, options) {\n    if (options.detectCycles)\n        map.set(key, value);\n    return value;\n}\nfunction toJSHelper(source, options, __alreadySeen) {\n    if (!options.recurseEverything && !isObservable(source))\n        return source;\n    if (typeof source !== \"object\")\n        return source;\n    // Directly return null if source is null\n    if (source === null)\n        return null;\n    // Directly return the Date object itself if contained in the observable\n    if (source instanceof Date)\n        return source;\n    if (isObservableValue(source))\n        return toJSHelper(source.get(), options, __alreadySeen);\n    // make sure we track the keys of the object\n    if (isObservable(source))\n        keys(source);\n    const detectCycles = options.detectCycles === true;\n    if (detectCycles && source !== null && __alreadySeen.has(source)) {\n        return __alreadySeen.get(source);\n    }\n    if (isObservableArray(source) || Array.isArray(source)) {\n        const res = cache(__alreadySeen, source, [], options);\n        const toAdd = source.map(value => toJSHelper(value, options, __alreadySeen));\n        res.length = toAdd.length;\n        for (let i = 0, l = toAdd.length; i < l; i++)\n            res[i] = toAdd[i];\n        return res;\n    }\n    if (isObservableSet(source) || Object.getPrototypeOf(source) === Set.prototype) {\n        if (options.exportMapsAsObjects === false) {\n            const res = cache(__alreadySeen, source, new Set(), options);\n            source.forEach(value => {\n                res.add(toJSHelper(value, options, __alreadySeen));\n            });\n            return res;\n        }\n        else {\n            const res = cache(__alreadySeen, source, [], options);\n            source.forEach(value => {\n                res.push(toJSHelper(value, options, __alreadySeen));\n            });\n            return res;\n        }\n    }\n    if (isObservableMap(source) || Object.getPrototypeOf(source) === Map.prototype) {\n        if (options.exportMapsAsObjects === false) {\n            const res = cache(__alreadySeen, source, new Map(), options);\n            source.forEach((value, key) => {\n                res.set(key, toJSHelper(value, options, __alreadySeen));\n            });\n            return res;\n        }\n        else {\n            const res = cache(__alreadySeen, source, {}, options);\n            source.forEach((value, key) => {\n                res[key] = toJSHelper(value, options, __alreadySeen);\n            });\n            return res;\n        }\n    }\n    // Fallback to the situation that source is an ObservableObject or a plain object\n    const res = cache(__alreadySeen, source, {}, options);\n    getPlainObjectKeys(source).forEach(key => {\n        res[key] = toJSHelper(source[key], options, __alreadySeen);\n    });\n    return res;\n}\nfunction toJS(source, options) {\n    // backward compatibility\n    if (typeof options === \"boolean\")\n        options = { detectCycles: options };\n    if (!options)\n        options = defaultOptions;\n    options.detectCycles =\n        options.detectCycles === undefined\n            ? options.recurseEverything === true\n            : options.detectCycles === true;\n    let __alreadySeen;\n    if (options.detectCycles)\n        __alreadySeen = new Map();\n    return toJSHelper(source, options, __alreadySeen);\n}\n\nfunction trace(...args) {\n    let enterBreakPoint = false;\n    if (typeof args[args.length - 1] === \"boolean\")\n        enterBreakPoint = args.pop();\n    const derivation = getAtomFromArgs(args);\n    if (!derivation) {\n        return fail(process.env.NODE_ENV !== \"production\" &&\n            `'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly`);\n    }\n    if (derivation.isTracing === TraceMode.NONE) {\n        console.log(`[mobx.trace] '${derivation.name}' tracing enabled`);\n    }\n    derivation.isTracing = enterBreakPoint ? TraceMode.BREAK : TraceMode.LOG;\n}\nfunction getAtomFromArgs(args) {\n    switch (args.length) {\n        case 0:\n            return globalState.trackingDerivation;\n        case 1:\n            return getAtom(args[0]);\n        case 2:\n            return getAtom(args[0], args[1]);\n    }\n}\n\n/**\n * During a transaction no views are updated until the end of the transaction.\n * The transaction will be run synchronously nonetheless.\n *\n * @param action a function that updates some reactive state\n * @returns any value that was returned by the 'action' parameter.\n */\nfunction transaction(action, thisArg = undefined) {\n    startBatch();\n    try {\n        return action.apply(thisArg);\n    }\n    finally {\n        endBatch();\n    }\n}\n\nfunction when(predicate, arg1, arg2) {\n    if (arguments.length === 1 || (arg1 && typeof arg1 === \"object\"))\n        return whenPromise(predicate, arg1);\n    return _when(predicate, arg1, arg2 || {});\n}\nfunction _when(predicate, effect, opts) {\n    let timeoutHandle;\n    if (typeof opts.timeout === \"number\") {\n        timeoutHandle = setTimeout(() => {\n            if (!disposer[$mobx].isDisposed) {\n                disposer();\n                const error = new Error(\"WHEN_TIMEOUT\");\n                if (opts.onError)\n                    opts.onError(error);\n                else\n                    throw error;\n            }\n        }, opts.timeout);\n    }\n    opts.name = opts.name || \"When@\" + getNextId();\n    const effectAction = createAction(opts.name + \"-effect\", effect);\n    const disposer = autorun(r => {\n        if (predicate()) {\n            r.dispose();\n            if (timeoutHandle)\n                clearTimeout(timeoutHandle);\n            effectAction();\n        }\n    }, opts);\n    return disposer;\n}\nfunction whenPromise(predicate, opts) {\n    if (process.env.NODE_ENV !== \"production\" && opts && opts.onError)\n        return fail(`the options 'onError' and 'promise' cannot be combined`);\n    let cancel;\n    const res = new Promise((resolve, reject) => {\n        let disposer = _when(predicate, resolve, Object.assign(Object.assign({}, opts), { onError: reject }));\n        cancel = () => {\n            disposer();\n            reject(\"WHEN_CANCELLED\");\n        };\n    });\n    res.cancel = cancel;\n    return res;\n}\n\nfunction getAdm(target) {\n    return target[$mobx];\n}\nfunction isPropertyKey(val) {\n    return typeof val === \"string\" || typeof val === \"number\" || typeof val === \"symbol\";\n}\n// Optimization: we don't need the intermediate objects and could have a completely custom administration for DynamicObjects,\n// and skip either the internal values map, or the base object with its property descriptors!\nconst objectProxyTraps = {\n    has(target, name) {\n        if (name === $mobx || name === \"constructor\" || name === mobxDidRunLazyInitializersSymbol)\n            return true;\n        const adm = getAdm(target);\n        // MWE: should `in` operator be reactive? If not, below code path will be faster / more memory efficient\n        // TODO: check performance stats!\n        // if (adm.values.get(name as string)) return true\n        if (isPropertyKey(name))\n            return adm.has(name);\n        return name in target;\n    },\n    get(target, name) {\n        if (name === $mobx || name === \"constructor\" || name === mobxDidRunLazyInitializersSymbol)\n            return target[name];\n        const adm = getAdm(target);\n        const observable = adm.values.get(name);\n        if (observable instanceof Atom) {\n            const result = observable.get();\n            if (result === undefined) {\n                // This fixes #1796, because deleting a prop that has an\n                // undefined value won't retrigger a observer (no visible effect),\n                // the autorun wouldn't subscribe to future key changes (see also next comment)\n                adm.has(name);\n            }\n            return result;\n        }\n        // make sure we start listening to future keys\n        // note that we only do this here for optimization\n        if (isPropertyKey(name))\n            adm.has(name);\n        return target[name];\n    },\n    set(target, name, value) {\n        if (!isPropertyKey(name))\n            return false;\n        set(target, name, value);\n        return true;\n    },\n    deleteProperty(target, name) {\n        if (!isPropertyKey(name))\n            return false;\n        const adm = getAdm(target);\n        adm.remove(name);\n        return true;\n    },\n    ownKeys(target) {\n        const adm = getAdm(target);\n        adm.keysAtom.reportObserved();\n        return Reflect.ownKeys(target);\n    },\n    preventExtensions(target) {\n        fail(`Dynamic observable objects cannot be frozen`);\n        return false;\n    }\n};\nfunction createDynamicObservableObject(base) {\n    const proxy = new Proxy(base, objectProxyTraps);\n    base[$mobx].proxy = proxy;\n    return proxy;\n}\n\nfunction hasInterceptors(interceptable) {\n    return interceptable.interceptors !== undefined && interceptable.interceptors.length > 0;\n}\nfunction registerInterceptor(interceptable, handler) {\n    const interceptors = interceptable.interceptors || (interceptable.interceptors = []);\n    interceptors.push(handler);\n    return once(() => {\n        const idx = interceptors.indexOf(handler);\n        if (idx !== -1)\n            interceptors.splice(idx, 1);\n    });\n}\nfunction interceptChange(interceptable, change) {\n    const prevU = untrackedStart();\n    try {\n        // Interceptor can modify the array, copy it to avoid concurrent modification, see #1950\n        const interceptors = [...(interceptable.interceptors || [])];\n        for (let i = 0, l = interceptors.length; i < l; i++) {\n            change = interceptors[i](change);\n            invariant(!change || change.type, \"Intercept handlers should return nothing or a change object\");\n            if (!change)\n                break;\n        }\n        return change;\n    }\n    finally {\n        untrackedEnd(prevU);\n    }\n}\n\nfunction hasListeners(listenable) {\n    return listenable.changeListeners !== undefined && listenable.changeListeners.length > 0;\n}\nfunction registerListener(listenable, handler) {\n    const listeners = listenable.changeListeners || (listenable.changeListeners = []);\n    listeners.push(handler);\n    return once(() => {\n        const idx = listeners.indexOf(handler);\n        if (idx !== -1)\n            listeners.splice(idx, 1);\n    });\n}\nfunction notifyListeners(listenable, change) {\n    const prevU = untrackedStart();\n    let listeners = listenable.changeListeners;\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (let i = 0, l = listeners.length; i < l; i++) {\n        listeners[i](change);\n    }\n    untrackedEnd(prevU);\n}\n\nconst MAX_SPLICE_SIZE = 10000; // See e.g. https://github.com/mobxjs/mobx/issues/859\nconst arrayTraps = {\n    get(target, name) {\n        if (name === $mobx)\n            return target[$mobx];\n        if (name === \"length\")\n            return target[$mobx].getArrayLength();\n        if (typeof name === \"number\") {\n            return arrayExtensions.get.call(target, name);\n        }\n        if (typeof name === \"string\" && !isNaN(name)) {\n            return arrayExtensions.get.call(target, parseInt(name));\n        }\n        if (arrayExtensions.hasOwnProperty(name)) {\n            return arrayExtensions[name];\n        }\n        return target[name];\n    },\n    set(target, name, value) {\n        if (name === \"length\") {\n            target[$mobx].setArrayLength(value);\n        }\n        if (typeof name === \"number\") {\n            arrayExtensions.set.call(target, name, value);\n        }\n        if (typeof name === \"symbol\" || isNaN(name)) {\n            target[name] = value;\n        }\n        else {\n            // numeric string\n            arrayExtensions.set.call(target, parseInt(name), value);\n        }\n        return true;\n    },\n    preventExtensions(target) {\n        fail(`Observable arrays cannot be frozen`);\n        return false;\n    }\n};\nfunction createObservableArray(initialValues, enhancer, name = \"ObservableArray@\" + getNextId(), owned = false) {\n    const adm = new ObservableArrayAdministration(name, enhancer, owned);\n    addHiddenFinalProp(adm.values, $mobx, adm);\n    const proxy = new Proxy(adm.values, arrayTraps);\n    adm.proxy = proxy;\n    if (initialValues && initialValues.length) {\n        const prev = allowStateChangesStart(true);\n        adm.spliceWithArray(0, 0, initialValues);\n        allowStateChangesEnd(prev);\n    }\n    return proxy;\n}\nclass ObservableArrayAdministration {\n    constructor(name, enhancer, owned) {\n        this.owned = owned;\n        this.values = [];\n        this.proxy = undefined;\n        this.lastKnownLength = 0;\n        this.atom = new Atom(name || \"ObservableArray@\" + getNextId());\n        this.enhancer = (newV, oldV) => enhancer(newV, oldV, name + \"[..]\");\n    }\n    dehanceValue(value) {\n        if (this.dehancer !== undefined)\n            return this.dehancer(value);\n        return value;\n    }\n    dehanceValues(values) {\n        if (this.dehancer !== undefined && values.length > 0)\n            return values.map(this.dehancer);\n        return values;\n    }\n    intercept(handler) {\n        return registerInterceptor(this, handler);\n    }\n    observe(listener, fireImmediately = false) {\n        if (fireImmediately) {\n            listener({\n                object: this.proxy,\n                type: \"splice\",\n                index: 0,\n                added: this.values.slice(),\n                addedCount: this.values.length,\n                removed: [],\n                removedCount: 0\n            });\n        }\n        return registerListener(this, listener);\n    }\n    getArrayLength() {\n        this.atom.reportObserved();\n        return this.values.length;\n    }\n    setArrayLength(newLength) {\n        if (typeof newLength !== \"number\" || newLength < 0)\n            throw new Error(\"[mobx.array] Out of range: \" + newLength);\n        let currentLength = this.values.length;\n        if (newLength === currentLength)\n            return;\n        else if (newLength > currentLength) {\n            const newItems = new Array(newLength - currentLength);\n            for (let i = 0; i < newLength - currentLength; i++)\n                newItems[i] = undefined; // No Array.fill everywhere...\n            this.spliceWithArray(currentLength, 0, newItems);\n        }\n        else\n            this.spliceWithArray(newLength, currentLength - newLength);\n    }\n    updateArrayLength(oldLength, delta) {\n        if (oldLength !== this.lastKnownLength)\n            throw new Error(\"[mobx] Modification exception: the internal structure of an observable array was changed.\");\n        this.lastKnownLength += delta;\n    }\n    spliceWithArray(index, deleteCount, newItems) {\n        checkIfStateModificationsAreAllowed(this.atom);\n        const length = this.values.length;\n        if (index === undefined)\n            index = 0;\n        else if (index > length)\n            index = length;\n        else if (index < 0)\n            index = Math.max(0, length + index);\n        if (arguments.length === 1)\n            deleteCount = length - index;\n        else if (deleteCount === undefined || deleteCount === null)\n            deleteCount = 0;\n        else\n            deleteCount = Math.max(0, Math.min(deleteCount, length - index));\n        if (newItems === undefined)\n            newItems = EMPTY_ARRAY;\n        if (hasInterceptors(this)) {\n            const change = interceptChange(this, {\n                object: this.proxy,\n                type: \"splice\",\n                index,\n                removedCount: deleteCount,\n                added: newItems\n            });\n            if (!change)\n                return EMPTY_ARRAY;\n            deleteCount = change.removedCount;\n            newItems = change.added;\n        }\n        newItems = newItems.length === 0 ? newItems : newItems.map(v => this.enhancer(v, undefined));\n        if (process.env.NODE_ENV !== \"production\") {\n            const lengthDelta = newItems.length - deleteCount;\n            this.updateArrayLength(length, lengthDelta); // checks if internal array wasn't modified\n        }\n        const res = this.spliceItemsIntoValues(index, deleteCount, newItems);\n        if (deleteCount !== 0 || newItems.length !== 0)\n            this.notifyArraySplice(index, newItems, res);\n        return this.dehanceValues(res);\n    }\n    spliceItemsIntoValues(index, deleteCount, newItems) {\n        if (newItems.length < MAX_SPLICE_SIZE) {\n            return this.values.splice(index, deleteCount, ...newItems);\n        }\n        else {\n            const res = this.values.slice(index, index + deleteCount);\n            this.values = this.values\n                .slice(0, index)\n                .concat(newItems, this.values.slice(index + deleteCount));\n            return res;\n        }\n    }\n    notifyArrayChildUpdate(index, newValue, oldValue) {\n        const notifySpy = !this.owned && isSpyEnabled();\n        const notify = hasListeners(this);\n        const change = notify || notifySpy\n            ? {\n                object: this.proxy,\n                type: \"update\",\n                index,\n                newValue,\n                oldValue\n            }\n            : null;\n        // The reason why this is on right hand side here (and not above), is this way the uglifier will drop it, but it won't\n        // cause any runtime overhead in development mode without NODE_ENV set, unless spying is enabled\n        if (notifySpy && process.env.NODE_ENV !== \"production\")\n            spyReportStart(Object.assign(Object.assign({}, change), { name: this.atom.name }));\n        this.atom.reportChanged();\n        if (notify)\n            notifyListeners(this, change);\n        if (notifySpy && process.env.NODE_ENV !== \"production\")\n            spyReportEnd();\n    }\n    notifyArraySplice(index, added, removed) {\n        const notifySpy = !this.owned && isSpyEnabled();\n        const notify = hasListeners(this);\n        const change = notify || notifySpy\n            ? {\n                object: this.proxy,\n                type: \"splice\",\n                index,\n                removed,\n                added,\n                removedCount: removed.length,\n                addedCount: added.length\n            }\n            : null;\n        if (notifySpy && process.env.NODE_ENV !== \"production\")\n            spyReportStart(Object.assign(Object.assign({}, change), { name: this.atom.name }));\n        this.atom.reportChanged();\n        // conform: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/observe\n        if (notify)\n            notifyListeners(this, change);\n        if (notifySpy && process.env.NODE_ENV !== \"production\")\n            spyReportEnd();\n    }\n}\nconst arrayExtensions = {\n    intercept(handler) {\n        return this[$mobx].intercept(handler);\n    },\n    observe(listener, fireImmediately = false) {\n        const adm = this[$mobx];\n        return adm.observe(listener, fireImmediately);\n    },\n    clear() {\n        return this.splice(0);\n    },\n    replace(newItems) {\n        const adm = this[$mobx];\n        return adm.spliceWithArray(0, adm.values.length, newItems);\n    },\n    /**\n     * Converts this array back to a (shallow) javascript structure.\n     * For a deep clone use mobx.toJS\n     */\n    toJS() {\n        return this.slice();\n    },\n    toJSON() {\n        // Used by JSON.stringify\n        return this.toJS();\n    },\n    /*\n     * functions that do alter the internal structure of the array, (based on lib.es6.d.ts)\n     * since these functions alter the inner structure of the array, the have side effects.\n     * Because the have side effects, they should not be used in computed function,\n     * and for that reason the do not call dependencyState.notifyObserved\n     */\n    splice(index, deleteCount, ...newItems) {\n        const adm = this[$mobx];\n        switch (arguments.length) {\n            case 0:\n                return [];\n            case 1:\n                return adm.spliceWithArray(index);\n            case 2:\n                return adm.spliceWithArray(index, deleteCount);\n        }\n        return adm.spliceWithArray(index, deleteCount, newItems);\n    },\n    spliceWithArray(index, deleteCount, newItems) {\n        const adm = this[$mobx];\n        return adm.spliceWithArray(index, deleteCount, newItems);\n    },\n    push(...items) {\n        const adm = this[$mobx];\n        adm.spliceWithArray(adm.values.length, 0, items);\n        return adm.values.length;\n    },\n    pop() {\n        return this.splice(Math.max(this[$mobx].values.length - 1, 0), 1)[0];\n    },\n    shift() {\n        return this.splice(0, 1)[0];\n    },\n    unshift(...items) {\n        const adm = this[$mobx];\n        adm.spliceWithArray(0, 0, items);\n        return adm.values.length;\n    },\n    reverse() {\n        // reverse by default mutates in place before returning the result\n        // which makes it both a 'derivation' and a 'mutation'.\n        // so we deviate from the default and just make it an dervitation\n        if (process.env.NODE_ENV !== \"production\") {\n            console.warn(\"[mobx] `observableArray.reverse()` will not update the array in place. Use `observableArray.slice().reverse()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().reverse())` to reverse & update in place\");\n        }\n        const clone = this.slice();\n        return clone.reverse.apply(clone, arguments);\n    },\n    sort(compareFn) {\n        // sort by default mutates in place before returning the result\n        // which goes against all good practices. Let's not change the array in place!\n        if (process.env.NODE_ENV !== \"production\") {\n            console.warn(\"[mobx] `observableArray.sort()` will not update the array in place. Use `observableArray.slice().sort()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().sort())` to sort & update in place\");\n        }\n        const clone = this.slice();\n        return clone.sort.apply(clone, arguments);\n    },\n    remove(value) {\n        const adm = this[$mobx];\n        const idx = adm.dehanceValues(adm.values).indexOf(value);\n        if (idx > -1) {\n            this.splice(idx, 1);\n            return true;\n        }\n        return false;\n    },\n    get(index) {\n        const adm = this[$mobx];\n        if (adm) {\n            if (index < adm.values.length) {\n                adm.atom.reportObserved();\n                return adm.dehanceValue(adm.values[index]);\n            }\n            console.warn(`[mobx.array] Attempt to read an array index (${index}) that is out of bounds (${adm.values.length}). Please check length first. Out of bound indices will not be tracked by MobX`);\n        }\n        return undefined;\n    },\n    set(index, newValue) {\n        const adm = this[$mobx];\n        const values = adm.values;\n        if (index < values.length) {\n            // update at index in range\n            checkIfStateModificationsAreAllowed(adm.atom);\n            const oldValue = values[index];\n            if (hasInterceptors(adm)) {\n                const change = interceptChange(adm, {\n                    type: \"update\",\n                    object: adm.proxy,\n                    index,\n                    newValue\n                });\n                if (!change)\n                    return;\n                newValue = change.newValue;\n            }\n            newValue = adm.enhancer(newValue, oldValue);\n            const changed = newValue !== oldValue;\n            if (changed) {\n                values[index] = newValue;\n                adm.notifyArrayChildUpdate(index, newValue, oldValue);\n            }\n        }\n        else if (index === values.length) {\n            // add a new item\n            adm.spliceWithArray(index, 0, [newValue]);\n        }\n        else {\n            // out of bounds\n            throw new Error(`[mobx.array] Index out of bounds, ${index} is larger than ${values.length}`);\n        }\n    }\n};\n[\n    \"concat\",\n    \"every\",\n    \"filter\",\n    \"forEach\",\n    \"indexOf\",\n    \"join\",\n    \"lastIndexOf\",\n    \"map\",\n    \"reduce\",\n    \"reduceRight\",\n    \"slice\",\n    \"some\",\n    \"toString\",\n    \"toLocaleString\"\n].forEach(funcName => {\n    arrayExtensions[funcName] = function () {\n        const adm = this[$mobx];\n        adm.atom.reportObserved();\n        const res = adm.dehanceValues(adm.values);\n        return res[funcName].apply(res, arguments);\n    };\n});\nconst isObservableArrayAdministration = createInstanceofPredicate(\"ObservableArrayAdministration\", ObservableArrayAdministration);\nfunction isObservableArray(thing) {\n    return isObject(thing) && isObservableArrayAdministration(thing[$mobx]);\n}\n\nvar _a;\nconst ObservableMapMarker = {};\n// just extend Map? See also https://gist.github.com/nestharus/13b4d74f2ef4a2f4357dbd3fc23c1e54\n// But: https://github.com/mobxjs/mobx/issues/1556\nclass ObservableMap {\n    constructor(initialData, enhancer = deepEnhancer, name = \"ObservableMap@\" + getNextId()) {\n        this.enhancer = enhancer;\n        this.name = name;\n        this[_a] = ObservableMapMarker;\n        this._keysAtom = createAtom(`${this.name}.keys()`);\n        this[Symbol.toStringTag] = \"Map\";\n        if (typeof Map !== \"function\") {\n            throw new Error(\"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js\");\n        }\n        this._data = new Map();\n        this._hasMap = new Map();\n        this.merge(initialData);\n    }\n    _has(key) {\n        return this._data.has(key);\n    }\n    has(key) {\n        if (!globalState.trackingDerivation)\n            return this._has(key);\n        let entry = this._hasMap.get(key);\n        if (!entry) {\n            // todo: replace with atom (breaking change)\n            const newEntry = (entry = new ObservableValue(this._has(key), referenceEnhancer, `${this.name}.${stringifyKey(key)}?`, false));\n            this._hasMap.set(key, newEntry);\n            onBecomeUnobserved(newEntry, () => this._hasMap.delete(key));\n        }\n        return entry.get();\n    }\n    set(key, value) {\n        const hasKey = this._has(key);\n        if (hasInterceptors(this)) {\n            const change = interceptChange(this, {\n                type: hasKey ? \"update\" : \"add\",\n                object: this,\n                newValue: value,\n                name: key\n            });\n            if (!change)\n                return this;\n            value = change.newValue;\n        }\n        if (hasKey) {\n            this._updateValue(key, value);\n        }\n        else {\n            this._addValue(key, value);\n        }\n        return this;\n    }\n    delete(key) {\n        if (hasInterceptors(this)) {\n            const change = interceptChange(this, {\n                type: \"delete\",\n                object: this,\n                name: key\n            });\n            if (!change)\n                return false;\n        }\n        if (this._has(key)) {\n            const notifySpy = isSpyEnabled();\n            const notify = hasListeners(this);\n            const change = notify || notifySpy\n                ? {\n                    type: \"delete\",\n                    object: this,\n                    oldValue: this._data.get(key).value,\n                    name: key\n                }\n                : null;\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportStart(Object.assign(Object.assign({}, change), { name: this.name, key }));\n            transaction(() => {\n                this._keysAtom.reportChanged();\n                this._updateHasMapEntry(key, false);\n                const observable = this._data.get(key);\n                observable.setNewValue(undefined);\n                this._data.delete(key);\n            });\n            if (notify)\n                notifyListeners(this, change);\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportEnd();\n            return true;\n        }\n        return false;\n    }\n    _updateHasMapEntry(key, value) {\n        let entry = this._hasMap.get(key);\n        if (entry) {\n            entry.setNewValue(value);\n        }\n    }\n    _updateValue(key, newValue) {\n        const observable = this._data.get(key);\n        newValue = observable.prepareNewValue(newValue);\n        if (newValue !== globalState.UNCHANGED) {\n            const notifySpy = isSpyEnabled();\n            const notify = hasListeners(this);\n            const change = notify || notifySpy\n                ? {\n                    type: \"update\",\n                    object: this,\n                    oldValue: observable.value,\n                    name: key,\n                    newValue\n                }\n                : null;\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportStart(Object.assign(Object.assign({}, change), { name: this.name, key }));\n            observable.setNewValue(newValue);\n            if (notify)\n                notifyListeners(this, change);\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportEnd();\n        }\n    }\n    _addValue(key, newValue) {\n        checkIfStateModificationsAreAllowed(this._keysAtom);\n        transaction(() => {\n            const observable = new ObservableValue(newValue, this.enhancer, `${this.name}.${stringifyKey(key)}`, false);\n            this._data.set(key, observable);\n            newValue = observable.value; // value might have been changed\n            this._updateHasMapEntry(key, true);\n            this._keysAtom.reportChanged();\n        });\n        const notifySpy = isSpyEnabled();\n        const notify = hasListeners(this);\n        const change = notify || notifySpy\n            ? {\n                type: \"add\",\n                object: this,\n                name: key,\n                newValue\n            }\n            : null;\n        if (notifySpy && process.env.NODE_ENV !== \"production\")\n            spyReportStart(Object.assign(Object.assign({}, change), { name: this.name, key }));\n        if (notify)\n            notifyListeners(this, change);\n        if (notifySpy && process.env.NODE_ENV !== \"production\")\n            spyReportEnd();\n    }\n    get(key) {\n        if (this.has(key))\n            return this.dehanceValue(this._data.get(key).get());\n        return this.dehanceValue(undefined);\n    }\n    dehanceValue(value) {\n        if (this.dehancer !== undefined) {\n            return this.dehancer(value);\n        }\n        return value;\n    }\n    keys() {\n        this._keysAtom.reportObserved();\n        return this._data.keys();\n    }\n    values() {\n        const self = this;\n        let nextIndex = 0;\n        const keys = Array.from(this.keys());\n        return makeIterable({\n            next() {\n                return nextIndex < keys.length\n                    ? { value: self.get(keys[nextIndex++]), done: false }\n                    : { done: true };\n            }\n        });\n    }\n    entries() {\n        const self = this;\n        let nextIndex = 0;\n        const keys = Array.from(this.keys());\n        return makeIterable({\n            next: function () {\n                if (nextIndex < keys.length) {\n                    const key = keys[nextIndex++];\n                    return {\n                        value: [key, self.get(key)],\n                        done: false\n                    };\n                }\n                return { done: true };\n            }\n        });\n    }\n    [(_a = $mobx, Symbol.iterator)]() {\n        return this.entries();\n    }\n    forEach(callback, thisArg) {\n        for (const [key, value] of this)\n            callback.call(thisArg, value, key, this);\n    }\n    /** Merge another object into this object, returns this. */\n    merge(other) {\n        if (isObservableMap(other)) {\n            other = other.toJS();\n        }\n        transaction(() => {\n            if (isPlainObject(other))\n                getPlainObjectKeys(other).forEach(key => this.set(key, other[key]));\n            else if (Array.isArray(other))\n                other.forEach(([key, value]) => this.set(key, value));\n            else if (isES6Map(other)) {\n                if (other.constructor !== Map)\n                    fail(\"Cannot initialize from classes that inherit from Map: \" + other.constructor.name); // prettier-ignore\n                other.forEach((value, key) => this.set(key, value));\n            }\n            else if (other !== null && other !== undefined)\n                fail(\"Cannot initialize map from \" + other);\n        });\n        return this;\n    }\n    clear() {\n        transaction(() => {\n            untracked(() => {\n                for (const key of this.keys())\n                    this.delete(key);\n            });\n        });\n    }\n    replace(values) {\n        transaction(() => {\n            // grab all the keys that are present in the new map but not present in the current map\n            // and delete them from the map, then merge the new map\n            // this will cause reactions only on changed values\n            const newKeys = getMapLikeKeys(values);\n            const oldKeys = Array.from(this.keys());\n            const missingKeys = oldKeys.filter(k => newKeys.indexOf(k) === -1);\n            missingKeys.forEach(k => this.delete(k));\n            this.merge(values);\n        });\n        return this;\n    }\n    get size() {\n        this._keysAtom.reportObserved();\n        return this._data.size;\n    }\n    /**\n     * Returns a plain object that represents this map.\n     * Note that all the keys being stringified.\n     * If there are duplicating keys after converting them to strings, behaviour is undetermined.\n     */\n    toPOJO() {\n        const res = {};\n        for (const [key, value] of this) {\n            // We lie about symbol key types due to https://github.com/Microsoft/TypeScript/issues/1863\n            res[typeof key === \"symbol\" ? key : stringifyKey(key)] = value;\n        }\n        return res;\n    }\n    /**\n     * Returns a shallow non observable object clone of this map.\n     * Note that the values migth still be observable. For a deep clone use mobx.toJS.\n     */\n    toJS() {\n        return new Map(this);\n    }\n    toJSON() {\n        // Used by JSON.stringify\n        return this.toPOJO();\n    }\n    toString() {\n        return (this.name +\n            \"[{ \" +\n            Array.from(this.keys())\n                .map(key => `${stringifyKey(key)}: ${\"\" + this.get(key)}`)\n                .join(\", \") +\n            \" }]\");\n    }\n    /**\n     * Observes this object. Triggers for the events 'add', 'update' and 'delete'.\n     * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\n     * for callback details\n     */\n    observe(listener, fireImmediately) {\n        process.env.NODE_ENV !== \"production\" &&\n            invariant(fireImmediately !== true, \"`observe` doesn't support fireImmediately=true in combination with maps.\");\n        return registerListener(this, listener);\n    }\n    intercept(handler) {\n        return registerInterceptor(this, handler);\n    }\n}\n/* 'var' fixes small-build issue */\nconst isObservableMap = createInstanceofPredicate(\"ObservableMap\", ObservableMap);\n\nvar _a$1;\nconst ObservableSetMarker = {};\nclass ObservableSet {\n    constructor(initialData, enhancer = deepEnhancer, name = \"ObservableSet@\" + getNextId()) {\n        this.name = name;\n        this[_a$1] = ObservableSetMarker;\n        this._data = new Set();\n        this._atom = createAtom(this.name);\n        this[Symbol.toStringTag] = \"Set\";\n        if (typeof Set !== \"function\") {\n            throw new Error(\"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js\");\n        }\n        this.enhancer = (newV, oldV) => enhancer(newV, oldV, name);\n        if (initialData) {\n            this.replace(initialData);\n        }\n    }\n    dehanceValue(value) {\n        if (this.dehancer !== undefined) {\n            return this.dehancer(value);\n        }\n        return value;\n    }\n    clear() {\n        transaction(() => {\n            untracked(() => {\n                for (const value of this._data.values())\n                    this.delete(value);\n            });\n        });\n    }\n    forEach(callbackFn, thisArg) {\n        for (const value of this) {\n            callbackFn.call(thisArg, value, value, this);\n        }\n    }\n    get size() {\n        this._atom.reportObserved();\n        return this._data.size;\n    }\n    add(value) {\n        checkIfStateModificationsAreAllowed(this._atom);\n        if (hasInterceptors(this)) {\n            const change = interceptChange(this, {\n                type: \"add\",\n                object: this,\n                newValue: value\n            });\n            if (!change)\n                return this;\n            // TODO: ideally, value = change.value would be done here, so that values can be\n            // changed by interceptor. Same applies for other Set and Map api's.\n        }\n        if (!this.has(value)) {\n            transaction(() => {\n                this._data.add(this.enhancer(value, undefined));\n                this._atom.reportChanged();\n            });\n            const notifySpy = isSpyEnabled();\n            const notify = hasListeners(this);\n            const change = notify || notifySpy\n                ? {\n                    type: \"add\",\n                    object: this,\n                    newValue: value\n                }\n                : null;\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportStart(change);\n            if (notify)\n                notifyListeners(this, change);\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportEnd();\n        }\n        return this;\n    }\n    delete(value) {\n        if (hasInterceptors(this)) {\n            const change = interceptChange(this, {\n                type: \"delete\",\n                object: this,\n                oldValue: value\n            });\n            if (!change)\n                return false;\n        }\n        if (this.has(value)) {\n            const notifySpy = isSpyEnabled();\n            const notify = hasListeners(this);\n            const change = notify || notifySpy\n                ? {\n                    type: \"delete\",\n                    object: this,\n                    oldValue: value\n                }\n                : null;\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportStart(Object.assign(Object.assign({}, change), { name: this.name }));\n            transaction(() => {\n                this._atom.reportChanged();\n                this._data.delete(value);\n            });\n            if (notify)\n                notifyListeners(this, change);\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportEnd();\n            return true;\n        }\n        return false;\n    }\n    has(value) {\n        this._atom.reportObserved();\n        return this._data.has(this.dehanceValue(value));\n    }\n    entries() {\n        let nextIndex = 0;\n        const keys = Array.from(this.keys());\n        const values = Array.from(this.values());\n        return makeIterable({\n            next() {\n                const index = nextIndex;\n                nextIndex += 1;\n                return index < values.length\n                    ? { value: [keys[index], values[index]], done: false }\n                    : { done: true };\n            }\n        });\n    }\n    keys() {\n        return this.values();\n    }\n    values() {\n        this._atom.reportObserved();\n        const self = this;\n        let nextIndex = 0;\n        const observableValues = Array.from(this._data.values());\n        return makeIterable({\n            next() {\n                return nextIndex < observableValues.length\n                    ? { value: self.dehanceValue(observableValues[nextIndex++]), done: false }\n                    : { done: true };\n            }\n        });\n    }\n    replace(other) {\n        if (isObservableSet(other)) {\n            other = other.toJS();\n        }\n        transaction(() => {\n            if (Array.isArray(other)) {\n                this.clear();\n                other.forEach(value => this.add(value));\n            }\n            else if (isES6Set(other)) {\n                this.clear();\n                other.forEach(value => this.add(value));\n            }\n            else if (other !== null && other !== undefined) {\n                fail(\"Cannot initialize set from \" + other);\n            }\n        });\n        return this;\n    }\n    observe(listener, fireImmediately) {\n        // TODO 'fireImmediately' can be true?\n        process.env.NODE_ENV !== \"production\" &&\n            invariant(fireImmediately !== true, \"`observe` doesn't support fireImmediately=true in combination with sets.\");\n        return registerListener(this, listener);\n    }\n    intercept(handler) {\n        return registerInterceptor(this, handler);\n    }\n    toJS() {\n        return new Set(this);\n    }\n    toString() {\n        return this.name + \"[ \" + Array.from(this).join(\", \") + \" ]\";\n    }\n    [(_a$1 = $mobx, Symbol.iterator)]() {\n        return this.values();\n    }\n}\nconst isObservableSet = createInstanceofPredicate(\"ObservableSet\", ObservableSet);\n\nclass ObservableObjectAdministration {\n    constructor(target, values = new Map(), name, defaultEnhancer) {\n        this.target = target;\n        this.values = values;\n        this.name = name;\n        this.defaultEnhancer = defaultEnhancer;\n        this.keysAtom = new Atom(name + \".keys\");\n    }\n    read(key) {\n        return this.values.get(key).get();\n    }\n    write(key, newValue) {\n        const instance = this.target;\n        const observable = this.values.get(key);\n        if (observable instanceof ComputedValue) {\n            observable.set(newValue);\n            return;\n        }\n        // intercept\n        if (hasInterceptors(this)) {\n            const change = interceptChange(this, {\n                type: \"update\",\n                object: this.proxy || instance,\n                name: key,\n                newValue\n            });\n            if (!change)\n                return;\n            newValue = change.newValue;\n        }\n        newValue = observable.prepareNewValue(newValue);\n        // notify spy & observers\n        if (newValue !== globalState.UNCHANGED) {\n            const notify = hasListeners(this);\n            const notifySpy = isSpyEnabled();\n            const change = notify || notifySpy\n                ? {\n                    type: \"update\",\n                    object: this.proxy || instance,\n                    oldValue: observable.value,\n                    name: key,\n                    newValue\n                }\n                : null;\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportStart(Object.assign(Object.assign({}, change), { name: this.name, key }));\n            observable.setNewValue(newValue);\n            if (notify)\n                notifyListeners(this, change);\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportEnd();\n        }\n    }\n    has(key) {\n        const map = this.pendingKeys || (this.pendingKeys = new Map());\n        let entry = map.get(key);\n        if (entry)\n            return entry.get();\n        else {\n            const exists = !!this.values.get(key);\n            // Possible optimization: Don't have a separate map for non existing keys,\n            // but store them in the values map instead, using a special symbol to denote \"not existing\"\n            entry = new ObservableValue(exists, referenceEnhancer, `${this.name}.${stringifyKey(key)}?`, false);\n            map.set(key, entry);\n            return entry.get(); // read to subscribe\n        }\n    }\n    addObservableProp(propName, newValue, enhancer = this.defaultEnhancer) {\n        const { target } = this;\n        assertPropertyConfigurable(target, propName);\n        if (hasInterceptors(this)) {\n            const change = interceptChange(this, {\n                object: this.proxy || target,\n                name: propName,\n                type: \"add\",\n                newValue\n            });\n            if (!change)\n                return;\n            newValue = change.newValue;\n        }\n        const observable = new ObservableValue(newValue, enhancer, `${this.name}.${stringifyKey(propName)}`, false);\n        this.values.set(propName, observable);\n        newValue = observable.value; // observableValue might have changed it\n        Object.defineProperty(target, propName, generateObservablePropConfig(propName));\n        this.notifyPropertyAddition(propName, newValue);\n    }\n    addComputedProp(propertyOwner, // where is the property declared?\n    propName, options) {\n        const { target } = this;\n        options.name = options.name || `${this.name}.${stringifyKey(propName)}`;\n        this.values.set(propName, new ComputedValue(options));\n        if (propertyOwner === target || isPropertyConfigurable(propertyOwner, propName))\n            Object.defineProperty(propertyOwner, propName, generateComputedPropConfig(propName));\n    }\n    remove(key) {\n        if (!this.values.has(key))\n            return;\n        const { target } = this;\n        if (hasInterceptors(this)) {\n            const change = interceptChange(this, {\n                object: this.proxy || target,\n                name: key,\n                type: \"remove\"\n            });\n            if (!change)\n                return;\n        }\n        try {\n            startBatch();\n            const notify = hasListeners(this);\n            const notifySpy = isSpyEnabled();\n            const oldObservable = this.values.get(key);\n            const oldValue = oldObservable && oldObservable.get();\n            oldObservable && oldObservable.set(undefined);\n            // notify key and keyset listeners\n            this.keysAtom.reportChanged();\n            this.values.delete(key);\n            if (this.pendingKeys) {\n                const entry = this.pendingKeys.get(key);\n                if (entry)\n                    entry.set(false);\n            }\n            // delete the prop\n            delete this.target[key];\n            const change = notify || notifySpy\n                ? {\n                    type: \"remove\",\n                    object: this.proxy || target,\n                    oldValue: oldValue,\n                    name: key\n                }\n                : null;\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportStart(Object.assign(Object.assign({}, change), { name: this.name, key }));\n            if (notify)\n                notifyListeners(this, change);\n            if (notifySpy && process.env.NODE_ENV !== \"production\")\n                spyReportEnd();\n        }\n        finally {\n            endBatch();\n        }\n    }\n    illegalAccess(owner, propName) {\n        /**\n         * This happens if a property is accessed through the prototype chain, but the property was\n         * declared directly as own property on the prototype.\n         *\n         * E.g.:\n         * class A {\n         * }\n         * extendObservable(A.prototype, { x: 1 })\n         *\n         * classB extens A {\n         * }\n         * console.log(new B().x)\n         *\n         * It is unclear whether the property should be considered 'static' or inherited.\n         * Either use `console.log(A.x)`\n         * or: decorate(A, { x: observable })\n         *\n         * When using decorate, the property will always be redeclared as own property on the actual instance\n         */\n        console.warn(`Property '${propName}' of '${owner}' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner`);\n    }\n    /**\n     * Observes this object. Triggers for the events 'add', 'update' and 'delete'.\n     * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\n     * for callback details\n     */\n    observe(callback, fireImmediately) {\n        process.env.NODE_ENV !== \"production\" &&\n            invariant(fireImmediately !== true, \"`observe` doesn't support the fire immediately property for observable objects.\");\n        return registerListener(this, callback);\n    }\n    intercept(handler) {\n        return registerInterceptor(this, handler);\n    }\n    notifyPropertyAddition(key, newValue) {\n        const notify = hasListeners(this);\n        const notifySpy = isSpyEnabled();\n        const change = notify || notifySpy\n            ? {\n                type: \"add\",\n                object: this.proxy || this.target,\n                name: key,\n                newValue\n            }\n            : null;\n        if (notifySpy && process.env.NODE_ENV !== \"production\")\n            spyReportStart(Object.assign(Object.assign({}, change), { name: this.name, key }));\n        if (notify)\n            notifyListeners(this, change);\n        if (notifySpy && process.env.NODE_ENV !== \"production\")\n            spyReportEnd();\n        if (this.pendingKeys) {\n            const entry = this.pendingKeys.get(key);\n            if (entry)\n                entry.set(true);\n        }\n        this.keysAtom.reportChanged();\n    }\n    getKeys() {\n        this.keysAtom.reportObserved();\n        // return Reflect.ownKeys(this.values) as any\n        const res = [];\n        for (const [key, value] of this.values)\n            if (value instanceof ObservableValue)\n                res.push(key);\n        return res;\n    }\n}\nfunction asObservableObject(target, name = \"\", defaultEnhancer = deepEnhancer) {\n    if (Object.prototype.hasOwnProperty.call(target, $mobx))\n        return target[$mobx];\n    process.env.NODE_ENV !== \"production\" &&\n        invariant(Object.isExtensible(target), \"Cannot make the designated object observable; it is not extensible\");\n    if (!isPlainObject(target))\n        name = (target.constructor.name || \"ObservableObject\") + \"@\" + getNextId();\n    if (!name)\n        name = \"ObservableObject@\" + getNextId();\n    const adm = new ObservableObjectAdministration(target, new Map(), stringifyKey(name), defaultEnhancer);\n    addHiddenProp(target, $mobx, adm);\n    return adm;\n}\nconst observablePropertyConfigs = Object.create(null);\nconst computedPropertyConfigs = Object.create(null);\nfunction generateObservablePropConfig(propName) {\n    return (observablePropertyConfigs[propName] ||\n        (observablePropertyConfigs[propName] = {\n            configurable: true,\n            enumerable: true,\n            get() {\n                return this[$mobx].read(propName);\n            },\n            set(v) {\n                this[$mobx].write(propName, v);\n            }\n        }));\n}\nfunction getAdministrationForComputedPropOwner(owner) {\n    const adm = owner[$mobx];\n    if (!adm) {\n        // because computed props are declared on proty,\n        // the current instance might not have been initialized yet\n        initializeInstance(owner);\n        return owner[$mobx];\n    }\n    return adm;\n}\nfunction generateComputedPropConfig(propName) {\n    return (computedPropertyConfigs[propName] ||\n        (computedPropertyConfigs[propName] = {\n            configurable: globalState.computedConfigurable,\n            enumerable: false,\n            get() {\n                return getAdministrationForComputedPropOwner(this).read(propName);\n            },\n            set(v) {\n                getAdministrationForComputedPropOwner(this).write(propName, v);\n            }\n        }));\n}\nconst isObservableObjectAdministration = createInstanceofPredicate(\"ObservableObjectAdministration\", ObservableObjectAdministration);\nfunction isObservableObject(thing) {\n    if (isObject(thing)) {\n        // Initializers run lazily when transpiling to babel, so make sure they are run...\n        initializeInstance(thing);\n        return isObservableObjectAdministration(thing[$mobx]);\n    }\n    return false;\n}\n\nfunction getAtom(thing, property) {\n    if (typeof thing === \"object\" && thing !== null) {\n        if (isObservableArray(thing)) {\n            if (property !== undefined)\n                fail(process.env.NODE_ENV !== \"production\" &&\n                    \"It is not possible to get index atoms from arrays\");\n            return thing[$mobx].atom;\n        }\n        if (isObservableSet(thing)) {\n            return thing[$mobx];\n        }\n        if (isObservableMap(thing)) {\n            const anyThing = thing;\n            if (property === undefined)\n                return anyThing._keysAtom;\n            const observable = anyThing._data.get(property) || anyThing._hasMap.get(property);\n            if (!observable)\n                fail(process.env.NODE_ENV !== \"production\" &&\n                    `the entry '${property}' does not exist in the observable map '${getDebugName(thing)}'`);\n            return observable;\n        }\n        // Initializers run lazily when transpiling to babel, so make sure they are run...\n        initializeInstance(thing);\n        if (property && !thing[$mobx])\n            thing[property]; // See #1072\n        if (isObservableObject(thing)) {\n            if (!property)\n                return fail(process.env.NODE_ENV !== \"production\" && `please specify a property`);\n            const observable = thing[$mobx].values.get(property);\n            if (!observable)\n                fail(process.env.NODE_ENV !== \"production\" &&\n                    `no observable property '${property}' found on the observable object '${getDebugName(thing)}'`);\n            return observable;\n        }\n        if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {\n            return thing;\n        }\n    }\n    else if (typeof thing === \"function\") {\n        if (isReaction(thing[$mobx])) {\n            // disposer function\n            return thing[$mobx];\n        }\n    }\n    return fail(process.env.NODE_ENV !== \"production\" && \"Cannot obtain atom from \" + thing);\n}\nfunction getAdministration(thing, property) {\n    if (!thing)\n        fail(\"Expecting some object\");\n    if (property !== undefined)\n        return getAdministration(getAtom(thing, property));\n    if (isAtom(thing) || isComputedValue(thing) || isReaction(thing))\n        return thing;\n    if (isObservableMap(thing) || isObservableSet(thing))\n        return thing;\n    // Initializers run lazily when transpiling to babel, so make sure they are run...\n    initializeInstance(thing);\n    if (thing[$mobx])\n        return thing[$mobx];\n    fail(process.env.NODE_ENV !== \"production\" && \"Cannot obtain administration from \" + thing);\n}\nfunction getDebugName(thing, property) {\n    let named;\n    if (property !== undefined)\n        named = getAtom(thing, property);\n    else if (isObservableObject(thing) || isObservableMap(thing) || isObservableSet(thing))\n        named = getAdministration(thing);\n    else\n        named = getAtom(thing); // valid for arrays as well\n    return named.name;\n}\n\nconst toString = Object.prototype.toString;\nfunction deepEqual(a, b, depth = -1) {\n    return eq(a, b, depth);\n}\n// Copied from https://github.com/jashkenas/underscore/blob/5c237a7c682fb68fd5378203f0bf22dce1624854/underscore.js#L1186-L1289\n// Internal recursive comparison function for `isEqual`.\nfunction eq(a, b, depth, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b)\n        return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null)\n        return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a)\n        return b !== b;\n    // Exhaust primitive checks\n    const type = typeof a;\n    if (type !== \"function\" && type !== \"object\" && typeof b != \"object\")\n        return false;\n    // Unwrap any wrapped objects.\n    a = unwrap(a);\n    b = unwrap(b);\n    // Compare `[[Class]]` names.\n    const className = toString.call(a);\n    if (className !== toString.call(b))\n        return false;\n    switch (className) {\n        // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n        case \"[object RegExp]\":\n        // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n        case \"[object String]\":\n            // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n            // equivalent to `new String(\"5\")`.\n            return \"\" + a === \"\" + b;\n        case \"[object Number]\":\n            // `NaN`s are equivalent, but non-reflexive.\n            // Object(NaN) is equivalent to NaN.\n            if (+a !== +a)\n                return +b !== +b;\n            // An `egal` comparison is performed for other numeric values.\n            return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n        case \"[object Date]\":\n        case \"[object Boolean]\":\n            // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n            // millisecond representations. Note that invalid dates with millisecond representations\n            // of `NaN` are not equivalent.\n            return +a === +b;\n        case \"[object Symbol]\":\n            return (typeof Symbol !== \"undefined\" && Symbol.valueOf.call(a) === Symbol.valueOf.call(b));\n    }\n    const areArrays = className === \"[object Array]\";\n    if (!areArrays) {\n        if (typeof a != \"object\" || typeof b != \"object\")\n            return false;\n        // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n        // from different frames are.\n        const aCtor = a.constructor, bCtor = b.constructor;\n        if (aCtor !== bCtor &&\n            !(typeof aCtor === \"function\" &&\n                aCtor instanceof aCtor &&\n                typeof bCtor === \"function\" &&\n                bCtor instanceof bCtor) &&\n            (\"constructor\" in a && \"constructor\" in b)) {\n            return false;\n        }\n    }\n    if (depth === 0) {\n        return false;\n    }\n    else if (depth < 0) {\n        depth = -1;\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    let length = aStack.length;\n    while (length--) {\n        // Linear search. Performance is inversely proportional to the number of\n        // unique nested structures.\n        if (aStack[length] === a)\n            return bStack[length] === b;\n    }\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n        // Compare array lengths to determine if a deep comparison is necessary.\n        length = a.length;\n        if (length !== b.length)\n            return false;\n        // Deep compare the contents, ignoring non-numeric properties.\n        while (length--) {\n            if (!eq(a[length], b[length], depth - 1, aStack, bStack))\n                return false;\n        }\n    }\n    else {\n        // Deep compare objects.\n        const keys = Object.keys(a);\n        let key;\n        length = keys.length;\n        // Ensure that both objects contain the same number of properties before comparing deep equality.\n        if (Object.keys(b).length !== length)\n            return false;\n        while (length--) {\n            // Deep compare each member\n            key = keys[length];\n            if (!(has$1(b, key) && eq(a[key], b[key], depth - 1, aStack, bStack)))\n                return false;\n        }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n}\nfunction unwrap(a) {\n    if (isObservableArray(a))\n        return a.slice();\n    if (isES6Map(a) || isObservableMap(a))\n        return Array.from(a.entries());\n    if (isES6Set(a) || isObservableSet(a))\n        return Array.from(a.entries());\n    return a;\n}\nfunction has$1(a, key) {\n    return Object.prototype.hasOwnProperty.call(a, key);\n}\n\nfunction makeIterable(iterator) {\n    iterator[Symbol.iterator] = getSelf;\n    return iterator;\n}\nfunction getSelf() {\n    return this;\n}\n\n/*\nThe only reason for this file to exist is pure horror:\nWithout it rollup can make the bundling fail at any point in time; when it rolls up the files in the wrong order\nit will cause undefined errors (for example because super classes or local variables not being hoisted).\nWith this file that will still happen,\nbut at least in this file we can magically reorder the imports with trial and error until the build succeeds again.\n*/\n\n/**\n * (c) Michel Weststrate 2015 - 2018\n * MIT Licensed\n *\n * Welcome to the mobx sources! To get an global overview of how MobX internally works,\n * this is a good place to start:\n * https://medium.com/@mweststrate/becoming-fully-reactive-an-in-depth-explanation-of-mobservable-55995262a254#.xvbh6qd74\n *\n * Source folders:\n * ===============\n *\n * - api/     Most of the public static methods exposed by the module can be found here.\n * - core/    Implementation of the MobX algorithm; atoms, derivations, reactions, dependency trees, optimizations. Cool stuff can be found here.\n * - types/   All the magic that is need to have observable objects, arrays and values is in this folder. Including the modifiers like `asFlat`.\n * - utils/   Utility stuff.\n *\n */\nif (typeof Proxy === \"undefined\" || typeof Symbol === \"undefined\") {\n    throw new Error(\"[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.\");\n}\ntry {\n    // define process.env if needed\n    // if this is not a production build in the first place\n    // (in which case the expression below would be substituted with 'production')\n    process.env.NODE_ENV;\n}\ncatch (e) {\n    const g = getGlobal();\n    if (typeof process === \"undefined\")\n        g.process = {};\n    g.process.env = {};\n}\n(() => {\n    function testCodeMinification() { }\n    if (testCodeMinification.name !== \"testCodeMinification\" &&\n        process.env.NODE_ENV !== \"production\" &&\n        process.env.IGNORE_MOBX_MINIFY_WARNING !== \"true\") {\n        // trick so it doesn't get replaced\n        const varName = [\"process\", \"env\", \"NODE_ENV\"].join(\".\");\n        console.warn(`[mobx] you are running a minified build, but '${varName}' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle`);\n    }\n})();\nif (typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ === \"object\") {\n    // See: https://github.com/andykog/mobx-devtools/\n    __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({\n        spy,\n        extras: {\n            getDebugName\n        },\n        $mobx\n    });\n}\n\nexport { $mobx, FlowCancellationError, IDerivationState, ObservableMap, ObservableSet, Reaction, allowStateChanges as _allowStateChanges, allowStateChangesInsideComputed as _allowStateChangesInsideComputed, _endAction, getAdministration as _getAdministration, getGlobalState as _getGlobalState, interceptReads as _interceptReads, isComputingDerivation as _isComputingDerivation, resetGlobalState as _resetGlobalState, _startAction, action, autorun, comparer, computed, configure, createAtom, decorate, entries, extendObservable, flow, get, getAtom, getDebugName, getDependencyTree, getObserverTree, has, intercept, isAction, isArrayLike, isObservableValue as isBoxedObservable, isComputed, isComputedProp, isFlowCancellationError, isObservable, isObservableArray, isObservableMap, isObservableObject, isObservableProp, isObservableSet, keys, observable, observe, onBecomeObserved, onBecomeUnobserved, onReactionError, reaction, remove, runInAction, set, spy, toJS, trace, transaction, untracked, values, when };\n","import superagentPromise from 'superagent-promise'\r\nimport _superagent from 'superagent'\r\n\r\nconst superagent = superagentPromise(_superagent, global.Promise)\r\n\r\nconst API_ROOT = 'https://conduit.productionready.io/api'\r\n\r\nconst encode = encodeURIComponent\r\n\r\nlet commonStore, authStore\r\n\r\nconst configure = stores => {\r\n  commonStore = stores.commonStore\r\n  authStore = stores.authStore\r\n}\r\n\r\nconst handleErrors = err => {\r\n  if (err && err.response && err.response.status === 401) {\r\n    authStore.logout()\r\n  }\r\n  return err\r\n}\r\n\r\nconst responseBody = res => res.body\r\n\r\nconst tokenPlugin = req => {\r\n  if (commonStore.token) {\r\n    req.set('authorization', `Token ${commonStore.token}`)\r\n  }\r\n}\r\n\r\nconst requests = {\r\n  del: url =>\r\n    superagent\r\n      .del(`${API_ROOT}${url}`)\r\n      .use(tokenPlugin)\r\n      .end(handleErrors)\r\n      .then(responseBody),\r\n  get: url =>\r\n    superagent\r\n      .get(`${API_ROOT}${url}`)\r\n      .use(tokenPlugin)\r\n      .end(handleErrors)\r\n      .then(responseBody),\r\n  put: (url, body) =>\r\n    superagent\r\n      .put(`${API_ROOT}${url}`, body)\r\n      .use(tokenPlugin)\r\n      .end(handleErrors)\r\n      .then(responseBody),\r\n  post: (url, body) =>\r\n    superagent\r\n      .post(`${API_ROOT}${url}`, body)\r\n      .use(tokenPlugin)\r\n      .end(handleErrors)\r\n      .then(responseBody)\r\n}\r\n\r\nconst Auth = {\r\n  current: () => requests.get('/user'),\r\n  login: (email, password) =>\r\n    requests.post('/users/login', { user: { email, password } }),\r\n  register: (username, email, password) =>\r\n    requests.post('/users', { user: { username, email, password } }),\r\n  save: user => requests.put('/user', { user })\r\n}\r\n\r\nconst Tags = {\r\n  getAll: () => requests.get('/tags')\r\n}\r\n\r\nconst limit = (count, p) => `limit=${count}&offset=${p ? p * count : 0}`\r\nconst omitSlug = article => Object.assign({}, article, { slug: undefined })\r\n\r\nconst Articles = {\r\n  all: (page, lim = 10) => requests.get(`/articles?${limit(lim, page)}`),\r\n  byAuthor: (author, page, query) =>\r\n    requests.get(`/articles?author=${encode(author)}&${limit(5, page)}`),\r\n  byTag: (tag, page, lim = 10) =>\r\n    requests.get(`/articles?tag=${encode(tag)}&${limit(lim, page)}`),\r\n  del: slug => requests.del(`/articles/${slug}`),\r\n  favorite: slug => requests.post(`/articles/${slug}/favorite`),\r\n  favoritedBy: (author, page) =>\r\n    requests.get(`/articles?favorited=${encode(author)}&${limit(5, page)}`),\r\n  feed: () => requests.get('/articles/feed?limit=10&offset=0'),\r\n  get: slug => requests.get(`/articles/${slug}`),\r\n  unfavorite: slug => requests.del(`/articles/${slug}/favorite`),\r\n  update: article =>\r\n    requests.put(`/articles/${article.slug}`, { article: omitSlug(article) }),\r\n  create: article => requests.post('/articles', { article })\r\n}\r\n\r\nconst Comments = {\r\n  create: (slug, comment) =>\r\n    requests.post(`/articles/${slug}/comments`, { comment }),\r\n  delete: (slug, commentId) =>\r\n    requests.del(`/articles/${slug}/comments/${commentId}`),\r\n  forArticle: slug => requests.get(`/articles/${slug}/comments`)\r\n}\r\n\r\nconst Profile = {\r\n  follow: username => requests.post(`/profiles/${username}/follow`),\r\n  get: username => requests.get(`/profiles/${username}`),\r\n  unfollow: username => requests.del(`/profiles/${username}/follow`)\r\n}\r\n\r\nexport default {\r\n  Articles,\r\n  Auth,\r\n  Comments,\r\n  Profile,\r\n  Tags,\r\n  configure\r\n}\r\n","'use strict';\n\nconst BUILD = {\"allRenderFn\":false,\"cmpDidLoad\":true,\"cmpDidUnload\":true,\"cmpDidUpdate\":true,\"cmpDidRender\":false,\"cmpWillLoad\":true,\"cmpWillUpdate\":false,\"cmpWillRender\":false,\"connectedCallback\":true,\"disconnectedCallback\":true,\"element\":false,\"event\":false,\"hasRenderFn\":true,\"lifecycle\":true,\"hostListener\":false,\"hostListenerTargetWindow\":false,\"hostListenerTargetDocument\":false,\"hostListenerTargetBody\":false,\"hostListenerTargetParent\":false,\"hostListenerTarget\":false,\"member\":true,\"method\":false,\"mode\":false,\"noVdomRender\":false,\"observeAttribute\":true,\"prop\":true,\"propBoolean\":true,\"propNumber\":true,\"propString\":true,\"propMutable\":true,\"reflect\":true,\"scoped\":false,\"shadowDom\":false,\"slot\":true,\"slotRelocation\":true,\"state\":true,\"style\":true,\"svg\":false,\"updatable\":true,\"vdomAttribute\":true,\"vdomClass\":true,\"vdomFunctional\":true,\"vdomKey\":true,\"vdomListener\":true,\"vdomRef\":true,\"vdomRender\":true,\"vdomStyle\":true,\"vdomText\":true,\"watchCallback\":true,\"taskQueue\":true,\"lazyLoad\":true,\"hydrateServerSide\":false,\"cssVarShim\":true,\"hydrateClientSide\":false,\"isDebug\":false,\"isDev\":false,\"lifecycleDOMEvents\":false,\"profile\":false,\"hotModuleReplacement\":false,\"constructableCSS\":true,\"cssAnnotations\":true};\nconst NAMESPACE = 'stencilrouter';\n\nconst win = window;\nconst doc = document;\nconst plt = {\n    $flags$: 0,\n    $resourcesUrl$: '',\n    raf: (h) => requestAnimationFrame(h),\n    ael: (el, eventName, listener, opts) => el.addEventListener(eventName, listener, opts),\n    rel: (el, eventName, listener, opts) => el.removeEventListener(eventName, listener, opts),\n};\nconst supportsShadowDom = false;\nconst supportsConstructibleStylesheets = (() => {\n    try {\n        new CSSStyleSheet();\n        return true;\n    }\n    catch (e) { }\n    return false;\n})();\n\nconst Context = {};\n\nconst hostRefs = new WeakMap();\nconst getHostRef = (ref) => hostRefs.get(ref);\nconst registerInstance = (lazyInstance, hostRef) => hostRefs.set(hostRef.$lazyInstance$ = lazyInstance, hostRef);\nconst registerHost = (elm) => {\n    {\n        const hostRef = {\n            $flags$: 0,\n            $hostElement$: elm,\n            $instanceValues$: new Map()\n        };\n        hostRef.$onReadyPromise$ = new Promise(r => hostRef.$onReadyResolve$ = r);\n        return hostRefs.set(elm, hostRef);\n    }\n};\nconst isMemberInElement = (elm, memberName) => memberName in elm;\n\nconst consoleError = (e) => console.error(e);\n\nconst loadModule = (cmpMeta, hostRef, hmrVersionId) => {\n    // loadModuleImport\n    const bundleId = cmpMeta.$lazyBundleIds$;\n    return Promise.resolve(require(\n    /* webpackInclude: /\\.entry\\.js$/ */\n    /* webpackExclude: /\\.(system|cjs)\\.entry\\.js$/ */\n    /* webpackMode: \"lazy\" */\n    `./${bundleId}.entry.js${''}`)).then(importedModule => importedModule[cmpMeta.$tagName$.replace(/-/g, '_')], consoleError);\n};\n\nconst styles = new Map();\nconst cssVarShim = win.__stencil_cssshim;\n\nlet queueCongestion = 0;\nlet queuePending = false;\nconst queueDomReads = [];\nconst queueDomWrites = [];\nconst queueDomWritesLow = [];\nconst queueTask = (queue) => (cb) => {\n    // queue dom reads\n    queue.push(cb);\n    if (!queuePending) {\n        queuePending = true;\n        plt.raf(flush);\n    }\n};\nconst consume = (queue) => {\n    for (let i = 0; i < queue.length; i++) {\n        try {\n            queue[i](performance.now());\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    queue.length = 0;\n};\nconst consumeTimeout = (queue, timeout) => {\n    let i = 0;\n    let ts = 0;\n    while (i < queue.length && (ts = performance.now()) < timeout) {\n        try {\n            queue[i++](ts);\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    if (i === queue.length) {\n        queue.length = 0;\n    }\n    else if (i !== 0) {\n        queue.splice(0, i);\n    }\n};\nconst flush = () => {\n    queueCongestion++;\n    // always force a bunch of medium callbacks to run, but still have\n    // a throttle on how many can run in a certain time\n    // DOM READS!!!\n    consume(queueDomReads);\n    const timeout = (plt.$flags$ & 6 /* queueMask */) === 2 /* appLoaded */\n        ? performance.now() + (7 * Math.ceil(queueCongestion * (1.0 / 22.0)))\n        : Infinity;\n    // DOM WRITES!!!\n    consumeTimeout(queueDomWrites, timeout);\n    consumeTimeout(queueDomWritesLow, timeout);\n    if (queueDomWrites.length > 0) {\n        queueDomWritesLow.push(...queueDomWrites);\n        queueDomWrites.length = 0;\n    }\n    if (queuePending = ((queueDomReads.length + queueDomWrites.length + queueDomWritesLow.length) > 0)) {\n        // still more to do yet, but we've run out of time\n        // let's let this thing cool off and try again in the next tick\n        plt.raf(flush);\n    }\n    else {\n        queueCongestion = 0;\n    }\n};\nconst nextTick = /*@__PURE__*/ (cb) => Promise.resolve().then(cb);\nconst readTask = /*@__PURE__*/ queueTask(queueDomReads);\nconst writeTask = /*@__PURE__*/ queueTask(queueDomWrites);\n\n/**\n * Default style mode id\n */\n/**\n * Reusable empty obj/array\n * Don't add values to these!!\n */\nconst EMPTY_OBJ = {};\n\nconst isDef = (v) => v != null;\nconst toLowerCase = (str) => str.toLowerCase();\nconst isComplexType = (o) => ['object', 'function'].includes(typeof o);\n\nfunction getDynamicImportFunction(namespace) {\n    return `__sc_import_${namespace.replace(/\\s|-/g, '_')}`;\n}\n\nconst patchEsm = () => {\n    // @ts-ignore\n    if (!(win.CSS && win.CSS.supports && win.CSS.supports('color', 'var(--c)'))) {\n        // @ts-ignore\n        return Promise.resolve(require('./css-shim-f7ddb189-673dd43d.js'));\n    }\n    return Promise.resolve();\n};\nconst patchBrowser = async () => {\n    // @ts-ignore\n    const importMeta = (typeof document === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __filename).href : (document.currentScript && document.currentScript.src || new URL('stencilrouter-a3d77a87.js', document.baseURI).href));\n    if (importMeta !== '') {\n        return Promise.resolve(new URL('.', importMeta).href);\n    }\n    else {\n        const scriptElm = Array.from(doc.querySelectorAll('script')).find(s => (s.src.includes(`/${NAMESPACE}.esm.js`) ||\n            s.getAttribute('data-namespace') === NAMESPACE));\n        const resourcesUrl = new URL('.', new URL(scriptElm.getAttribute('data-resources-url') || scriptElm.src, win.location.href));\n        patchDynamicImport(resourcesUrl.href);\n        if (!window.customElements) {\n            // @ts-ignore\n            await Promise.resolve(require('./dom-a0c82e31-d4621515.js'));\n        }\n        return resourcesUrl.href;\n    }\n};\nconst patchDynamicImport = (base) => {\n    const importFunctionName = getDynamicImportFunction(NAMESPACE);\n    try {\n        win[importFunctionName] = new Function('w', 'return import(w);');\n    }\n    catch (e) {\n        const moduleMap = new Map();\n        win[importFunctionName] = (src) => {\n            const url = new URL(src, base).href;\n            let mod = moduleMap.get(url);\n            if (!mod) {\n                const script = doc.createElement('script');\n                script.type = 'module';\n                script.src = URL.createObjectURL(new Blob([`import * as m from '${url}'; window.${importFunctionName}.m = m;`], { type: 'application/javascript' }));\n                mod = new Promise(resolve => {\n                    script.onload = () => {\n                        resolve(win[importFunctionName].m);\n                        script.remove();\n                    };\n                });\n                moduleMap.set(url, mod);\n                doc.head.appendChild(script);\n            }\n            return mod;\n        };\n    }\n};\nconst HYDRATED_CLASS = 'hydrated';\n\nconst rootAppliedStyles = new WeakMap();\nconst registerStyle = (scopeId, cssText) => {\n    let style = styles.get(scopeId);\n    if (supportsConstructibleStylesheets) {\n        style = (style || new CSSStyleSheet());\n        style.replace(cssText);\n    }\n    else {\n        style = cssText;\n    }\n    styles.set(scopeId, style);\n};\nconst addStyle = (styleContainerNode, tagName, mode, hostElm) => {\n    let scopeId = getScopeId(tagName);\n    let style = styles.get(scopeId);\n    // if an element is NOT connected then getRootNode() will return the wrong root node\n    // so the fallback is to always use the document for the root node in those cases\n    styleContainerNode = (styleContainerNode.nodeType === 11 /* DocumentFragment */ ? styleContainerNode : doc);\n    if (style) {\n        if (typeof style === 'string') {\n            styleContainerNode = styleContainerNode.head || styleContainerNode;\n            let appliedStyles = rootAppliedStyles.get(styleContainerNode);\n            let styleElm;\n            if (!appliedStyles) {\n                rootAppliedStyles.set(styleContainerNode, appliedStyles = new Set());\n            }\n            if (!appliedStyles.has(scopeId)) {\n                {\n                    if (cssVarShim) {\n                        styleElm = cssVarShim.createHostStyle(hostElm, scopeId, style);\n                        const newScopeId = styleElm['s-sc'];\n                        if (newScopeId) {\n                            scopeId = newScopeId;\n                            // we don't want to add this styleID to the appliedStyles Set\n                            // since the cssVarShim might need to apply several different\n                            // stylesheets for the same component\n                            appliedStyles = null;\n                        }\n                    }\n                    else {\n                        styleElm = doc.createElement('style');\n                        styleElm.innerHTML = style;\n                    }\n                    styleContainerNode.appendChild(styleElm);\n                }\n                if (appliedStyles) {\n                    appliedStyles.add(scopeId);\n                }\n            }\n        }\n        else if (!styleContainerNode.adoptedStyleSheets.includes(style)) {\n            styleContainerNode.adoptedStyleSheets = [\n                ...styleContainerNode.adoptedStyleSheets,\n                style\n            ];\n        }\n    }\n    return scopeId;\n};\nconst attachStyles = (elm, cmpMeta, mode) => {\n    const styleId = addStyle(elm.getRootNode(), cmpMeta.$tagName$, mode, elm);\n};\nconst getScopeId = (tagName, mode) => 'sc-' + (tagName);\n\n/**\n * Production h() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\n// const stack: any[] = [];\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, child?: d.ChildType): d.VNode;\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, ...children: d.ChildType[]): d.VNode;\nconst h = (nodeName, vnodeData, ...children) => {\n    let child = null;\n    let simple = false;\n    let lastSimple = false;\n    let key;\n    let slotName;\n    let vNodeChildren = [];\n    const walk = (c) => {\n        for (let i = 0; i < c.length; i++) {\n            child = c[i];\n            if (Array.isArray(child)) {\n                walk(child);\n            }\n            else if (child != null && typeof child !== 'boolean') {\n                if (simple = typeof nodeName !== 'function' && !isComplexType(child)) {\n                    child = String(child);\n                }\n                if (simple && lastSimple) {\n                    // If the previous child was simple (string), we merge both\n                    vNodeChildren[vNodeChildren.length - 1].$text$ += child;\n                }\n                else {\n                    // Append a new vNode, if it's text, we create a text vNode\n                    vNodeChildren.push(simple ? { $flags$: 0, $text$: child } : child);\n                }\n                lastSimple = simple;\n            }\n        }\n    };\n    walk(children);\n    if (vnodeData) {\n        // normalize class / classname attributes\n        {\n            key = vnodeData.key || undefined;\n        }\n        {\n            slotName = vnodeData.name;\n        }\n        {\n            const classData = vnodeData.className || vnodeData.class;\n            if (classData) {\n                vnodeData.class = typeof classData !== 'object'\n                    ? classData\n                    : Object.keys(classData)\n                        .filter(k => classData[k])\n                        .join(' ');\n            }\n        }\n    }\n    if (typeof nodeName === 'function') {\n        // nodeName is a functional component\n        return nodeName(vnodeData, vNodeChildren, vdomFnUtils);\n    }\n    const vnode = {\n        $flags$: 0,\n        $tag$: nodeName,\n        $children$: vNodeChildren.length > 0 ? vNodeChildren : null,\n        $elm$: undefined,\n        $attrs$: vnodeData,\n    };\n    {\n        vnode.$key$ = key;\n    }\n    {\n        vnode.$name$ = slotName;\n    }\n    return vnode;\n};\nconst Host = {};\nconst vdomFnUtils = {\n    'forEach': (children, cb) => children.map(convertToPublic).forEach(cb),\n    'map': (children, cb) => children.map(convertToPublic).map(cb).map(convertToPrivate)\n};\nconst convertToPublic = (node) => {\n    return {\n        vattrs: node.$attrs$,\n        vchildren: node.$children$,\n        vkey: node.$key$,\n        vname: node.$name$,\n        vtag: node.$tag$,\n        vtext: node.$text$\n    };\n};\nconst convertToPrivate = (node) => {\n    return {\n        $flags$: 0,\n        $attrs$: node.vattrs,\n        $children$: node.vchildren,\n        $key$: node.vkey,\n        $name$: node.vname,\n        $tag$: node.vtag,\n        $text$: node.vtext\n    };\n};\n\n/**\n * Production setAccessor() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\nconst setAccessor = (elm, memberName, oldValue, newValue, isSvg, flags) => {\n    if (oldValue === newValue) {\n        return;\n    }\n    if (memberName === 'class' && !isSvg) {\n        // Class\n        {\n            const oldList = parseClassList(oldValue);\n            const baseList = parseClassList(elm.className).filter(item => !oldList.includes(item));\n            elm.className = baseList.concat(parseClassList(newValue).filter(item => !baseList.includes(item))).join(' ');\n        }\n    }\n    else if (memberName === 'style') {\n        // update style attribute, css properties and values\n        {\n            for (const prop in oldValue) {\n                if (!newValue || newValue[prop] == null) {\n                    if (prop.includes('-')) {\n                        elm.style.removeProperty(prop);\n                    }\n                    else {\n                        elm.style[prop] = '';\n                    }\n                }\n            }\n        }\n        for (const prop in newValue) {\n            if (!oldValue || newValue[prop] !== oldValue[prop]) {\n                if (prop.includes('-')) {\n                    elm.style.setProperty(prop, newValue[prop]);\n                }\n                else {\n                    elm.style[prop] = newValue[prop];\n                }\n            }\n        }\n    }\n    else if (memberName === 'key') ;\n    else if (memberName === 'ref') {\n        // minifier will clean this up\n        if (newValue) {\n            newValue(elm);\n        }\n    }\n    else if (memberName.startsWith('on') && !isMemberInElement(elm, memberName)) {\n        // Event Handlers\n        // so if the member name starts with \"on\" and the 3rd characters is\n        // a capital letter, and it's not already a member on the element,\n        // then we're assuming it's an event listener\n        if (isMemberInElement(elm, toLowerCase(memberName))) {\n            // standard event\n            // the JSX attribute could have been \"onMouseOver\" and the\n            // member name \"onmouseover\" is on the element's prototype\n            // so let's add the listener \"mouseover\", which is all lowercased\n            memberName = toLowerCase(memberName.substring(2));\n        }\n        else {\n            // custom event\n            // the JSX attribute could have been \"onMyCustomEvent\"\n            // so let's trim off the \"on\" prefix and lowercase the first character\n            // and add the listener \"myCustomEvent\"\n            // except for the first character, we keep the event name case\n            memberName = toLowerCase(memberName[2]) + memberName.substring(3);\n        }\n        if (oldValue) {\n            plt.rel(elm, memberName, oldValue, false);\n        }\n        if (newValue) {\n            plt.ael(elm, memberName, newValue, false);\n        }\n    }\n    else {\n        // Set property if it exists and it's not a SVG\n        const isProp = isMemberInElement(elm, memberName);\n        const isComplex = isComplexType(newValue);\n        if ((isProp || (isComplex && newValue !== null)) && !isSvg) {\n            try {\n                elm[memberName] = newValue == null && elm.tagName.indexOf('-') === -1 ? '' : newValue;\n            }\n            catch (e) { }\n        }\n        if (newValue == null || newValue === false) {\n            {\n                elm.removeAttribute(memberName);\n            }\n        }\n        else if ((!isProp || (flags & 4 /* isHost */) || isSvg) && !isComplex) {\n            newValue = newValue === true ? '' : newValue.toString();\n            {\n                elm.setAttribute(memberName, newValue);\n            }\n        }\n    }\n};\nconst parseClassList = (value) => (!value) ? [] : value.split(' ');\n\nconst updateElement = (oldVnode, newVnode, isSvgMode, memberName) => {\n    // if the element passed in is a shadow root, which is a document fragment\n    // then we want to be adding attrs/props to the shadow root's \"host\" element\n    // if it's not a shadow root, then we add attrs/props to the same element\n    const elm = (newVnode.$elm$.nodeType === 11 /* DocumentFragment */ && newVnode.$elm$.host) ? newVnode.$elm$.host : newVnode.$elm$;\n    const oldVnodeAttrs = (oldVnode && oldVnode.$attrs$) || EMPTY_OBJ;\n    const newVnodeAttrs = newVnode.$attrs$ || EMPTY_OBJ;\n    {\n        // remove attributes no longer present on the vnode by setting them to undefined\n        for (memberName in oldVnodeAttrs) {\n            if (newVnodeAttrs[memberName] == null && oldVnodeAttrs[memberName] != null) {\n                setAccessor(elm, memberName, oldVnodeAttrs[memberName], undefined, isSvgMode, newVnode.$flags$);\n            }\n        }\n    }\n    // add new & update changed attributes\n    for (memberName in newVnodeAttrs) {\n        setAccessor(elm, memberName, oldVnodeAttrs[memberName], newVnodeAttrs[memberName], isSvgMode, newVnode.$flags$);\n    }\n};\n\nlet scopeId;\nlet contentRef;\nlet hostTagName;\nlet useNativeShadowDom = false;\nlet checkSlotFallbackVisibility = false;\nlet checkSlotRelocate = false;\nlet isSvgMode = false;\nconst createElm = (oldParentVNode, newParentVNode, childIndex, parentElm) => {\n    // tslint:disable-next-line: prefer-const\n    let newVNode = newParentVNode.$children$[childIndex];\n    let i = 0;\n    let elm;\n    let childNode;\n    let oldVNode;\n    if (!useNativeShadowDom) {\n        // remember for later we need to check to relocate nodes\n        checkSlotRelocate = true;\n        if (newVNode.$tag$ === 'slot') {\n            if (scopeId) {\n                // scoped css needs to add its scoped id to the parent element\n                parentElm.classList.add(scopeId + '-s');\n            }\n            if (!newVNode.$children$) {\n                // slot element does not have fallback content\n                // create an html comment we'll use to always reference\n                // where actual slot content should sit next to\n                newVNode.$flags$ |= 1 /* isSlotReference */;\n            }\n            else {\n                // slot element has fallback content\n                // still create an element that \"mocks\" the slot element\n                newVNode.$flags$ |= 2 /* isSlotFallback */;\n            }\n        }\n    }\n    if (isDef(newVNode.$text$)) {\n        // create text node\n        newVNode.$elm$ = doc.createTextNode(newVNode.$text$);\n    }\n    else if (newVNode.$flags$ & 1 /* isSlotReference */) {\n        // create a slot reference node\n        newVNode.$elm$ = doc.createTextNode('');\n    }\n    else {\n        // create element\n        elm = newVNode.$elm$ = (doc.createElement((newVNode.$flags$ & 2 /* isSlotFallback */) ? 'slot-fb' : newVNode.$tag$));\n        // add css classes, attrs, props, listeners, etc.\n        {\n            updateElement(null, newVNode, isSvgMode);\n        }\n        if (newVNode.$children$) {\n            for (i = 0; i < newVNode.$children$.length; ++i) {\n                // create the node\n                childNode = createElm(oldParentVNode, newVNode, i, elm);\n                // return node could have been null\n                if (childNode) {\n                    // append our new node\n                    elm.appendChild(childNode);\n                }\n            }\n        }\n    }\n    {\n        newVNode.$elm$['s-hn'] = hostTagName;\n        if (newVNode.$flags$ & (2 /* isSlotFallback */ | 1 /* isSlotReference */)) {\n            // remember the content reference comment\n            newVNode.$elm$['s-sr'] = true;\n            // remember the content reference comment\n            newVNode.$elm$['s-cr'] = contentRef;\n            // remember the slot name, or empty string for default slot\n            newVNode.$elm$['s-sn'] = newVNode.$name$ || '';\n            // check if we've got an old vnode for this slot\n            oldVNode = oldParentVNode && oldParentVNode.$children$ && oldParentVNode.$children$[childIndex];\n            if (oldVNode && oldVNode.$tag$ === newVNode.$tag$ && oldParentVNode.$elm$) {\n                // we've got an old slot vnode and the wrapper is being replaced\n                // so let's move the old slot content back to it's original location\n                putBackInOriginalLocation(oldParentVNode.$elm$, false);\n            }\n        }\n    }\n    return newVNode.$elm$;\n};\nconst putBackInOriginalLocation = (parentElm, recursive) => {\n    plt.$flags$ |= 1 /* isTmpDisconnected */;\n    const oldSlotChildNodes = parentElm.childNodes;\n    for (let i = oldSlotChildNodes.length - 1; i >= 0; i--) {\n        const childNode = oldSlotChildNodes[i];\n        if (childNode['s-hn'] !== hostTagName && childNode['s-ol']) {\n            // // this child node in the old element is from another component\n            // // remove this node from the old slot's parent\n            // childNode.remove();\n            // and relocate it back to it's original location\n            parentReferenceNode(childNode).insertBefore(childNode, referenceNode(childNode));\n            // remove the old original location comment entirely\n            // later on the patch function will know what to do\n            // and move this to the correct spot in need be\n            childNode['s-ol'].remove();\n            childNode['s-ol'] = undefined;\n            checkSlotRelocate = true;\n        }\n        if (recursive) {\n            putBackInOriginalLocation(childNode, recursive);\n        }\n    }\n    plt.$flags$ &= ~1 /* isTmpDisconnected */;\n};\nconst addVnodes = (parentElm, before, parentVNode, vnodes, startIdx, endIdx) => {\n    let containerElm = ((parentElm['s-cr'] && parentElm['s-cr'].parentNode) || parentElm);\n    let childNode;\n    for (; startIdx <= endIdx; ++startIdx) {\n        if (vnodes[startIdx]) {\n            childNode = createElm(null, parentVNode, startIdx, parentElm);\n            if (childNode) {\n                vnodes[startIdx].$elm$ = childNode;\n                containerElm.insertBefore(childNode, referenceNode(before));\n            }\n        }\n    }\n};\nconst removeVnodes = (vnodes, startIdx, endIdx, elm) => {\n    for (; startIdx <= endIdx; ++startIdx) {\n        if (isDef(vnodes[startIdx])) {\n            elm = vnodes[startIdx].$elm$;\n            callNodeRefs(vnodes[startIdx], true);\n            {\n                // we're removing this element\n                // so it's possible we need to show slot fallback content now\n                checkSlotFallbackVisibility = true;\n                if (elm['s-ol']) {\n                    // remove the original location comment\n                    elm['s-ol'].remove();\n                }\n                else {\n                    // it's possible that child nodes of the node\n                    // that's being removed are slot nodes\n                    putBackInOriginalLocation(elm, true);\n                }\n            }\n            // remove the vnode's element from the dom\n            elm.remove();\n        }\n    }\n};\nconst updateChildren = (parentElm, oldCh, newVNode, newCh) => {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let idxInOld = 0;\n    let i = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let node;\n    let elmToMove;\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            // Vnode might have been moved left\n            oldStartVnode = oldCh[++oldStartIdx];\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newStartVnode)) {\n            patch(oldStartVnode, newStartVnode);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newEndVnode)) {\n            patch(oldEndVnode, newEndVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newEndVnode)) {\n            // Vnode moved right\n            if (oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot') {\n                putBackInOriginalLocation(oldStartVnode.$elm$.parentNode, false);\n            }\n            patch(oldStartVnode, newEndVnode);\n            parentElm.insertBefore(oldStartVnode.$elm$, oldEndVnode.$elm$.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newStartVnode)) {\n            // Vnode moved left\n            if (oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot') {\n                putBackInOriginalLocation(oldEndVnode.$elm$.parentNode, false);\n            }\n            patch(oldEndVnode, newStartVnode);\n            parentElm.insertBefore(oldEndVnode.$elm$, oldStartVnode.$elm$);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            // createKeyToOldIdx\n            idxInOld = -1;\n            {\n                for (i = oldStartIdx; i <= oldEndIdx; ++i) {\n                    if (oldCh[i] && isDef(oldCh[i].$key$) && oldCh[i].$key$ === newStartVnode.$key$) {\n                        idxInOld = i;\n                        break;\n                    }\n                }\n            }\n            if (idxInOld >= 0) {\n                elmToMove = oldCh[idxInOld];\n                if (elmToMove.$tag$ !== newStartVnode.$tag$) {\n                    node = createElm(oldCh && oldCh[newStartIdx], newVNode, idxInOld, parentElm);\n                }\n                else {\n                    patch(elmToMove, newStartVnode);\n                    oldCh[idxInOld] = undefined;\n                    node = elmToMove.$elm$;\n                }\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                // new element\n                node = createElm(oldCh && oldCh[newStartIdx], newVNode, newStartIdx, parentElm);\n                newStartVnode = newCh[++newStartIdx];\n            }\n            if (node) {\n                {\n                    parentReferenceNode(oldStartVnode.$elm$).insertBefore(node, referenceNode(oldStartVnode.$elm$));\n                }\n            }\n        }\n    }\n    if (oldStartIdx > oldEndIdx) {\n        addVnodes(parentElm, (newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].$elm$), newVNode, newCh, newStartIdx, newEndIdx);\n    }\n    else if (newStartIdx > newEndIdx) {\n        removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n};\nconst isSameVnode = (vnode1, vnode2) => {\n    // compare if two vnode to see if they're \"technically\" the same\n    // need to have the same element tag, and same key to be the same\n    if (vnode1.$tag$ === vnode2.$tag$) {\n        if (vnode1.$tag$ === 'slot') {\n            return vnode1.$name$ === vnode2.$name$;\n        }\n        {\n            return vnode1.$key$ === vnode2.$key$;\n        }\n        return true;\n    }\n    return false;\n};\nconst referenceNode = (node) => {\n    // this node was relocated to a new location in the dom\n    // because of some other component's slot\n    // but we still have an html comment in place of where\n    // it's original location was according to it's original vdom\n    return (node && node['s-ol']) || node;\n};\nconst parentReferenceNode = (node) => (node['s-ol'] ? node['s-ol'] : node).parentNode;\nconst patch = (oldVNode, newVNode) => {\n    const elm = newVNode.$elm$ = oldVNode.$elm$;\n    const oldChildren = oldVNode.$children$;\n    const newChildren = newVNode.$children$;\n    let defaultHolder;\n    if (!isDef(newVNode.$text$)) {\n        // element node\n        {\n            if (newVNode.$tag$ === 'slot') ;\n            else {\n                // either this is the first render of an element OR it's an update\n                // AND we already know it's possible it could have changed\n                // this updates the element's css classes, attrs, props, listeners, etc.\n                updateElement(oldVNode, newVNode, isSvgMode);\n            }\n        }\n        if (isDef(oldChildren) && isDef(newChildren)) {\n            // looks like there's child vnodes for both the old and new vnodes\n            updateChildren(elm, oldChildren, newVNode, newChildren);\n        }\n        else if (isDef(newChildren)) {\n            // no old child vnodes, but there are new child vnodes to add\n            if (isDef(oldVNode.$text$)) {\n                // the old vnode was text, so be sure to clear it out\n                elm.textContent = '';\n            }\n            // add the new vnode children\n            addVnodes(elm, null, newVNode, newChildren, 0, newChildren.length - 1);\n        }\n        else if (isDef(oldChildren)) {\n            // no new child vnodes, but there are old child vnodes to remove\n            removeVnodes(oldChildren, 0, oldChildren.length - 1);\n        }\n    }\n    else if (defaultHolder = elm['s-cr']) {\n        // this element has slotted content\n        defaultHolder.parentNode.textContent = newVNode.$text$;\n    }\n    else if (oldVNode.$text$ !== newVNode.$text$) {\n        // update the text content for the text only vnode\n        // and also only if the text is different than before\n        elm.textContent = newVNode.$text$;\n    }\n};\nconst updateFallbackSlotVisibility = (elm, childNode, childNodes, i, ilen, j, slotNameAttr, nodeType) => {\n    childNodes = elm.childNodes;\n    for (i = 0, ilen = childNodes.length; i < ilen; i++) {\n        childNode = childNodes[i];\n        if (childNode.nodeType === 1 /* ElementNode */) {\n            if (childNode['s-sr']) {\n                // this is a slot fallback node\n                // get the slot name for this slot reference node\n                slotNameAttr = childNode['s-sn'];\n                // by default always show a fallback slot node\n                // then hide it if there are other slots in the light dom\n                childNode.hidden = false;\n                for (j = 0; j < ilen; j++) {\n                    if (childNodes[j]['s-hn'] !== childNode['s-hn']) {\n                        // this sibling node is from a different component\n                        nodeType = childNodes[j].nodeType;\n                        if (slotNameAttr !== '') {\n                            // this is a named fallback slot node\n                            if (nodeType === 1 /* ElementNode */ && slotNameAttr === childNodes[j].getAttribute('slot')) {\n                                childNode.hidden = true;\n                                break;\n                            }\n                        }\n                        else {\n                            // this is a default fallback slot node\n                            // any element or text node (with content)\n                            // should hide the default fallback slot node\n                            if (nodeType === 1 /* ElementNode */ || (nodeType === 3 /* TextNode */ && childNodes[j].textContent.trim() !== '')) {\n                                childNode.hidden = true;\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            // keep drilling down\n            updateFallbackSlotVisibility(childNode);\n        }\n    }\n};\nconst relocateNodes = [];\nconst relocateSlotContent = (elm) => {\n    // tslint:disable-next-line: prefer-const\n    let childNodes = elm.childNodes;\n    let ilen = childNodes.length;\n    let i = 0;\n    let j = 0;\n    let nodeType = 0;\n    let childNode;\n    let node;\n    let hostContentNodes;\n    let slotNameAttr;\n    for (ilen = childNodes.length; i < ilen; i++) {\n        childNode = childNodes[i];\n        if (childNode['s-sr'] && (node = childNode['s-cr'])) {\n            // first got the content reference comment node\n            // then we got it's parent, which is where all the host content is in now\n            hostContentNodes = node.parentNode.childNodes;\n            slotNameAttr = childNode['s-sn'];\n            for (j = hostContentNodes.length - 1; j >= 0; j--) {\n                node = hostContentNodes[j];\n                if (!node['s-cn'] && !node['s-nr'] && node['s-hn'] !== childNode['s-hn']) {\n                    // let's do some relocating to its new home\n                    // but never relocate a content reference node\n                    // that is suppose to always represent the original content location\n                    nodeType = node.nodeType;\n                    if (((nodeType === 3 /* TextNode */ || nodeType === 8 /* CommentNode */) && slotNameAttr === '') ||\n                        (nodeType === 1 /* ElementNode */ && node.getAttribute('slot') === null && slotNameAttr === '') ||\n                        (nodeType === 1 /* ElementNode */ && node.getAttribute('slot') === slotNameAttr)) {\n                        // it's possible we've already decided to relocate this node\n                        if (!relocateNodes.some(r => r.nodeToRelocate === node)) {\n                            // made some changes to slots\n                            // let's make sure we also double check\n                            // fallbacks are correctly hidden or shown\n                            checkSlotFallbackVisibility = true;\n                            node['s-sn'] = slotNameAttr;\n                            // add to our list of nodes to relocate\n                            relocateNodes.push({\n                                slotRefNode: childNode,\n                                nodeToRelocate: node\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        if (childNode.nodeType === 1 /* ElementNode */) {\n            relocateSlotContent(childNode);\n        }\n    }\n};\nconst callNodeRefs = (vNode, isDestroy) => {\n    if (vNode) {\n        vNode.$attrs$ && vNode.$attrs$.ref && vNode.$attrs$.ref(isDestroy ? null : vNode.$elm$);\n        vNode.$children$ && vNode.$children$.forEach(vChild => {\n            callNodeRefs(vChild, isDestroy);\n        });\n    }\n};\nconst isHost = (node) => {\n    return node && node.$tag$ === Host;\n};\nconst renderVdom = (hostElm, hostRef, cmpMeta, renderFnResults) => {\n    const oldVNode = hostRef.$vnode$ || { $flags$: 0 };\n    hostTagName = toLowerCase(hostElm.tagName);\n    if (isHost(renderFnResults)) {\n        renderFnResults.$tag$ = null;\n    }\n    else {\n        renderFnResults = h(null, null, renderFnResults);\n    }\n    if (BUILD.reflect && cmpMeta.$attrsToReflect$) {\n        renderFnResults.$attrs$ = renderFnResults.$attrs$ || {};\n        cmpMeta.$attrsToReflect$.forEach(([propName, attribute]) => renderFnResults.$attrs$[attribute] = hostElm[propName]);\n    }\n    renderFnResults.$flags$ |= 4 /* isHost */;\n    hostRef.$vnode$ = renderFnResults;\n    renderFnResults.$elm$ = oldVNode.$elm$ = (BUILD.shadowDom ? hostElm.shadowRoot || hostElm : hostElm);\n    if (BUILD.scoped || BUILD.shadowDom) {\n        scopeId = hostElm['s-sc'];\n    }\n    if (BUILD.slotRelocation) {\n        contentRef = hostElm['s-cr'];\n        useNativeShadowDom = supportsShadowDom && (cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) !== 0;\n        // always reset\n        checkSlotRelocate = checkSlotFallbackVisibility = false;\n    }\n    // synchronous patch\n    patch(oldVNode, renderFnResults);\n    if (BUILD.slotRelocation) {\n        if (checkSlotRelocate) {\n            relocateSlotContent(renderFnResults.$elm$);\n            for (let i = 0; i < relocateNodes.length; i++) {\n                const relocateNode = relocateNodes[i];\n                if (!relocateNode.nodeToRelocate['s-ol']) {\n                    // add a reference node marking this node's original location\n                    // keep a reference to this node for later lookups\n                    const orgLocationNode = (BUILD.isDebug || BUILD.hydrateServerSide)\n                        ? doc.createComment(`org-loc`)\n                        : doc.createTextNode('');\n                    orgLocationNode['s-nr'] = relocateNode.nodeToRelocate;\n                    relocateNode.nodeToRelocate.parentNode.insertBefore((relocateNode.nodeToRelocate['s-ol'] = orgLocationNode), relocateNode.nodeToRelocate);\n                }\n            }\n            // while we're moving nodes around existing nodes, temporarily disable\n            // the disconnectCallback from working\n            plt.$flags$ |= 1 /* isTmpDisconnected */;\n            for (let i = 0; i < relocateNodes.length; i++) {\n                const relocateNode = relocateNodes[i];\n                // by default we're just going to insert it directly\n                // after the slot reference node\n                const parentNodeRef = relocateNode.slotRefNode.parentNode;\n                let insertBeforeNode = relocateNode.slotRefNode.nextSibling;\n                let orgLocationNode = relocateNode.nodeToRelocate['s-ol'];\n                while (orgLocationNode = orgLocationNode.previousSibling) {\n                    let refNode = orgLocationNode['s-nr'];\n                    if (refNode && refNode) {\n                        if (refNode['s-sn'] === relocateNode.nodeToRelocate['s-sn']) {\n                            if (parentNodeRef === refNode.parentNode) {\n                                if ((refNode = refNode.nextSibling) && refNode && !refNode['s-nr']) {\n                                    insertBeforeNode = refNode;\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                if ((!insertBeforeNode && parentNodeRef !== relocateNode.nodeToRelocate.parentNode) ||\n                    (relocateNode.nodeToRelocate.nextSibling !== insertBeforeNode)) {\n                    // we've checked that it's worth while to relocate\n                    // since that the node to relocate\n                    // has a different next sibling or parent relocated\n                    if (relocateNode.nodeToRelocate !== insertBeforeNode) {\n                        // add it back to the dom but in its new home\n                        parentNodeRef.insertBefore(relocateNode.nodeToRelocate, insertBeforeNode);\n                    }\n                }\n            }\n            // done moving nodes around\n            // allow the disconnect callback to work again\n            plt.$flags$ &= ~1 /* isTmpDisconnected */;\n        }\n        if (checkSlotFallbackVisibility) {\n            updateFallbackSlotVisibility(renderFnResults.$elm$);\n        }\n        // always reset\n        relocateNodes.length = 0;\n    }\n};\n\nconst safeCall = async (instance, method) => {\n    if (instance && instance[method]) {\n        try {\n            await instance[method]();\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n};\nconst scheduleUpdate = async (elm, hostRef, cmpMeta, isInitialLoad) => {\n    {\n        hostRef.$flags$ |= 16 /* isQueuedForUpdate */;\n    }\n    const instance = hostRef.$lazyInstance$;\n    if (isInitialLoad) {\n        {\n            await safeCall(instance, 'componentWillLoad');\n        }\n    }\n    // there is no ancestorc omponent or the ancestor component\n    // has already fired off its lifecycle update then\n    // fire off the initial update\n    {\n        writeTask(() => updateComponent(elm, hostRef, cmpMeta, instance, isInitialLoad));\n    }\n};\nconst updateComponent = (elm, hostRef, cmpMeta, instance, isInitialLoad) => {\n    // updateComponent\n    {\n        hostRef.$flags$ &= ~16 /* isQueuedForUpdate */;\n    }\n    {\n        elm['s-lr'] = false;\n    }\n    if (isInitialLoad) {\n        // DOM WRITE!\n        attachStyles(elm, cmpMeta, hostRef.$modeName$);\n    }\n    {\n        {\n            // tell the platform we're actively rendering\n            // if a value is changed within a render() then\n            // this tells the platform not to queue the change\n            hostRef.$flags$ |= 4 /* isActiveRender */;\n            try {\n                // looks like we've got child nodes to render into this host element\n                // or we need to update the css class/attrs on the host element\n                // DOM WRITE!\n                renderVdom(elm, hostRef, cmpMeta, (BUILD.allRenderFn) ? instance.render() : (instance.render && instance.render()));\n            }\n            catch (e) {\n                consoleError(e);\n            }\n            hostRef.$flags$ &= ~4 /* isActiveRender */;\n        }\n    }\n    if (cssVarShim) {\n        cssVarShim.updateHost(elm);\n    }\n    // set that this component lifecycle rendering has completed\n    {\n        elm['s-lr'] = true;\n    }\n    {\n        hostRef.$flags$ |= 2 /* hasRendered */;\n    }\n    if (elm['s-rc'].length > 0) {\n        // ok, so turns out there are some child host elements\n        // waiting on this parent element to load\n        // let's fire off all update callbacks waiting\n        elm['s-rc'].forEach(cb => cb());\n        elm['s-rc'].length = 0;\n    }\n    postUpdateComponent(elm, hostRef);\n};\nconst postUpdateComponent = (elm, hostRef, ancestorsActivelyLoadingChildren) => {\n    if (!elm['s-al']) {\n        const instance = hostRef.$lazyInstance$;\n        const ancestorComponent = hostRef.$ancestorComponent$;\n        if (!(hostRef.$flags$ & 512 /* hasLoadedComponent */)) {\n            hostRef.$flags$ |= 512 /* hasLoadedComponent */;\n            {\n                // DOM WRITE!\n                // add the css class that this element has officially hydrated\n                elm.classList.add(HYDRATED_CLASS);\n            }\n            {\n                safeCall(instance, 'componentDidLoad');\n            }\n            {\n                hostRef.$onReadyResolve$(elm);\n            }\n            if (!ancestorComponent) {\n                // on appload\n                // we have finish the first big initial render\n                doc.documentElement.classList.add(HYDRATED_CLASS);\n                {\n                    setTimeout(() => plt.$flags$ |= 2 /* appLoaded */, 999);\n                }\n            }\n        }\n        else {\n            {\n                // we've already loaded this component\n                // fire off the user's componentDidUpdate method (if one was provided)\n                // componentDidUpdate runs AFTER render() has been called\n                // and all child components have finished updating\n                safeCall(instance, 'componentDidUpdate');\n            }\n        }\n        // load events fire from bottom to top\n        // the deepest elements load first then bubbles up\n        if (ancestorComponent) {\n            // ok so this element already has a known ancestor component\n            // let's make sure we remove this element from its ancestor's\n            // known list of child elements which are actively loading\n            if (ancestorsActivelyLoadingChildren = ancestorComponent['s-al']) {\n                // remove this element from the actively loading map\n                ancestorsActivelyLoadingChildren.delete(elm);\n                // the ancestor's initializeComponent method will do the actual checks\n                // to see if the ancestor is actually loaded or not\n                // then let's call the ancestor's initializeComponent method if there's no length\n                // (which actually ends up as this method again but for the ancestor)\n                if (ancestorsActivelyLoadingChildren.size === 0) {\n                    ancestorComponent['s-al'] = undefined;\n                    ancestorComponent['s-init']();\n                }\n            }\n            hostRef.$ancestorComponent$ = undefined;\n        }\n        // ( _)\n        // ( _)>-\n        // (_)\n    }\n};\n\nconst disconnectedCallback = (elm) => {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        const hostRef = getHostRef(elm);\n        // clear CSS var-shim tracking\n        if (cssVarShim) {\n            cssVarShim.removeHost(elm);\n        }\n        const instance = hostRef.$lazyInstance$;\n        {\n            safeCall(instance, 'disconnectedCallback');\n        }\n        {\n            safeCall(instance, 'componentDidUnload');\n        }\n    }\n};\n\nconst parsePropertyValue = (propValue, propType) => {\n    // ensure this value is of the correct prop type\n    if (propValue != null && !isComplexType(propValue)) {\n        if (propType & 4 /* Boolean */) {\n            // per the HTML spec, any string value means it is a boolean true value\n            // but we'll cheat here and say that the string \"false\" is the boolean false\n            return (propValue === 'false' ? false : propValue === '' || !!propValue);\n        }\n        if (propType & 2 /* Number */) {\n            // force it to be a number\n            return parseFloat(propValue);\n        }\n        if (propType & 1 /* String */) {\n            // could have been passed as a number or boolean\n            // but we still want it as a string\n            return String(propValue);\n        }\n        // redundant return here for better minification\n        return propValue;\n    }\n    // not sure exactly what type we want\n    // so no need to change to a different type\n    return propValue;\n};\n\nconst getValue = (ref, propName) => getHostRef(ref).$instanceValues$.get(propName);\nconst setValue = (ref, propName, newVal, cmpMeta) => {\n    // check our new property value against our internal value\n    const hostRef = getHostRef(ref);\n    const elm = hostRef.$hostElement$;\n    const oldVal = hostRef.$instanceValues$.get(propName);\n    const flags = hostRef.$flags$;\n    newVal = parsePropertyValue(newVal, cmpMeta.$members$[propName][0]);\n    if (newVal !== oldVal && (!(flags & 8 /* isConstructingInstance */) || oldVal === undefined)) {\n        // gadzooks! the property's value has changed!!\n        // set our new value!\n        hostRef.$instanceValues$.set(propName, newVal);\n        if (hostRef.$lazyInstance$) {\n            // get an array of method names of watch functions to call\n            if (cmpMeta.$watchers$ &&\n                (flags & (1 /* hasConnected */ | 8 /* isConstructingInstance */)) === 1 /* hasConnected */) {\n                const watchMethods = cmpMeta.$watchers$[propName];\n                if (watchMethods) {\n                    // this instance is watching for when this property changed\n                    watchMethods.forEach(watchMethodName => {\n                        try {\n                            // fire off each of the watch methods that are watching this property\n                            (BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm)[watchMethodName].call((BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm), newVal, oldVal, propName);\n                        }\n                        catch (e) {\n                            consoleError(e);\n                        }\n                    });\n                }\n            }\n            if ((flags & (4 /* isActiveRender */ | 2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {\n                // looks like this value actually changed, so we've got work to do!\n                // but only if we've already rendered, otherwise just chill out\n                // queue that we need to do an update, but don't worry about queuing\n                // up millions cuz this function ensures it only runs once\n                scheduleUpdate(elm, hostRef, cmpMeta, false);\n            }\n        }\n    }\n};\n\nconst proxyComponent = (Cstr, cmpMeta, flags) => {\n    if (cmpMeta.$members$) {\n        if (Cstr.watchers) {\n            cmpMeta.$watchers$ = Cstr.watchers;\n        }\n        // It's better to have a const than two Object.entries()\n        const members = Object.entries(cmpMeta.$members$);\n        const prototype = Cstr.prototype;\n        members.forEach(([memberName, [memberFlags]]) => {\n            if ((memberFlags & 31) || (flags & 2 && (memberFlags & 32 /* State */))) {\n                // proxyComponent - prop\n                Object.defineProperty(prototype, memberName, {\n                    get() {\n                        // proxyComponent, get value\n                        return getValue(this, memberName);\n                    },\n                    set(newValue) {\n                        // proxyComponent, set value\n                        setValue(this, memberName, newValue, cmpMeta);\n                    },\n                    configurable: true,\n                    enumerable: true\n                });\n            }\n        });\n        if (flags & 1) {\n            const attrNameToPropName = new Map();\n            prototype.attributeChangedCallback = function (attrName, _oldValue, newValue) {\n                const propName = attrNameToPropName.get(attrName);\n                this[propName] = newValue === null && typeof this[propName] === 'boolean'\n                    ? false\n                    : newValue;\n            };\n            // create an array of attributes to observe\n            // and also create a map of html attribute name to js property name\n            Cstr.observedAttributes = members\n                .filter(([_, m]) => m[0] & 15 /* HasAttribute */) // filter to only keep props that should match attributes\n                .map(([propName, m]) => {\n                const attrName = m[1] || propName;\n                attrNameToPropName.set(attrName, propName);\n                if (m[0] & 512 /* ReflectAttr */) {\n                    cmpMeta.$attrsToReflect$.push([propName, attrName]);\n                }\n                return attrName;\n            });\n        }\n    }\n    return Cstr;\n};\n\nconst initializeComponent = async (elm, hostRef, cmpMeta, hmrVersionId, Cstr) => {\n    // initializeComponent\n    if ((hostRef.$flags$ & 256 /* hasInitializedComponent */) === 0) {\n        // we haven't initialized this element yet\n        hostRef.$flags$ |= 256 /* hasInitializedComponent */;\n        {\n            // lazy loaded components\n            // request the component's implementation to be\n            // wired up with the host element\n            Cstr = await loadModule(cmpMeta);\n            if (!Cstr.isProxied) {\n                // we'eve never proxied this Constructor before\n                // let's add the getters/setters to its prototype before\n                // the first time we create an instance of the implementation\n                {\n                    cmpMeta.$watchers$ = Cstr.watchers;\n                }\n                proxyComponent(Cstr, cmpMeta, 2 /* proxyState */);\n                Cstr.isProxied = true;\n            }\n            // ok, time to construct the instance\n            // but let's keep track of when we start and stop\n            // so that the getters/setters don't incorrectly step on data\n            {\n                hostRef.$flags$ |= 8 /* isConstructingInstance */;\n            }\n            // construct the lazy-loaded component implementation\n            // passing the hostRef is very important during\n            // construction in order to directly wire together the\n            // host element and the lazy-loaded instance\n            try {\n                new Cstr(hostRef);\n            }\n            catch (e) {\n                consoleError(e);\n            }\n            {\n                hostRef.$flags$ &= ~8 /* isConstructingInstance */;\n            }\n            fireConnectedCallback(hostRef.$lazyInstance$);\n        }\n        if (!Cstr.isStyleRegistered && Cstr.style) {\n            // this component has styles but we haven't registered them yet\n            let style = Cstr.style;\n            let scopeId = getScopeId(cmpMeta.$tagName$);\n            registerStyle(scopeId, style);\n            Cstr.isStyleRegistered = true;\n        }\n    }\n    // we've successfully created a lazy instance\n    const ancestorComponent = hostRef.$ancestorComponent$;\n    if (ancestorComponent && !ancestorComponent['s-lr'] && ancestorComponent['s-rc']) {\n        // this is the intial load and this component it has an ancestor component\n        // but the ancestor component has NOT fired its will update lifecycle yet\n        // so let's just cool our jets and wait for the ancestor to continue first\n        ancestorComponent['s-rc'].push(() => \n        // this will get fired off when the ancestor component\n        // finally gets around to rendering its lazy self\n        // fire off the initial update\n        initializeComponent(elm, hostRef, cmpMeta));\n    }\n    else {\n        scheduleUpdate(elm, hostRef, cmpMeta, true);\n    }\n};\n\nconst fireConnectedCallback = (instance) => {\n    {\n        safeCall(instance, 'connectedCallback');\n    }\n};\nconst connectedCallback = (elm, cmpMeta) => {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        // connectedCallback\n        const hostRef = getHostRef(elm);\n        if (!(hostRef.$flags$ & 1 /* hasConnected */)) {\n            // first time this component has connected\n            hostRef.$flags$ |= 1 /* hasConnected */;\n            let hostId;\n            if (!hostId) {\n                // initUpdate\n                // if the slot polyfill is required we'll need to put some nodes\n                // in here to act as original content anchors as we move nodes around\n                // host element has been connected to the DOM\n                if (cmpMeta.$flags$ & 4 ||\n                    (BUILD.shadowDom && cmpMeta.$flags$ & 8 /* needsShadowDomShim */)) {\n                    setContentReference(elm);\n                }\n            }\n            {\n                // find the first ancestor component (if there is one) and register\n                // this component as one of the actively loading child components for its ancestor\n                let ancestorComponent = elm;\n                while ((ancestorComponent = (ancestorComponent.parentNode || ancestorComponent.host))) {\n                    // climb up the ancestors looking for the first\n                    // component that hasn't finished its lifecycle update yet\n                    if ((ancestorComponent['s-init'] && !ancestorComponent['s-lr']) || (BUILD.hydrateClientSide && ancestorComponent.nodeType === 1 /* ElementNode */ && ancestorComponent.hasAttribute('s-id'))) {\n                        // we found this components first ancestor component\n                        // keep a reference to this component's ancestor component\n                        hostRef.$ancestorComponent$ = ancestorComponent;\n                        // ensure there is an array to contain a reference to each of the child components\n                        // and set this component as one of the ancestor's child components it should wait on\n                        (ancestorComponent['s-al'] = ancestorComponent['s-al'] || new Set()).add(elm);\n                        break;\n                    }\n                }\n            }\n            // Lazy properties\n            // https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n            if (cmpMeta.$members$) {\n                Object.entries(cmpMeta.$members$).forEach(([memberName, [memberFlags]]) => {\n                    if (memberFlags & 31 /* Prop */ && elm.hasOwnProperty(memberName)) {\n                        const value = elm[memberName];\n                        delete elm[memberName];\n                        elm[memberName] = value;\n                    }\n                });\n            }\n            {\n                initializeComponent(elm, hostRef, cmpMeta);\n            }\n        }\n        fireConnectedCallback(hostRef.$lazyInstance$);\n    }\n};\nconst setContentReference = (elm, contentRefElm) => {\n    // only required when we're NOT using native shadow dom (slot)\n    // or this browser doesn't support native shadow dom\n    // and this host element was NOT created with SSR\n    // let's pick out the inner content for slot projection\n    // create a node to represent where the original\n    // content was first placed, which is useful later on\n    let crName;\n    {\n        crName = '';\n    }\n    contentRefElm = elm['s-cr'] = doc.createComment(crName);\n    contentRefElm['s-cn'] = true;\n    elm.insertBefore(contentRefElm, elm.firstChild);\n};\n\nconst bootstrapLazy = (lazyBundles, options = {}) => {\n    const cmpTags = [];\n    const exclude = options.exclude || [];\n    const head = doc.head;\n    const customElements = win.customElements;\n    const y = /*@__PURE__*/ head.querySelector('meta[charset]');\n    const visibilityStyle = /*@__PURE__*/ doc.createElement('style');\n    Object.assign(plt, options);\n    plt.$resourcesUrl$ = new URL(options.resourcesUrl || '/', win.location.href).href;\n    if (options.syncQueue) {\n        plt.$flags$ |= 4 /* queueSync */;\n    }\n    lazyBundles.forEach(lazyBundle => lazyBundle[1].forEach(compactMeta => {\n        const cmpMeta = {\n            $flags$: compactMeta[0],\n            $tagName$: compactMeta[1],\n            $members$: compactMeta[2],\n            $listeners$: compactMeta[3],\n        };\n        {\n            cmpMeta.$attrsToReflect$ = [];\n        }\n        {\n            cmpMeta.$watchers$ = {};\n        }\n        const tagName = cmpMeta.$tagName$;\n        const HostElement = class extends HTMLElement {\n            // StencilLazyHost\n            constructor(self) {\n                // @ts-ignore\n                super(self);\n                self = this;\n                {\n                    this['s-lr'] = false;\n                    this['s-rc'] = [];\n                }\n                registerHost(self);\n            }\n            connectedCallback() {\n                connectedCallback(this, cmpMeta);\n            }\n            disconnectedCallback() {\n                disconnectedCallback(this);\n            }\n            's-init'() {\n                const hostRef = getHostRef(this);\n                if (hostRef.$lazyInstance$) {\n                    postUpdateComponent(this, hostRef);\n                }\n            }\n            's-hmr'(hmrVersionId) {\n            }\n            forceUpdate() {\n                {\n                    const hostRef = getHostRef(this);\n                    scheduleUpdate(this, hostRef, cmpMeta, false);\n                }\n            }\n            componentOnReady() {\n                return getHostRef(this).$onReadyPromise$;\n            }\n        };\n        cmpMeta.$lazyBundleIds$ = lazyBundle[0];\n        if (!exclude.includes(tagName) && !customElements.get(tagName)) {\n            cmpTags.push(tagName);\n            customElements.define(tagName, proxyComponent(HostElement, cmpMeta, 1 /* isElementConstructor */));\n        }\n    }));\n    // visibilityStyle.innerHTML = cmpTags.map(t => `${t}:not(.hydrated)`) + '{display:none}';\n    visibilityStyle.innerHTML = cmpTags + '{visibility:hidden}.hydrated{visibility:inherit}';\n    visibilityStyle.setAttribute('data-styles', '');\n    head.insertBefore(visibilityStyle, y ? y.nextSibling : head.firstChild);\n};\n\nconst getAssetPath = (path) => {\n    const assetUrl = new URL(path, plt.$resourcesUrl$);\n    return (assetUrl.origin !== win.location.origin)\n        ? assetUrl.href\n        : assetUrl.pathname;\n};\n\nconst getContext = (_elm, context) => {\n    if (context in Context) {\n        return Context[context];\n    }\n    else if (context === 'window') {\n        return win;\n    }\n    else if (context === 'document') {\n        return doc;\n    }\n    else if (context === 'isServer' || context === 'isPrerender') {\n        return !!BUILD.hydrateServerSide;\n    }\n    else if (context === 'isClient') {\n        return !BUILD.hydrateServerSide;\n    }\n    else if (context === 'resourcesUrl' || context === 'publicPath') {\n        return getAssetPath('.');\n    }\n    else if (context === 'queue') {\n        return {\n            write: writeTask,\n            read: readTask,\n            tick: {\n                then(cb) {\n                    return nextTick(cb);\n                }\n            }\n        };\n    }\n    return undefined;\n};\n\nconst getElement = (ref) => getHostRef(ref).$hostElement$;\n\nexports.bootstrapLazy = bootstrapLazy;\nexports.getContext = getContext;\nexports.getElement = getElement;\nexports.h = h;\nexports.patchBrowser = patchBrowser;\nexports.patchEsm = patchEsm;\nexports.registerInstance = registerInstance;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nrequire('./stencilrouter-a3d77a87.js');\nconst __chunk_2 = require('./chunk-94c92d88.js');\nconst __chunk_3 = require('./chunk-b786ea51.js');\nrequire('./chunk-e6311a56.js');\n\nfunction injectHistory(Component) {\r\n    __chunk_2.ActiveRouter.injectProps(Component, ['history', 'location']);\r\n}\n\nexports.matchPath = __chunk_3.matchPath;\nexports.injectHistory = injectHistory;\n","'use strict';\n\nconst __chunk_1 = require('./stencilrouter-a3d77a87.js');\n\nconst createProviderConsumer = (defaultState, consumerRender) => {\r\n    let listeners = new Map();\r\n    let currentState = defaultState;\r\n    const updateListener = (fields, instance) => {\r\n        if (Array.isArray(fields)) {\r\n            [...fields].forEach(fieldName => {\r\n                instance[fieldName] = currentState[fieldName];\r\n            });\r\n        }\r\n        else {\r\n            instance[fields] = Object.assign({}, currentState);\r\n        }\r\n    };\r\n    const subscribe = (instance, propList) => {\r\n        if (!listeners.has(instance)) {\r\n            listeners.set(instance, propList);\r\n            updateListener(propList, instance);\r\n        }\r\n        return () => {\r\n            if (listeners.has(instance)) {\r\n                listeners.delete(instance);\r\n            }\r\n        };\r\n    };\r\n    const Provider = ({ state }, children) => {\r\n        currentState = state;\r\n        listeners.forEach(updateListener);\r\n        return children;\r\n    };\r\n    const Consumer = (props, children) => {\r\n        // The casting on subscribe is to allow for crossover through the stencil compiler\r\n        // In the future we should allow for generics in components.\r\n        return consumerRender(subscribe, children[0]);\r\n    };\r\n    const injectProps = (Cstr, fieldList) => {\r\n        const CstrPrototype = Cstr.prototype;\r\n        const cstrConnectedCallback = CstrPrototype.connectedCallback;\r\n        const cstrDisconnectedCallback = CstrPrototype.disconnectedCallback;\r\n        CstrPrototype.connectedCallback = function () {\r\n            subscribe(this, fieldList);\r\n            if (cstrConnectedCallback) {\r\n                return cstrConnectedCallback.call(this);\r\n            }\r\n        };\r\n        CstrPrototype.disconnectedCallback = function () {\r\n            listeners.delete(this);\r\n            if (cstrDisconnectedCallback) {\r\n                cstrDisconnectedCallback.call(this);\r\n            }\r\n        };\r\n    };\r\n    return {\r\n        Provider,\r\n        Consumer,\r\n        injectProps\r\n    };\r\n};\n\nconst ActiveRouter = createProviderConsumer({\r\n    historyType: 'browser',\r\n    location: {\r\n        pathname: '',\r\n        query: {},\r\n        key: ''\r\n    },\r\n    titleSuffix: '',\r\n    root: '/',\r\n    routeViewsUpdated: () => { }\r\n}, (subscribe, child) => (__chunk_1.h(\"context-consumer\", { subscribe: subscribe, renderer: child })));\n\nexports.ActiveRouter = ActiveRouter;\n","'use strict';\n\nconst hasBasename = (path, prefix) => {\r\n    return (new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i')).test(path);\r\n};\r\nconst stripBasename = (path, prefix) => {\r\n    return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\r\n};\r\nconst stripTrailingSlash = (path) => {\r\n    return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\r\n};\r\nconst addLeadingSlash = (path) => {\r\n    return path.charAt(0) === '/' ? path : '/' + path;\r\n};\r\nconst stripLeadingSlash = (path) => {\r\n    return path.charAt(0) === '/' ? path.substr(1) : path;\r\n};\r\nconst parsePath = (path) => {\r\n    let pathname = path || '/';\r\n    let search = '';\r\n    let hash = '';\r\n    const hashIndex = pathname.indexOf('#');\r\n    if (hashIndex !== -1) {\r\n        hash = pathname.substr(hashIndex);\r\n        pathname = pathname.substr(0, hashIndex);\r\n    }\r\n    const searchIndex = pathname.indexOf('?');\r\n    if (searchIndex !== -1) {\r\n        search = pathname.substr(searchIndex);\r\n        pathname = pathname.substr(0, searchIndex);\r\n    }\r\n    return {\r\n        pathname,\r\n        search: search === '?' ? '' : search,\r\n        hash: hash === '#' ? '' : hash,\r\n        query: {},\r\n        key: ''\r\n    };\r\n};\r\nconst createPath = (location) => {\r\n    const { pathname, search, hash } = location;\r\n    let path = pathname || '/';\r\n    if (search && search !== '?') {\r\n        path += (search.charAt(0) === '?' ? search : `?${search}`);\r\n    }\r\n    if (hash && hash !== '#') {\r\n        path += (hash.charAt(0) === '#' ? hash : `#${hash}`);\r\n    }\r\n    return path;\r\n};\r\nconst parseQueryString = (query) => {\r\n    if (!query) {\r\n        return {};\r\n    }\r\n    return (/^[?#]/.test(query) ? query.slice(1) : query)\r\n        .split('&')\r\n        .reduce((params, param) => {\r\n        let [key, value] = param.split('=');\r\n        params[key] = value ? decodeURIComponent(value.replace(/\\+/g, ' ')) : '';\r\n        return params;\r\n    }, {});\r\n};\n\nconst isAbsolute = (pathname) => {\r\n    return pathname.charAt(0) === '/';\r\n};\r\nconst createKey = (keyLength) => {\r\n    return Math.random().toString(36).substr(2, keyLength);\r\n};\r\n// About 1.5x faster than the two-arg version of Array#splice()\r\nconst spliceOne = (list, index) => {\r\n    for (let i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\r\n        list[i] = list[k];\r\n    }\r\n    list.pop();\r\n};\r\n// This implementation is based heavily on node's url.parse\r\nconst resolvePathname = (to, from = '') => {\r\n    let fromParts = from && from.split('/') || [];\r\n    let hasTrailingSlash;\r\n    let up = 0;\r\n    const toParts = to && to.split('/') || [];\r\n    const isToAbs = to && isAbsolute(to);\r\n    const isFromAbs = from && isAbsolute(from);\r\n    const mustEndAbs = isToAbs || isFromAbs;\r\n    if (to && isAbsolute(to)) {\r\n        // to is absolute\r\n        fromParts = toParts;\r\n    }\r\n    else if (toParts.length) {\r\n        // to is relative, drop the filename\r\n        fromParts.pop();\r\n        fromParts = fromParts.concat(toParts);\r\n    }\r\n    if (!fromParts.length) {\r\n        return '/';\r\n    }\r\n    if (fromParts.length) {\r\n        const last = fromParts[fromParts.length - 1];\r\n        hasTrailingSlash = (last === '.' || last === '..' || last === '');\r\n    }\r\n    else {\r\n        hasTrailingSlash = false;\r\n    }\r\n    for (let i = fromParts.length; i >= 0; i--) {\r\n        const part = fromParts[i];\r\n        if (part === '.') {\r\n            spliceOne(fromParts, i);\r\n        }\r\n        else if (part === '..') {\r\n            spliceOne(fromParts, i);\r\n            up++;\r\n        }\r\n        else if (up) {\r\n            spliceOne(fromParts, i);\r\n            up--;\r\n        }\r\n    }\r\n    if (!mustEndAbs) {\r\n        for (; up--; up) {\r\n            fromParts.unshift('..');\r\n        }\r\n    }\r\n    if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) {\r\n        fromParts.unshift('');\r\n    }\r\n    let result = fromParts.join('/');\r\n    if (hasTrailingSlash && result.substr(-1) !== '/') {\r\n        result += '/';\r\n    }\r\n    return result;\r\n};\r\nconst valueEqual = (a, b) => {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a == null || b == null) {\r\n        return false;\r\n    }\r\n    if (Array.isArray(a)) {\r\n        return Array.isArray(b) && a.length === b.length && a.every((item, index) => {\r\n            return valueEqual(item, b[index]);\r\n        });\r\n    }\r\n    const aType = typeof a;\r\n    const bType = typeof b;\r\n    if (aType !== bType) {\r\n        return false;\r\n    }\r\n    if (aType === 'object') {\r\n        const aValue = a.valueOf();\r\n        const bValue = b.valueOf();\r\n        if (aValue !== a || bValue !== b) {\r\n            return valueEqual(aValue, bValue);\r\n        }\r\n        const aKeys = Object.keys(a);\r\n        const bKeys = Object.keys(b);\r\n        if (aKeys.length !== bKeys.length) {\r\n            return false;\r\n        }\r\n        return aKeys.every((key) => {\r\n            return valueEqual(a[key], b[key]);\r\n        });\r\n    }\r\n    return false;\r\n};\r\nconst locationsAreEqual = (a, b) => {\r\n    return a.pathname === b.pathname &&\r\n        a.search === b.search &&\r\n        a.hash === b.hash &&\r\n        a.key === b.key &&\r\n        valueEqual(a.state, b.state);\r\n};\r\nconst createLocation = (path, state, key, currentLocation) => {\r\n    let location;\r\n    if (typeof path === 'string') {\r\n        // Two-arg form: push(path, state)\r\n        location = parsePath(path);\r\n        if (state !== undefined) {\r\n            location.state = state;\r\n        }\r\n    }\r\n    else {\r\n        // One-arg form: push(location)\r\n        location = Object.assign({ pathname: '' }, path);\r\n        if (location.search && location.search.charAt(0) !== '?') {\r\n            location.search = '?' + location.search;\r\n        }\r\n        if (location.hash && location.hash.charAt(0) !== '#') {\r\n            location.hash = '#' + location.hash;\r\n        }\r\n        if (state !== undefined && location.state === undefined) {\r\n            location.state = state;\r\n        }\r\n    }\r\n    try {\r\n        location.pathname = decodeURI(location.pathname);\r\n    }\r\n    catch (e) {\r\n        if (e instanceof URIError) {\r\n            throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' +\r\n                'This is likely caused by an invalid percent-encoding.');\r\n        }\r\n        else {\r\n            throw e;\r\n        }\r\n    }\r\n    location.key = key;\r\n    if (currentLocation) {\r\n        // Resolve incomplete/relative pathname relative to current location.\r\n        if (!location.pathname) {\r\n            location.pathname = currentLocation.pathname;\r\n        }\r\n        else if (location.pathname.charAt(0) !== '/') {\r\n            location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\r\n        }\r\n    }\r\n    else {\r\n        // When there is no prior location and pathname is empty, set it to /\r\n        if (!location.pathname) {\r\n            location.pathname = '/';\r\n        }\r\n    }\r\n    location.query = parseQueryString(location.search || '');\r\n    return location;\r\n};\n\nexports.addLeadingSlash = addLeadingSlash;\nexports.createKey = createKey;\nexports.createLocation = createLocation;\nexports.createPath = createPath;\nexports.hasBasename = hasBasename;\nexports.locationsAreEqual = locationsAreEqual;\nexports.stripBasename = stripBasename;\nexports.stripLeadingSlash = stripLeadingSlash;\nexports.stripTrailingSlash = stripTrailingSlash;\nexports.valueEqual = valueEqual;\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\nvar decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeComponent(val);\n\n\t\tformatter(decodeComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nconst __chunk_4 = require('./chunk-e6311a56.js');\n\n/**\r\n * TS adaption of https://github.com/pillarjs/path-to-regexp/blob/master/index.js\r\n */\r\n/**\r\n * Default configs.\r\n */\r\nconst DEFAULT_DELIMITER = '/';\r\nconst DEFAULT_DELIMITERS = './';\r\n/**\r\n * The main path matching regexp utility.\r\n */\r\nconst PATH_REGEXP = new RegExp([\r\n    // Match escaped characters that would otherwise appear in future matches.\r\n    // This allows the user to escape special characters that won't transform.\r\n    '(\\\\\\\\.)',\r\n    // Match Express-style parameters and un-named parameters with a prefix\r\n    // and optional suffixes. Matches appear as:\r\n    //\r\n    // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\"]\r\n    // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined]\r\n    '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\r\n].join('|'), 'g');\r\n/**\r\n * Parse a string for the raw tokens.\r\n */\r\nconst parse = (str, options) => {\r\n    var tokens = [];\r\n    var key = 0;\r\n    var index = 0;\r\n    var path = '';\r\n    var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER;\r\n    var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS;\r\n    var pathEscaped = false;\r\n    var res;\r\n    while ((res = PATH_REGEXP.exec(str)) !== null) {\r\n        var m = res[0];\r\n        var escaped = res[1];\r\n        var offset = res.index;\r\n        path += str.slice(index, offset);\r\n        index = offset + m.length;\r\n        // Ignore already escaped sequences.\r\n        if (escaped) {\r\n            path += escaped[1];\r\n            pathEscaped = true;\r\n            continue;\r\n        }\r\n        var prev = '';\r\n        var next = str[index];\r\n        var name = res[2];\r\n        var capture = res[3];\r\n        var group = res[4];\r\n        var modifier = res[5];\r\n        if (!pathEscaped && path.length) {\r\n            var k = path.length - 1;\r\n            if (delimiters.indexOf(path[k]) > -1) {\r\n                prev = path[k];\r\n                path = path.slice(0, k);\r\n            }\r\n        }\r\n        // Push the current path onto the tokens.\r\n        if (path) {\r\n            tokens.push(path);\r\n            path = '';\r\n            pathEscaped = false;\r\n        }\r\n        var partial = prev !== '' && next !== undefined && next !== prev;\r\n        var repeat = modifier === '+' || modifier === '*';\r\n        var optional = modifier === '?' || modifier === '*';\r\n        var delimiter = prev || defaultDelimiter;\r\n        var pattern = capture || group;\r\n        tokens.push({\r\n            name: name || key++,\r\n            prefix: prev,\r\n            delimiter: delimiter,\r\n            optional: optional,\r\n            repeat: repeat,\r\n            partial: partial,\r\n            pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\r\n        });\r\n    }\r\n    // Push any remaining characters.\r\n    if (path || index < str.length) {\r\n        tokens.push(path + str.substr(index));\r\n    }\r\n    return tokens;\r\n};\r\n/**\r\n * Escape a regular expression string.\r\n */\r\nconst escapeString = (str) => {\r\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1');\r\n};\r\n/**\r\n * Escape the capturing group by escaping special characters and meaning.\r\n */\r\nconst escapeGroup = (group) => {\r\n    return group.replace(/([=!:$/()])/g, '\\\\$1');\r\n};\r\n/**\r\n * Get the flags for a regexp from the options.\r\n */\r\nconst flags = (options) => {\r\n    return options && options.sensitive ? '' : 'i';\r\n};\r\n/**\r\n * Pull out keys from a regexp.\r\n */\r\nconst regexpToRegexp = (path, keys) => {\r\n    if (!keys)\r\n        return path;\r\n    // Use a negative lookahead to match only capturing groups.\r\n    var groups = path.source.match(/\\((?!\\?)/g);\r\n    if (groups) {\r\n        for (var i = 0; i < groups.length; i++) {\r\n            keys.push({\r\n                name: i,\r\n                prefix: null,\r\n                delimiter: null,\r\n                optional: false,\r\n                repeat: false,\r\n                partial: false,\r\n                pattern: null\r\n            });\r\n        }\r\n    }\r\n    return path;\r\n};\r\n/**\r\n * Transform an array into a regexp.\r\n */\r\nconst arrayToRegexp = (path, keys, options) => {\r\n    var parts = [];\r\n    for (var i = 0; i < path.length; i++) {\r\n        parts.push(pathToRegexp(path[i], keys, options).source);\r\n    }\r\n    return new RegExp('(?:' + parts.join('|') + ')', flags(options));\r\n};\r\n/**\r\n * Create a path regexp from string input.\r\n */\r\nconst stringToRegexp = (path, keys, options) => {\r\n    return tokensToRegExp(parse(path, options), keys, options);\r\n};\r\n/**\r\n * Expose a function for taking tokens and returning a RegExp.\r\n */\r\nconst tokensToRegExp = (tokens, keys, options) => {\r\n    options = options || {};\r\n    var strict = options.strict;\r\n    var end = options.end !== false;\r\n    var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER);\r\n    var delimiters = options.delimiters || DEFAULT_DELIMITERS;\r\n    var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|');\r\n    var route = '';\r\n    var isEndDelimited = false;\r\n    // Iterate over the tokens and create our regexp string.\r\n    for (var i = 0; i < tokens.length; i++) {\r\n        var token = tokens[i];\r\n        if (typeof token === 'string') {\r\n            route += escapeString(token);\r\n            isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1;\r\n        }\r\n        else {\r\n            var prefix = escapeString(token.prefix || '');\r\n            var capture = token.repeat\r\n                ? '(?:' + token.pattern + ')(?:' + prefix + '(?:' + token.pattern + '))*'\r\n                : token.pattern;\r\n            if (keys)\r\n                keys.push(token);\r\n            if (token.optional) {\r\n                if (token.partial) {\r\n                    route += prefix + '(' + capture + ')?';\r\n                }\r\n                else {\r\n                    route += '(?:' + prefix + '(' + capture + '))?';\r\n                }\r\n            }\r\n            else {\r\n                route += prefix + '(' + capture + ')';\r\n            }\r\n        }\r\n    }\r\n    if (end) {\r\n        if (!strict)\r\n            route += '(?:' + delimiter + ')?';\r\n        route += endsWith === '$' ? '$' : '(?=' + endsWith + ')';\r\n    }\r\n    else {\r\n        if (!strict)\r\n            route += '(?:' + delimiter + '(?=' + endsWith + '))?';\r\n        if (!isEndDelimited)\r\n            route += '(?=' + delimiter + '|' + endsWith + ')';\r\n    }\r\n    return new RegExp('^' + route, flags(options));\r\n};\r\n/**\r\n * Normalize the given path string, returning a regular expression.\r\n *\r\n * An empty array can be passed in for the keys, which will hold the\r\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\r\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\r\n */\r\nconst pathToRegexp = (path, keys, options) => {\r\n    if (path instanceof RegExp) {\r\n        return regexpToRegexp(path, keys);\r\n    }\r\n    if (Array.isArray(path)) {\r\n        return arrayToRegexp(path, keys, options);\r\n    }\r\n    return stringToRegexp(path, keys, options);\r\n};\n\nlet cacheCount = 0;\r\nconst patternCache = {};\r\nconst cacheLimit = 10000;\r\n// Memoized function for creating the path match regex\r\nconst compilePath = (pattern, options) => {\r\n    const cacheKey = `${options.end}${options.strict}`;\r\n    const cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});\r\n    const cachePattern = JSON.stringify(pattern);\r\n    if (cache[cachePattern]) {\r\n        return cache[cachePattern];\r\n    }\r\n    const keys = [];\r\n    const re = pathToRegexp(pattern, keys, options);\r\n    const compiledPattern = { re, keys };\r\n    if (cacheCount < cacheLimit) {\r\n        cache[cachePattern] = compiledPattern;\r\n        cacheCount += 1;\r\n    }\r\n    return compiledPattern;\r\n};\r\n/**\r\n * Public API for matching a URL pathname to a path pattern.\r\n */\r\nconst matchPath = (pathname, options = {}) => {\r\n    if (typeof options === 'string') {\r\n        options = { path: options };\r\n    }\r\n    const { path = '/', exact = false, strict = false } = options;\r\n    const { re, keys } = compilePath(path, { end: exact, strict });\r\n    const match = re.exec(pathname);\r\n    if (!match) {\r\n        return null;\r\n    }\r\n    const [url, ...values] = match;\r\n    const isExact = pathname === url;\r\n    if (exact && !isExact) {\r\n        return null;\r\n    }\r\n    return {\r\n        path,\r\n        url: path === '/' && url === '' ? '/' : url,\r\n        isExact,\r\n        params: keys.reduce((memo, key, index) => {\r\n            memo[key.name] = values[index];\r\n            return memo;\r\n        }, {})\r\n    };\r\n};\r\nconst matchesAreEqual = (a, b) => {\r\n    if (a == null && b == null) {\r\n        return true;\r\n    }\r\n    if (b == null) {\r\n        return false;\r\n    }\r\n    return a && b &&\r\n        a.path === b.path &&\r\n        a.url === b.url &&\r\n        __chunk_4.valueEqual(a.params, b.params);\r\n};\n\nexports.matchPath = matchPath;\nexports.matchesAreEqual = matchesAreEqual;\n","'use strict';\n\nconst getConfirmation = (win, message, callback) => (callback(win.confirm(message)));\r\nconst isModifiedEvent = (ev) => (ev.metaKey || ev.altKey || ev.ctrlKey || ev.shiftKey);\r\n/**\r\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\r\n *\r\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\r\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\r\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\r\n */\r\nconst supportsHistory = (win) => {\r\n    const ua = win.navigator.userAgent;\r\n    if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) &&\r\n        ua.indexOf('Mobile Safari') !== -1 &&\r\n        ua.indexOf('Chrome') === -1 &&\r\n        ua.indexOf('Windows Phone') === -1) {\r\n        return false;\r\n    }\r\n    return win.history && 'pushState' in win.history;\r\n};\r\n/**\r\n * Returns true if browser fires popstate on hash change.\r\n * IE10 and IE11 do not.\r\n */\r\nconst supportsPopStateOnHashChange = (nav) => (nav.userAgent.indexOf('Trident') === -1);\r\n/**\r\n * Returns false if using go(n) with hash history causes a full page reload.\r\n */\r\nconst supportsGoWithoutReloadUsingHash = (nav) => (nav.userAgent.indexOf('Firefox') === -1);\r\nconst isExtraneousPopstateEvent = (nav, event) => (event.state === undefined &&\r\n    nav.userAgent.indexOf('CriOS') === -1);\r\nconst storageAvailable = (win, type) => {\r\n    const storage = win[type];\r\n    const x = '__storage_test__';\r\n    try {\r\n        storage.setItem(x, x);\r\n        storage.removeItem(x);\r\n        return true;\r\n    }\r\n    catch (e) {\r\n        return e instanceof DOMException && (\r\n        // everything except Firefox\r\n        e.code === 22 ||\r\n            // Firefox\r\n            e.code === 1014 ||\r\n            // test name field too, because code might not be present\r\n            // everything except Firefox\r\n            e.name === 'QuotaExceededError' ||\r\n            // Firefox\r\n            e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\r\n            // acknowledge QuotaExceededError only if there's something already stored\r\n            storage.length !== 0;\r\n    }\r\n};\n\nexports.getConfirmation = getConfirmation;\nexports.isExtraneousPopstateEvent = isExtraneousPopstateEvent;\nexports.isModifiedEvent = isModifiedEvent;\nexports.storageAvailable = storageAvailable;\nexports.supportsGoWithoutReloadUsingHash = supportsGoWithoutReloadUsingHash;\nexports.supportsHistory = supportsHistory;\nexports.supportsPopStateOnHashChange = supportsPopStateOnHashChange;\n","/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return obj !== null && typeof obj === 'object';\n}\n\nmodule.exports = isObject;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst __chunk_1 = require('./stencilrouter-a3d77a87.js');\n\nconst defineCustomElements = (win, options) => {\n  return __chunk_1.patchEsm().then(() => {\n    __chunk_1.bootstrapLazy([[\"context-consumer.cjs\",[[0,\"context-consumer\",{\"context\":[16],\"renderer\":[16],\"subscribe\":[16],\"unsubscribe\":[32]}]]],[\"stencil-route.cjs\",[[0,\"stencil-route\",{\"group\":[513],\"componentUpdated\":[16],\"match\":[1040],\"url\":[1],\"component\":[1],\"componentProps\":[16],\"exact\":[4],\"routeRender\":[16],\"scrollTopOffset\":[2,\"scroll-top-offset\"],\"routeViewsUpdated\":[16],\"location\":[16],\"history\":[16],\"historyType\":[1,\"history-type\"]}]]],[\"stencil-route-link.cjs\",[[4,\"stencil-route-link\",{\"url\":[1],\"urlMatch\":[1,\"url-match\"],\"activeClass\":[1,\"active-class\"],\"exact\":[4],\"strict\":[4],\"custom\":[1],\"anchorClass\":[1,\"anchor-class\"],\"anchorRole\":[1,\"anchor-role\"],\"anchorTitle\":[1,\"anchor-title\"],\"anchorTabIndex\":[1,\"anchor-tab-index\"],\"anchorId\":[1,\"anchor-id\"],\"history\":[16],\"location\":[16],\"root\":[1],\"ariaHaspopup\":[1,\"aria-haspopup\"],\"ariaPosinset\":[1,\"aria-posinset\"],\"ariaSetsize\":[2,\"aria-setsize\"],\"ariaLabel\":[1,\"aria-label\"],\"match\":[32]}]]],[\"stencil-route-switch.cjs\",[[4,\"stencil-route-switch\",{\"group\":[513],\"scrollTopOffset\":[2,\"scroll-top-offset\"],\"location\":[16],\"routeViewsUpdated\":[16]}]]],[\"stencil-route-title.cjs\",[[0,\"stencil-route-title\",{\"titleSuffix\":[1,\"title-suffix\"],\"pageTitle\":[1,\"page-title\"]}]]],[\"stencil-router.cjs\",[[4,\"stencil-router\",{\"root\":[1],\"historyType\":[1,\"history-type\"],\"titleSuffix\":[1,\"title-suffix\"],\"scrollTopOffset\":[2,\"scroll-top-offset\"],\"location\":[32],\"history\":[32]}]]],[\"stencil-router-prompt.cjs\",[[0,\"stencil-router-prompt\",{\"when\":[4],\"message\":[1],\"history\":[16],\"unblock\":[32]}]]],[\"stencil-router-redirect.cjs\",[[0,\"stencil-router-redirect\",{\"history\":[16],\"root\":[1],\"url\":[1]}]]],[\"stencil-async-content.cjs\",[[0,\"stencil-async-content\",{\"documentLocation\":[1,\"document-location\"],\"content\":[32]}]]]], options);\n  });\n};\n\nexports.defineCustomElements = defineCustomElements;\n","/**\n * Promise wrapper for superagent\n */\n\nfunction wrap(superagent, Promise) {\n  /**\n   * Request object similar to superagent.Request, but with end() returning\n   * a promise.\n   */\n  function PromiseRequest() {\n    superagent.Request.apply(this, arguments);\n  }\n\n  // Inherit form superagent.Request\n  PromiseRequest.prototype = Object.create(superagent.Request.prototype);\n\n  /** Send request and get a promise that `end` was emitted */\n  PromiseRequest.prototype.end = function(cb) {\n    var _end = superagent.Request.prototype.end;\n    var self = this;\n\n    return new Promise(function(accept, reject) {\n      _end.call(self, function(err, response) {\n        if (cb) {\n          cb(err, response);\n        }\n\n        if (err) {\n          err.response = response;\n          reject(err);\n        } else {\n          accept(response);\n        }\n      });\n    });\n  };\n\n  /** Provide a more promise-y interface */\n  PromiseRequest.prototype.then = function(resolve, reject) {\n    var _end = superagent.Request.prototype.end;\n    var self = this;\n\n    return new Promise(function(accept, reject) {\n      _end.call(self, function(err, response) {\n        if (err) {\n          err.response = response;\n          reject(err);\n        } else {\n          accept(response);\n        }\n      });\n    }).then(resolve, reject);\n  };\n\n  /**\n   * Request builder with same interface as superagent.\n   * It is convenient to import this as `request` in place of superagent.\n   */\n  var request = function(method, url) {\n    return new PromiseRequest(method, url);\n  };\n\n  /** Helper for making an options request */\n  request.options = function(url) {\n    return request('OPTIONS', url);\n  }\n\n  /** Helper for making a head request */\n  request.head = function(url, data) {\n    var req = request('HEAD', url);\n    if (data) {\n      req.send(data);\n    }\n    return req;\n  };\n\n  /** Helper for making a get request */\n  request.get = function(url, data) {\n    var req = request('GET', url);\n    if (data) {\n      req.query(data);\n    }\n    return req;\n  };\n\n  /** Helper for making a post request */\n  request.post = function(url, data) {\n    var req = request('POST', url);\n    if (data) {\n      req.send(data);\n    }\n    return req;\n  };\n\n  /** Helper for making a put request */\n  request.put = function(url, data) {\n    var req = request('PUT', url);\n    if (data) {\n      req.send(data);\n    }\n    return req;\n  };\n\n  /** Helper for making a patch request */\n  request.patch = function(url, data) {\n    var req = request('PATCH', url);\n    if (data) {\n      req.send(data);\n    }\n    return req;\n  };\n\n  /** Helper for making a delete request */\n  request.del = function(url) {\n    return request('DELETE', url);\n  };\n\n  // Export the request builder\n  return request;\n}\n\nmodule.exports = wrap;\n","/**\n * Root reference for iframes.\n */\n\nlet root;\nif (typeof window !== 'undefined') {\n  // Browser window\n  root = window;\n} else if (typeof self === 'undefined') {\n  // Other environments\n  console.warn(\n    'Using browser-only version of superagent in non-browser environment'\n  );\n  root = this;\n} else {\n  // Web Worker\n  root = self;\n}\n\nconst Emitter = require('component-emitter');\nconst safeStringify = require('fast-safe-stringify');\nconst RequestBase = require('./request-base');\nconst isObject = require('./is-object');\nconst ResponseBase = require('./response-base');\nconst Agent = require('./agent-base');\n\n/**\n * Noop.\n */\n\nfunction noop() {}\n\n/**\n * Expose `request`.\n */\n\nmodule.exports = function(method, url) {\n  // callback\n  if (typeof url === 'function') {\n    return new exports.Request('GET', method).end(url);\n  }\n\n  // url first\n  if (arguments.length === 1) {\n    return new exports.Request('GET', method);\n  }\n\n  return new exports.Request(method, url);\n};\n\nexports = module.exports;\n\nconst request = exports;\n\nexports.Request = Request;\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = () => {\n  if (\n    root.XMLHttpRequest &&\n    (!root.location ||\n      root.location.protocol !== 'file:' ||\n      !root.ActiveXObject)\n  ) {\n    return new XMLHttpRequest();\n  }\n\n  try {\n    return new ActiveXObject('Microsoft.XMLHTTP');\n  } catch {}\n\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP.6.0');\n  } catch {}\n\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP.3.0');\n  } catch {}\n\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP');\n  } catch {}\n\n  throw new Error('Browser-only version of superagent could not find XHR');\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nconst trim = ''.trim ? s => s.trim() : s => s.replace(/(^\\s*|\\s*$)/g, '');\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  const pairs = [];\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key))\n      pushEncodedKeyValuePair(pairs, key, obj[key]);\n  }\n\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (val === undefined) return;\n  if (val === null) {\n    pairs.push(encodeURIComponent(key));\n    return;\n  }\n\n  if (Array.isArray(val)) {\n    val.forEach(v => {\n      pushEncodedKeyValuePair(pairs, key, v);\n    });\n  } else if (isObject(val)) {\n    for (const subkey in val) {\n      if (Object.prototype.hasOwnProperty.call(val, subkey))\n        pushEncodedKeyValuePair(pairs, `${key}[${subkey}]`, val[subkey]);\n    }\n  } else {\n    pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(val));\n  }\n}\n\n/**\n * Expose serialization method.\n */\n\nrequest.serializeObject = serialize;\n\n/**\n * Parse the given x-www-form-urlencoded `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseString(str) {\n  const obj = {};\n  const pairs = str.split('&');\n  let pair;\n  let pos;\n\n  for (let i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n    if (pos === -1) {\n      obj[decodeURIComponent(pair)] = '';\n    } else {\n      obj[decodeURIComponent(pair.slice(0, pos))] = decodeURIComponent(\n        pair.slice(pos + 1)\n      );\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'text/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  form: 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\nrequest.serialize = {\n  'application/x-www-form-urlencoded': serialize,\n  'application/json': safeStringify\n};\n\n/**\n * Default parsers.\n *\n *     superagent.parse['application/xml'] = function(str){\n *       return { object parsed from str };\n *     };\n *\n */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  const lines = str.split(/\\r?\\n/);\n  const fields = {};\n  let index;\n  let line;\n  let field;\n  let val;\n\n  for (let i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    if (index === -1) {\n      // could be empty line, just skip it\n      continue;\n    }\n\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  // should match /json or +json\n  // but not /json-seq\n  return /[/+]json($|[^-\\w])/.test(mime);\n}\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req) {\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text =\n    (this.req.method !== 'HEAD' &&\n      (this.xhr.responseType === '' || this.xhr.responseType === 'text')) ||\n    typeof this.xhr.responseType === 'undefined'\n      ? this.xhr.responseText\n      : null;\n  this.statusText = this.req.xhr.statusText;\n  let { status } = this.xhr;\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  this._setStatusProperties(status);\n  this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  this.header = this.headers;\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this._setHeaderProperties(this.header);\n\n  if (this.text === null && req._responseType) {\n    this.body = this.xhr.response;\n  } else {\n    this.body =\n      this.req.method === 'HEAD'\n        ? null\n        : this._parseBody(this.text ? this.text : this.xhr.response);\n  }\n}\n\n// eslint-disable-next-line new-cap\nResponseBase(Response.prototype);\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function(str) {\n  let parse = request.parse[this.type];\n  if (this.req._parser) {\n    return this.req._parser(this, str);\n  }\n\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n\n  return parse && str && (str.length > 0 || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function() {\n  const { req } = this;\n  const { method } = req;\n  const { url } = req;\n\n  const msg = `cannot ${method} ${url} (${this.status})`;\n  const err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  const self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', () => {\n    let err = null;\n    let res = null;\n\n    try {\n      res = new Response(self);\n    } catch (err_) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = err_;\n      // issue #675: return the raw response if the response parsing fails\n      if (self.xhr) {\n        // ie9 doesn't have 'response' property\n        err.rawResponse =\n          typeof self.xhr.responseType === 'undefined'\n            ? self.xhr.responseText\n            : self.xhr.response;\n        // issue #876: return the http status code if the response parsing fails\n        err.status = self.xhr.status ? self.xhr.status : null;\n        err.statusCode = err.status; // backwards-compat only\n      } else {\n        err.rawResponse = null;\n        err.status = null;\n      }\n\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    let new_err;\n    try {\n      if (!self._isResponseOK(res)) {\n        new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n      }\n    } catch (err_) {\n      new_err = err_; // ok() callback can throw\n    }\n\n    // #1000 don't catch errors from the callback to avoid double calling it\n    if (new_err) {\n      new_err.original = err;\n      new_err.response = res;\n      new_err.status = res.status;\n      self.callback(new_err, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n\n/**\n * Mixin `Emitter` and `RequestBase`.\n */\n\n// eslint-disable-next-line new-cap\nEmitter(Request.prototype);\n// eslint-disable-next-line new-cap\nRequestBase(Request.prototype);\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type) {\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type) {\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} [pass] optional in case of using 'bearer' as type\n * @param {Object} options with 'type' property 'auto', 'basic' or 'bearer' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass, options) {\n  if (arguments.length === 1) pass = '';\n  if (typeof pass === 'object' && pass !== null) {\n    // pass is optional and can be replaced with options\n    options = pass;\n    pass = '';\n  }\n\n  if (!options) {\n    options = {\n      type: typeof btoa === 'function' ? 'basic' : 'auto'\n    };\n  }\n\n  const encoder = string => {\n    if (typeof btoa === 'function') {\n      return btoa(string);\n    }\n\n    throw new Error('Cannot use basic auth, btoa is not a function');\n  };\n\n  return this._auth(user, pass, options, encoder);\n};\n\n/**\n * Add query-string `val`.\n *\n * Examples:\n *\n *   request.get('/shoes')\n *     .query('size=10')\n *     .query({ color: 'blue' })\n *\n * @param {Object|String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.query = function(val) {\n  if (typeof val !== 'string') val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `options` (or filename).\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String|Object} options\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, options) {\n  if (file) {\n    if (this._data) {\n      throw new Error(\"superagent can't mix .send() and .attach()\");\n    }\n\n    this._getFormData().append(field, file, options || file.name);\n  }\n\n  return this;\n};\n\nRequest.prototype._getFormData = function() {\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n\n  return this._formData;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res) {\n  if (this._shouldRetry(err, res)) {\n    return this._retry();\n  }\n\n  const fn = this._callback;\n  this.clearTimeout();\n\n  if (err) {\n    if (this._maxRetries) err.retries = this._retries - 1;\n    this.emit('error', err);\n  }\n\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function() {\n  const err = new Error(\n    'Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.'\n  );\n  err.crossDomain = true;\n\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n\n  this.callback(err);\n};\n\n// This only warns, because the request is still likely to work\nRequest.prototype.agent = function() {\n  console.warn('This is not supported in browser version of superagent');\n  return this;\n};\n\nRequest.prototype.buffer = Request.prototype.ca;\nRequest.prototype.ca = Request.prototype.agent;\n\n// This throws, because it can't send/receive data as expected\nRequest.prototype.write = () => {\n  throw new Error(\n    'Streaming is not supported in browser version of superagent'\n  );\n};\n\nRequest.prototype.pipe = Request.prototype.write;\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * @param {Object} obj host object\n * @return {Boolean} is a host object\n * @api private\n */\nRequest.prototype._isHost = function(obj) {\n  // Native objects stringify to [object File], [object Blob], [object FormData], etc.\n  return (\n    obj &&\n    typeof obj === 'object' &&\n    !Array.isArray(obj) &&\n    Object.prototype.toString.call(obj) !== '[object Object]'\n  );\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn) {\n  if (this._endCalled) {\n    console.warn(\n      'Warning: .end() was called twice. This is not supported in superagent'\n    );\n  }\n\n  this._endCalled = true;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // querystring\n  this._finalizeQueryString();\n\n  this._end();\n};\n\nRequest.prototype._setUploadTimeout = function() {\n  const self = this;\n\n  // upload timeout it's wokrs only if deadline timeout is off\n  if (this._uploadTimeout && !this._uploadTimeoutTimer) {\n    this._uploadTimeoutTimer = setTimeout(() => {\n      self._timeoutError(\n        'Upload timeout of ',\n        self._uploadTimeout,\n        'ETIMEDOUT'\n      );\n    }, this._uploadTimeout);\n  }\n};\n\n// eslint-disable-next-line complexity\nRequest.prototype._end = function() {\n  if (this._aborted)\n    return this.callback(\n      new Error('The request has been aborted even before .end() was called')\n    );\n\n  const self = this;\n  this.xhr = request.getXHR();\n  const { xhr } = this;\n  let data = this._formData || this._data;\n\n  this._setTimeouts();\n\n  // state change\n  xhr.onreadystatechange = () => {\n    const { readyState } = xhr;\n    if (readyState >= 2 && self._responseTimeoutTimer) {\n      clearTimeout(self._responseTimeoutTimer);\n    }\n\n    if (readyState !== 4) {\n      return;\n    }\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    let status;\n    try {\n      status = xhr.status;\n    } catch {\n      status = 0;\n    }\n\n    if (!status) {\n      if (self.timedout || self._aborted) return;\n      return self.crossDomainError();\n    }\n\n    self.emit('end');\n  };\n\n  // progress\n  const handleProgress = (direction, e) => {\n    if (e.total > 0) {\n      e.percent = (e.loaded / e.total) * 100;\n\n      if (e.percent === 100) {\n        clearTimeout(self._uploadTimeoutTimer);\n      }\n    }\n\n    e.direction = direction;\n    self.emit('progress', e);\n  };\n\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.addEventListener('progress', handleProgress.bind(null, 'download'));\n      if (xhr.upload) {\n        xhr.upload.addEventListener(\n          'progress',\n          handleProgress.bind(null, 'upload')\n        );\n      }\n    } catch {\n      // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n\n  if (xhr.upload) {\n    this._setUploadTimeout();\n  }\n\n  // initiate request\n  try {\n    if (this.username && this.password) {\n      xhr.open(this.method, this.url, true, this.username, this.password);\n    } else {\n      xhr.open(this.method, this.url, true);\n    }\n  } catch (err) {\n    // see #1149\n    return this.callback(err);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if (\n    !this._formData &&\n    this.method !== 'GET' &&\n    this.method !== 'HEAD' &&\n    typeof data !== 'string' &&\n    !this._isHost(data)\n  ) {\n    // serialize stuff\n    const contentType = this._header['content-type'];\n    let serialize =\n      this._serializer ||\n      request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) {\n      serialize = request.serialize['application/json'];\n    }\n\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (const field in this.header) {\n    if (this.header[field] === null) continue;\n\n    if (Object.prototype.hasOwnProperty.call(this.header, field))\n      xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data === 'undefined' ? null : data);\n};\n\nrequest.agent = () => new Agent();\n\n['GET', 'POST', 'OPTIONS', 'PATCH', 'PUT', 'DELETE'].forEach(method => {\n  Agent.prototype[method.toLowerCase()] = function(url, fn) {\n    const req = new request.Request(method, url);\n    this._setDefaults(req);\n    if (fn) {\n      req.end(fn);\n    }\n\n    return req;\n  };\n});\n\nAgent.prototype.del = Agent.prototype.delete;\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = (url, data, fn) => {\n  const req = request('GET', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.head = (url, data, fn) => {\n  const req = request('HEAD', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.options = (url, data, fn) => {\n  const req = request('OPTIONS', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nfunction del(url, data, fn) {\n  const req = request('DELETE', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n}\n\nrequest.del = del;\nrequest.delete = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = (url, data, fn) => {\n  const req = request('PATCH', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.post = (url, data, fn) => {\n  const req = request('POST', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.put = (url, data, fn) => {\n  const req = request('PUT', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: /^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n?(?!hr|heading|lheading| {0,3}>|tag)[^\\n]+)+)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"|[^\"]|\"[^\"\\n]*\")*\"|'\\n?(?:[^'\\n]+\\n?)*'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = '(?!(?:'\n  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'\n  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'\n  + '|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b';\n\nblock.html = edit(block.html)\n  .replace('comment', /<!--[\\s\\S]*?-->/)\n  .replace('closed', /<(tag)[\\s\\S]+?<\\/\\1>/)\n  .replace('closing', /<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"\\/>\\s]*)*?\\/?>/)\n  .replace(/tag/g, block._tag)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', '<' + block._tag)\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\n? *\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = {};\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      space,\n      i,\n      tag,\n      l,\n      isordered;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? cap.replace(/\\n+$/, '')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      this.tokens.push({\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : ''\n      });\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        this.tokens.push({\n          type: loose\n            ? 'loose_item_start'\n            : 'list_item_start'\n        });\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase();\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, '')\n          .split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: /^<!--[\\s\\S]*?-->|^<\\/?[a-zA-Z0-9\\-]+(?:\"[^\"]*\"|'[^']*'|\\s[^<'\">\\/\\s]*)*?\\/?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\]/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^_([^\\s_](?:[^_]|__)+?[^\\s_])_\\b|^\\*((?:\\*\\*|[^*])+?)\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`]?)\\s*\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[`*]|\\b_| {2,}\\n|$)/\n};\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex()\n\ninline._inside = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/;\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/;\n\ninline.link = edit(inline.link)\n  .replace('inside', inline._inside)\n  .replace('href', inline._href)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('inside', inline._inside)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  url: edit(/^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/)\n    .replace('email', inline._email)\n    .getRegex(),\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  text: edit(inline.text)\n    .replace(']|', '~]|')\n    .replace('|', '|https?://|ftp://|www\\\\.|[a-zA-Z0-9.!#$%&\\'*+/=?^_`{\\\\|}~-]+@|')\n    .getRegex()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('{2,}', '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  } else if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      cap;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      cap[0] = this.rules._backpedal.exec(cap[0])[0];\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.text(escape(this.smartypants(cap[0])));\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = escape(link.href),\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || {};\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '\\n</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '\\n</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  return '<h'\n    + level\n    + ' id=\"'\n    + this.options.headerPrefix\n    + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n    + '\">'\n    + text\n    + '</h'\n    + level\n    + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + '<tbody>\\n'\n    + body\n    + '</tbody>\\n'\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' style=\"text-align:' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  if (this.options.sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return text;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return text;\n    }\n  }\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  var out = '<a href=\"' + href + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n}\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n}\n\nTextRenderer.prototype.br = function() {\n  return '';\n}\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)));\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'loose_item_start': {\n      body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      var html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text;\n      return this.renderer.html(html);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = base.replace(/[^/]*$/, '');\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.defaults = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  sanitizer: null,\n  mangle: true,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  langPrefix: 'lang-',\n  smartypants: false,\n  headerPrefix: '',\n  renderer: new Renderer(),\n  xhtml: false,\n  baseUrl: null\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nif (typeof module !== 'undefined' && typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  root.marked = marked;\n}\n})(this || (typeof window !== 'undefined' ? window : global));\n","(function () {\n  if (typeof Promise.prototype.finally === 'function') {\n    return\n  }\n  Promise.prototype.finally = function (fn) {\n    return this\n      .then(value => this.constructor.resolve(fn()).then(() => value))\n      .catch(reason => this.constructor.resolve(fn()).then(() => { throw reason }))\n  }\n})()\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var map = {\n\t\"./context-consumer.cjs.entry.js\": 19,\n\t\"./stencil-async-content.cjs.entry.js\": 20,\n\t\"./stencil-route-link.cjs.entry.js\": 21,\n\t\"./stencil-route-switch.cjs.entry.js\": 22,\n\t\"./stencil-route-title.cjs.entry.js\": 23,\n\t\"./stencil-route.cjs.entry.js\": 24,\n\t\"./stencil-router-prompt.cjs.entry.js\": 25,\n\t\"./stencil-router-redirect.cjs.entry.js\": 26,\n\t\"./stencil-router.cjs.entry.js\": 27\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 18;","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst __chunk_1 = require('./stencilrouter-a3d77a87.js');\n\nclass ContextConsumer {\n    constructor(hostRef) {\n        __chunk_1.registerInstance(this, hostRef);\n        this.context = {};\n        this.renderer = () => null;\n    }\n    connectedCallback() {\n        if (this.subscribe != null) {\n            this.unsubscribe = this.subscribe(this.el, 'context');\n        }\n    }\n    disconnectedCallback() {\n        if (this.unsubscribe != null) {\n            this.unsubscribe();\n        }\n    }\n    render() {\n        return this.renderer(Object.assign({}, this.context));\n    }\n    get el() { return __chunk_1.getElement(this); }\n}\n\nexports.context_consumer = ContextConsumer;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst __chunk_1 = require('./stencilrouter-a3d77a87.js');\n\nclass AsyncContent {\n    constructor(hostRef) {\n        __chunk_1.registerInstance(this, hostRef);\n        this.content = '';\n    }\n    componentWillLoad() {\n        if (this.documentLocation != null) {\n            return this.fetchNewContent(this.documentLocation);\n        }\n    }\n    fetchNewContent(newDocumentLocation) {\n        return fetch(newDocumentLocation)\n            .then(response => response.text())\n            .then(data => {\n            this.content = data;\n        });\n    }\n    render() {\n        return (__chunk_1.h(\"div\", { innerHTML: this.content }));\n    }\n    static get watchers() { return {\n        \"documentLocation\": [\"fetchNewContent\"]\n    }; }\n}\n\nexports.stencil_async_content = AsyncContent;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst __chunk_1 = require('./stencilrouter-a3d77a87.js');\nconst __chunk_2 = require('./chunk-94c92d88.js');\nconst __chunk_3 = require('./chunk-b786ea51.js');\nrequire('./chunk-e6311a56.js');\nconst __chunk_5 = require('./chunk-b9bd6b52.js');\n\nconst getUrl = (url, root) => {\n    // Don't allow double slashes\n    if (url.charAt(0) == '/' && root.charAt(root.length - 1) == '/') {\n        return root.slice(0, root.length - 1) + url;\n    }\n    return root + url;\n};\n/**\n  * @name Route\n  * @module ionic\n  * @description\n */\nclass RouteLink {\n    constructor(hostRef) {\n        __chunk_1.registerInstance(this, hostRef);\n        this.unsubscribe = () => { return; };\n        this.activeClass = 'link-active';\n        this.exact = false;\n        this.strict = true;\n        /**\n          *  Custom tag to use instead of an anchor\n          */\n        this.custom = 'a';\n        this.match = null;\n    }\n    componentWillLoad() {\n        this.computeMatch();\n    }\n    // Identify if the current route is a match.\n    computeMatch() {\n        if (this.location) {\n            this.match = __chunk_3.matchPath(this.location.pathname, {\n                path: this.urlMatch || this.url,\n                exact: this.exact,\n                strict: this.strict\n            });\n        }\n    }\n    handleClick(e) {\n        if (__chunk_5.isModifiedEvent(e) || !this.history || !this.url || !this.root) {\n            return;\n        }\n        e.preventDefault();\n        return this.history.push(getUrl(this.url, this.root));\n    }\n    // Get the URL for this route link without the root from the router\n    render() {\n        let anchorAttributes = {\n            class: {\n                [this.activeClass]: this.match !== null,\n            },\n            onClick: this.handleClick.bind(this)\n        };\n        if (this.anchorClass) {\n            anchorAttributes.class[this.anchorClass] = true;\n        }\n        if (this.custom === 'a') {\n            anchorAttributes = Object.assign({}, anchorAttributes, { href: this.url, title: this.anchorTitle, role: this.anchorRole, tabindex: this.anchorTabIndex, 'aria-haspopup': this.ariaHaspopup, id: this.anchorId, 'aria-posinset': this.ariaPosinset, 'aria-setsize': this.ariaSetsize, 'aria-label': this.ariaLabel });\n        }\n        return (__chunk_1.h(this.custom, Object.assign({}, anchorAttributes), __chunk_1.h(\"slot\", null)));\n    }\n    get el() { return __chunk_1.getElement(this); }\n    static get watchers() { return {\n        \"location\": [\"computeMatch\"]\n    }; }\n}\n__chunk_2.ActiveRouter.injectProps(RouteLink, [\n    'history',\n    'location',\n    'root'\n]);\n\nexports.stencil_route_link = RouteLink;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst __chunk_1 = require('./stencilrouter-a3d77a87.js');\nconst __chunk_2 = require('./chunk-94c92d88.js');\nconst __chunk_3 = require('./chunk-b786ea51.js');\nrequire('./chunk-e6311a56.js');\n\nconst getUniqueId = () => {\n    return ((Math.random() * 10e16).toString().match(/.{4}/g) || []).join('-');\n};\nconst getMatch = (pathname, url, exact) => {\n    return __chunk_3.matchPath(pathname, {\n        path: url,\n        exact: exact,\n        strict: true\n    });\n};\nconst isHTMLStencilRouteElement = (elm) => {\n    return elm.tagName === 'STENCIL-ROUTE';\n};\nclass RouteSwitch {\n    constructor(hostRef) {\n        __chunk_1.registerInstance(this, hostRef);\n        this.group = getUniqueId();\n        this.subscribers = [];\n        this.queue = __chunk_1.getContext(this, \"queue\");\n    }\n    componentWillLoad() {\n        if (this.location != null) {\n            this.regenerateSubscribers(this.location);\n        }\n    }\n    async regenerateSubscribers(newLocation) {\n        if (newLocation == null) {\n            return;\n        }\n        let newActiveIndex = -1;\n        this.subscribers = Array.prototype.slice.call(this.el.children)\n            .filter(isHTMLStencilRouteElement)\n            .map((childElement, index) => {\n            const match = getMatch(newLocation.pathname, childElement.url, childElement.exact);\n            if (match && newActiveIndex === -1) {\n                newActiveIndex = index;\n            }\n            return {\n                el: childElement,\n                match: match\n            };\n        });\n        if (newActiveIndex === -1) {\n            return;\n        }\n        // Check if this actually changes which child is active\n        // then just pass the new match down if the active route isn't changing.\n        if (this.activeIndex === newActiveIndex) {\n            this.subscribers[newActiveIndex].el.match = this.subscribers[newActiveIndex].match;\n            return;\n        }\n        this.activeIndex = newActiveIndex;\n        // Set all props on the new active route then wait until it says that it\n        // is completed\n        const activeChild = this.subscribers[this.activeIndex];\n        if (this.scrollTopOffset) {\n            activeChild.el.scrollTopOffset = this.scrollTopOffset;\n        }\n        activeChild.el.group = this.group;\n        activeChild.el.match = activeChild.match;\n        activeChild.el.componentUpdated = (routeViewUpdatedOptions) => {\n            // After the new active route has completed then update visibility of routes\n            this.queue.write(() => {\n                this.subscribers.forEach((child, index) => {\n                    child.el.componentUpdated = undefined;\n                    if (index === this.activeIndex) {\n                        return child.el.style.display = '';\n                    }\n                    if (this.scrollTopOffset) {\n                        child.el.scrollTopOffset = this.scrollTopOffset;\n                    }\n                    child.el.group = this.group;\n                    child.el.match = null;\n                    child.el.style.display = 'none';\n                });\n            });\n            if (this.routeViewsUpdated) {\n                this.routeViewsUpdated(Object.assign({ scrollTopOffset: this.scrollTopOffset }, routeViewUpdatedOptions));\n            }\n        };\n    }\n    render() {\n        return (__chunk_1.h(\"slot\", null));\n    }\n    get el() { return __chunk_1.getElement(this); }\n    static get watchers() { return {\n        \"location\": [\"regenerateSubscribers\"]\n    }; }\n}\n__chunk_2.ActiveRouter.injectProps(RouteSwitch, [\n    'location',\n    'routeViewsUpdated'\n]);\n\nexports.stencil_route_switch = RouteSwitch;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst __chunk_1 = require('./stencilrouter-a3d77a87.js');\nconst __chunk_2 = require('./chunk-94c92d88.js');\n\n/**\n  * Updates the document title when found.\n  *\n  * @name RouteTitle\n  * @description\n */\nclass RouteTitle {\n    constructor(hostRef) {\n        __chunk_1.registerInstance(this, hostRef);\n        this.titleSuffix = '';\n        this.pageTitle = '';\n    }\n    updateDocumentTitle() {\n        const el = this.el;\n        if (el.ownerDocument) {\n            el.ownerDocument.title = `${this.pageTitle}${this.titleSuffix || ''}`;\n        }\n    }\n    componentWillLoad() {\n        this.updateDocumentTitle();\n    }\n    get el() { return __chunk_1.getElement(this); }\n    static get watchers() { return {\n        \"pageTitle\": [\"updateDocumentTitle\"]\n    }; }\n}\n__chunk_2.ActiveRouter.injectProps(RouteTitle, [\n    'titleSuffix',\n]);\n\nexports.stencil_route_title = RouteTitle;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst __chunk_1 = require('./stencilrouter-a3d77a87.js');\nconst __chunk_2 = require('./chunk-94c92d88.js');\nconst __chunk_3 = require('./chunk-b786ea51.js');\nrequire('./chunk-e6311a56.js');\n\n/**\n  * @name Route\n  * @module ionic\n  * @description\n */\nclass Route {\n    constructor(hostRef) {\n        __chunk_1.registerInstance(this, hostRef);\n        this.group = null;\n        this.match = null;\n        this.componentProps = {};\n        this.exact = false;\n        this.scrollOnNextRender = false;\n        this.previousMatch = null;\n    }\n    // Identify if the current route is a match.\n    computeMatch(newLocation) {\n        const isGrouped = this.group != null || (this.el.parentElement != null && this.el.parentElement.tagName.toLowerCase() === 'stencil-route-switch');\n        if (!newLocation || isGrouped) {\n            return;\n        }\n        this.previousMatch = this.match;\n        return this.match = __chunk_3.matchPath(newLocation.pathname, {\n            path: this.url,\n            exact: this.exact,\n            strict: true\n        });\n    }\n    async loadCompleted() {\n        let routeViewOptions = {};\n        if (this.history && this.history.location.hash) {\n            routeViewOptions = {\n                scrollToId: this.history.location.hash.substr(1)\n            };\n        }\n        else if (this.scrollTopOffset) {\n            routeViewOptions = {\n                scrollTopOffset: this.scrollTopOffset\n            };\n        }\n        // After all children have completed then tell switch\n        // the provided callback will get executed after this route is in view\n        if (typeof this.componentUpdated === 'function') {\n            this.componentUpdated(routeViewOptions);\n            // If this is an independent route and it matches then routes have updated.\n            // If the only change to location is a hash change then do not scroll.\n        }\n        else if (this.match && !__chunk_3.matchesAreEqual(this.match, this.previousMatch) && this.routeViewsUpdated) {\n            this.routeViewsUpdated(routeViewOptions);\n        }\n    }\n    async componentDidUpdate() {\n        await this.loadCompleted();\n    }\n    async componentDidLoad() {\n        await this.loadCompleted();\n    }\n    render() {\n        // If there is no activeRouter then do not render\n        // Check if this route is in the matching URL (for example, a parent route)\n        if (!this.match || !this.history) {\n            return null;\n        }\n        // component props defined in route\n        // the history api\n        // current match data including params\n        const childProps = Object.assign({}, this.componentProps, { history: this.history, match: this.match });\n        // If there is a routerRender defined then use\n        // that and pass the component and component props with it.\n        if (this.routeRender) {\n            return this.routeRender(Object.assign({}, childProps, { component: this.component }));\n        }\n        if (this.component) {\n            const ChildComponent = this.component;\n            return (__chunk_1.h(ChildComponent, Object.assign({}, childProps)));\n        }\n    }\n    get el() { return __chunk_1.getElement(this); }\n    static get watchers() { return {\n        \"location\": [\"computeMatch\"]\n    }; }\n    static get style() { return \"stencil-route.inactive{display:none}\"; }\n}\n__chunk_2.ActiveRouter.injectProps(Route, [\n    'location',\n    'history',\n    'historyType',\n    'routeViewsUpdated'\n]);\n\nexports.stencil_route = Route;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst __chunk_1 = require('./stencilrouter-a3d77a87.js');\nconst __chunk_2 = require('./chunk-94c92d88.js');\n\nclass StencilRouterPrompt {\n    constructor(hostRef) {\n        __chunk_1.registerInstance(this, hostRef);\n        this.when = true;\n        this.message = '';\n    }\n    enable(message) {\n        if (this.unblock) {\n            this.unblock();\n        }\n        if (this.history) {\n            this.unblock = this.history.block(message);\n        }\n    }\n    disable() {\n        if (this.unblock) {\n            this.unblock();\n            this.unblock = undefined;\n        }\n    }\n    componentWillLoad() {\n        if (this.when) {\n            this.enable(this.message);\n        }\n    }\n    updateMessage(newMessage, prevMessage) {\n        if (this.when) {\n            if (!this.when || prevMessage !== newMessage) {\n                this.enable(this.message);\n            }\n        }\n        else {\n            this.disable();\n        }\n    }\n    componentDidUnload() {\n        this.disable();\n    }\n    render() {\n        return null;\n    }\n    get el() { return __chunk_1.getElement(this); }\n    static get watchers() { return {\n        \"message\": [\"updateMessage\"],\n        \"when\": [\"updateMessage\"]\n    }; }\n}\n__chunk_2.ActiveRouter.injectProps(StencilRouterPrompt, [\n    'history',\n]);\n\nexports.stencil_router_prompt = StencilRouterPrompt;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst __chunk_1 = require('./stencilrouter-a3d77a87.js');\nconst __chunk_2 = require('./chunk-94c92d88.js');\n\n// Get the URL for this route link without the root from the router\nconst getUrl = (url, root) => {\n    // Don't allow double slashes\n    if (url.charAt(0) == '/' && root.charAt(root.length - 1) == '/') {\n        return root.slice(0, root.length - 1) + url;\n    }\n    return root + url;\n};\nclass Redirect {\n    constructor(hostRef) {\n        __chunk_1.registerInstance(this, hostRef);\n    }\n    componentWillLoad() {\n        if (this.history && this.root && this.url) {\n            return this.history.replace(getUrl(this.url, this.root));\n        }\n    }\n    get el() { return __chunk_1.getElement(this); }\n}\n__chunk_2.ActiveRouter.injectProps(Redirect, [\n    'history',\n    'root'\n]);\n\nexports.stencil_router_redirect = Redirect;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst __chunk_1 = require('./stencilrouter-a3d77a87.js');\nconst __chunk_2 = require('./chunk-94c92d88.js');\nconst __chunk_4 = require('./chunk-e6311a56.js');\nconst __chunk_5 = require('./chunk-b9bd6b52.js');\n\nconst warning = (value, ...args) => {\r\n    if (!value) {\r\n        console.warn(...args);\r\n    }\r\n};\n\n// Adapted from the https://github.com/ReactTraining/history and converted to TypeScript\r\nconst createTransitionManager = () => {\r\n    let prompt;\r\n    let listeners = [];\r\n    const setPrompt = (nextPrompt) => {\r\n        warning(prompt == null, 'A history supports only one prompt at a time');\r\n        prompt = nextPrompt;\r\n        return () => {\r\n            if (prompt === nextPrompt) {\r\n                prompt = null;\r\n            }\r\n        };\r\n    };\r\n    const confirmTransitionTo = (location, action, getUserConfirmation, callback) => {\r\n        // TODO: If another transition starts while we're still confirming\r\n        // the previous one, we may end up in a weird state. Figure out the\r\n        // best way to handle this.\r\n        if (prompt != null) {\r\n            const result = typeof prompt === 'function' ? prompt(location, action) : prompt;\r\n            if (typeof result === 'string') {\r\n                if (typeof getUserConfirmation === 'function') {\r\n                    getUserConfirmation(result, callback);\r\n                }\r\n                else {\r\n                    warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\r\n                    callback(true);\r\n                }\r\n            }\r\n            else {\r\n                // Return false from a transition hook to cancel the transition.\r\n                callback(result !== false);\r\n            }\r\n        }\r\n        else {\r\n            callback(true);\r\n        }\r\n    };\r\n    const appendListener = (fn) => {\r\n        let isActive = true;\r\n        const listener = (...args) => {\r\n            if (isActive) {\r\n                fn(...args);\r\n            }\r\n        };\r\n        listeners.push(listener);\r\n        return () => {\r\n            isActive = false;\r\n            listeners = listeners.filter(item => item !== listener);\r\n        };\r\n    };\r\n    const notifyListeners = (...args) => {\r\n        listeners.forEach(listener => listener(...args));\r\n    };\r\n    return {\r\n        setPrompt,\r\n        confirmTransitionTo,\r\n        appendListener,\r\n        notifyListeners\r\n    };\r\n};\n\nconst createScrollHistory = (win, applicationScrollKey = 'scrollPositions') => {\r\n    let scrollPositions = new Map();\r\n    const set = (key, value) => {\r\n        scrollPositions.set(key, value);\r\n        if (__chunk_5.storageAvailable(win, 'sessionStorage')) {\r\n            const arrayData = [];\r\n            scrollPositions.forEach((value, key) => {\r\n                arrayData.push([key, value]);\r\n            });\r\n            win.sessionStorage.setItem('scrollPositions', JSON.stringify(arrayData));\r\n        }\r\n    };\r\n    const get = (key) => {\r\n        return scrollPositions.get(key);\r\n    };\r\n    const has = (key) => {\r\n        return scrollPositions.has(key);\r\n    };\r\n    const capture = (key) => {\r\n        set(key, [win.scrollX, win.scrollY]);\r\n    };\r\n    if (__chunk_5.storageAvailable(win, 'sessionStorage')) {\r\n        const scrollData = win.sessionStorage.getItem(applicationScrollKey);\r\n        scrollPositions = scrollData ?\r\n            new Map(JSON.parse(scrollData)) :\r\n            scrollPositions;\r\n    }\r\n    if ('scrollRestoration' in win.history) {\r\n        history.scrollRestoration = 'manual';\r\n    }\r\n    return {\r\n        set,\r\n        get,\r\n        has,\r\n        capture\r\n    };\r\n};\n\n// Adapted from the https://github.com/ReactTraining/history and converted to TypeScript\r\nconst PopStateEvent = 'popstate';\r\nconst HashChangeEvent = 'hashchange';\r\n/**\r\n * Creates a history object that uses the HTML5 history API including\r\n * pushState, replaceState, and the popstate event.\r\n */\r\nconst createBrowserHistory = (win, props = {}) => {\r\n    let forceNextPop = false;\r\n    const globalHistory = win.history;\r\n    const globalLocation = win.location;\r\n    const globalNavigator = win.navigator;\r\n    const canUseHistory = __chunk_5.supportsHistory(win);\r\n    const needsHashChangeListener = !__chunk_5.supportsPopStateOnHashChange(globalNavigator);\r\n    const scrollHistory = createScrollHistory(win);\r\n    const forceRefresh = (props.forceRefresh != null) ? props.forceRefresh : false;\r\n    const getUserConfirmation = (props.getUserConfirmation != null) ? props.getUserConfirmation : __chunk_5.getConfirmation;\r\n    const keyLength = (props.keyLength != null) ? props.keyLength : 6;\r\n    const basename = props.basename ? __chunk_4.stripTrailingSlash(__chunk_4.addLeadingSlash(props.basename)) : '';\r\n    const getHistoryState = () => {\r\n        try {\r\n            return win.history.state || {};\r\n        }\r\n        catch (e) {\r\n            // IE 11 sometimes throws when accessing window.history.state\r\n            // See https://github.com/ReactTraining/history/pull/289\r\n            return {};\r\n        }\r\n    };\r\n    const getDOMLocation = (historyState) => {\r\n        historyState = historyState || {};\r\n        const { key, state } = historyState;\r\n        const { pathname, search, hash } = globalLocation;\r\n        let path = pathname + search + hash;\r\n        warning((!basename || __chunk_4.hasBasename(path, basename)), 'You are attempting to use a basename on a page whose URL path does not begin ' +\r\n            'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\r\n        if (basename) {\r\n            path = __chunk_4.stripBasename(path, basename);\r\n        }\r\n        return __chunk_4.createLocation(path, state, key || __chunk_4.createKey(keyLength));\r\n    };\r\n    const transitionManager = createTransitionManager();\r\n    const setState = (nextState) => {\r\n        // Capture location for the view before changing history.\r\n        scrollHistory.capture(history.location.key);\r\n        Object.assign(history, nextState);\r\n        // Set scroll position based on its previous storage value\r\n        history.location.scrollPosition = scrollHistory.get(history.location.key);\r\n        history.length = globalHistory.length;\r\n        transitionManager.notifyListeners(history.location, history.action);\r\n    };\r\n    const handlePopState = (event) => {\r\n        // Ignore extraneous popstate events in WebKit.\r\n        if (!__chunk_5.isExtraneousPopstateEvent(globalNavigator, event)) {\r\n            handlePop(getDOMLocation(event.state));\r\n        }\r\n    };\r\n    const handleHashChange = () => {\r\n        handlePop(getDOMLocation(getHistoryState()));\r\n    };\r\n    const handlePop = (location) => {\r\n        if (forceNextPop) {\r\n            forceNextPop = false;\r\n            setState();\r\n        }\r\n        else {\r\n            const action = 'POP';\r\n            transitionManager.confirmTransitionTo(location, action, getUserConfirmation, (ok) => {\r\n                if (ok) {\r\n                    setState({ action, location });\r\n                }\r\n                else {\r\n                    revertPop(location);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    const revertPop = (fromLocation) => {\r\n        const toLocation = history.location;\r\n        // TODO: We could probably make this more reliable by\r\n        // keeping a list of keys we've seen in sessionStorage.\r\n        // Instead, we just default to 0 for keys we don't know.\r\n        let toIndex = allKeys.indexOf(toLocation.key);\r\n        let fromIndex = allKeys.indexOf(fromLocation.key);\r\n        if (toIndex === -1) {\r\n            toIndex = 0;\r\n        }\r\n        if (fromIndex === -1) {\r\n            fromIndex = 0;\r\n        }\r\n        const delta = toIndex - fromIndex;\r\n        if (delta) {\r\n            forceNextPop = true;\r\n            go(delta);\r\n        }\r\n    };\r\n    const initialLocation = getDOMLocation(getHistoryState());\r\n    let allKeys = [initialLocation.key];\r\n    let listenerCount = 0;\r\n    let isBlocked = false;\r\n    // Public interface\r\n    const createHref = (location) => {\r\n        return basename + __chunk_4.createPath(location);\r\n    };\r\n    const push = (path, state) => {\r\n        warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' +\r\n            'argument is a location-like object that already has state; it is ignored');\r\n        const action = 'PUSH';\r\n        const location = __chunk_4.createLocation(path, state, __chunk_4.createKey(keyLength), history.location);\r\n        transitionManager.confirmTransitionTo(location, action, getUserConfirmation, (ok) => {\r\n            if (!ok) {\r\n                return;\r\n            }\r\n            const href = createHref(location);\r\n            const { key, state } = location;\r\n            if (canUseHistory) {\r\n                globalHistory.pushState({ key, state }, '', href);\r\n                if (forceRefresh) {\r\n                    globalLocation.href = href;\r\n                }\r\n                else {\r\n                    const prevIndex = allKeys.indexOf(history.location.key);\r\n                    const nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\r\n                    nextKeys.push(location.key);\r\n                    allKeys = nextKeys;\r\n                    setState({ action, location });\r\n                }\r\n            }\r\n            else {\r\n                warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\r\n                globalLocation.href = href;\r\n            }\r\n        });\r\n    };\r\n    const replace = (path, state) => {\r\n        warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' +\r\n            'argument is a location-like object that already has state; it is ignored');\r\n        const action = 'REPLACE';\r\n        const location = __chunk_4.createLocation(path, state, __chunk_4.createKey(keyLength), history.location);\r\n        transitionManager.confirmTransitionTo(location, action, getUserConfirmation, (ok) => {\r\n            if (!ok) {\r\n                return;\r\n            }\r\n            const href = createHref(location);\r\n            const { key, state } = location;\r\n            if (canUseHistory) {\r\n                globalHistory.replaceState({ key, state }, '', href);\r\n                if (forceRefresh) {\r\n                    globalLocation.replace(href);\r\n                }\r\n                else {\r\n                    const prevIndex = allKeys.indexOf(history.location.key);\r\n                    if (prevIndex !== -1) {\r\n                        allKeys[prevIndex] = location.key;\r\n                    }\r\n                    setState({ action, location });\r\n                }\r\n            }\r\n            else {\r\n                warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\r\n                globalLocation.replace(href);\r\n            }\r\n        });\r\n    };\r\n    const go = (n) => {\r\n        globalHistory.go(n);\r\n    };\r\n    const goBack = () => go(-1);\r\n    const goForward = () => go(1);\r\n    const checkDOMListeners = (delta) => {\r\n        listenerCount += delta;\r\n        if (listenerCount === 1) {\r\n            win.addEventListener(PopStateEvent, handlePopState);\r\n            if (needsHashChangeListener) {\r\n                win.addEventListener(HashChangeEvent, handleHashChange);\r\n            }\r\n        }\r\n        else if (listenerCount === 0) {\r\n            win.removeEventListener(PopStateEvent, handlePopState);\r\n            if (needsHashChangeListener) {\r\n                win.removeEventListener(HashChangeEvent, handleHashChange);\r\n            }\r\n        }\r\n    };\r\n    const block = (prompt = '') => {\r\n        const unblock = transitionManager.setPrompt(prompt);\r\n        if (!isBlocked) {\r\n            checkDOMListeners(1);\r\n            isBlocked = true;\r\n        }\r\n        return () => {\r\n            if (isBlocked) {\r\n                isBlocked = false;\r\n                checkDOMListeners(-1);\r\n            }\r\n            return unblock();\r\n        };\r\n    };\r\n    const listen = (listener) => {\r\n        const unlisten = transitionManager.appendListener(listener);\r\n        checkDOMListeners(1);\r\n        return () => {\r\n            checkDOMListeners(-1);\r\n            unlisten();\r\n        };\r\n    };\r\n    const history = {\r\n        length: globalHistory.length,\r\n        action: 'POP',\r\n        location: initialLocation,\r\n        createHref,\r\n        push,\r\n        replace,\r\n        go,\r\n        goBack,\r\n        goForward,\r\n        block,\r\n        listen,\r\n        win: win\r\n    };\r\n    return history;\r\n};\n\n// Adapted from the https://github.com/ReactTraining/history and converted to TypeScript\r\nconst HashChangeEvent$1 = 'hashchange';\r\nconst HashPathCoders = {\r\n    hashbang: {\r\n        encodePath: (path) => path.charAt(0) === '!' ? path : '!/' + __chunk_4.stripLeadingSlash(path),\r\n        decodePath: (path) => path.charAt(0) === '!' ? path.substr(1) : path\r\n    },\r\n    noslash: {\r\n        encodePath: __chunk_4.stripLeadingSlash,\r\n        decodePath: __chunk_4.addLeadingSlash\r\n    },\r\n    slash: {\r\n        encodePath: __chunk_4.addLeadingSlash,\r\n        decodePath: __chunk_4.addLeadingSlash\r\n    }\r\n};\r\nconst createHashHistory = (win, props = {}) => {\r\n    let forceNextPop = false;\r\n    let ignorePath = null;\r\n    let listenerCount = 0;\r\n    let isBlocked = false;\r\n    const globalLocation = win.location;\r\n    const globalHistory = win.history;\r\n    const canGoWithoutReload = __chunk_5.supportsGoWithoutReloadUsingHash(win.navigator);\r\n    const keyLength = (props.keyLength != null) ? props.keyLength : 6;\r\n    const { getUserConfirmation = __chunk_5.getConfirmation, hashType = 'slash' } = props;\r\n    const basename = props.basename ? __chunk_4.stripTrailingSlash(__chunk_4.addLeadingSlash(props.basename)) : '';\r\n    const { encodePath, decodePath } = HashPathCoders[hashType];\r\n    const getHashPath = () => {\r\n        // We can't use window.location.hash here because it's not\r\n        // consistent across browsers - Firefox will pre-decode it!\r\n        const href = globalLocation.href;\r\n        const hashIndex = href.indexOf('#');\r\n        return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\r\n    };\r\n    const pushHashPath = (path) => (globalLocation.hash = path);\r\n    const replaceHashPath = (path) => {\r\n        const hashIndex = globalLocation.href.indexOf('#');\r\n        globalLocation.replace(globalLocation.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path);\r\n    };\r\n    const getDOMLocation = () => {\r\n        let path = decodePath(getHashPath());\r\n        warning((!basename || __chunk_4.hasBasename(path, basename)), 'You are attempting to use a basename on a page whose URL path does not begin ' +\r\n            'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\r\n        if (basename) {\r\n            path = __chunk_4.stripBasename(path, basename);\r\n        }\r\n        return __chunk_4.createLocation(path, undefined, __chunk_4.createKey(keyLength));\r\n    };\r\n    const transitionManager = createTransitionManager();\r\n    const setState = (nextState) => {\r\n        Object.assign(history, nextState);\r\n        history.length = globalHistory.length;\r\n        transitionManager.notifyListeners(history.location, history.action);\r\n    };\r\n    const handleHashChange = () => {\r\n        const path = getHashPath();\r\n        const encodedPath = encodePath(path);\r\n        if (path !== encodedPath) {\r\n            // Ensure we always have a properly-encoded hash.\r\n            replaceHashPath(encodedPath);\r\n        }\r\n        else {\r\n            const location = getDOMLocation();\r\n            const prevLocation = history.location;\r\n            if (!forceNextPop && __chunk_4.locationsAreEqual(prevLocation, location)) {\r\n                return; // A hashchange doesn't always == location change.\r\n            }\r\n            if (ignorePath === __chunk_4.createPath(location)) {\r\n                return; // Ignore this change; we already setState in push/replace.\r\n            }\r\n            ignorePath = null;\r\n            handlePop(location);\r\n        }\r\n    };\r\n    const handlePop = (location) => {\r\n        if (forceNextPop) {\r\n            forceNextPop = false;\r\n            setState();\r\n        }\r\n        else {\r\n            const action = 'POP';\r\n            transitionManager.confirmTransitionTo(location, action, getUserConfirmation, (ok) => {\r\n                if (ok) {\r\n                    setState({ action, location });\r\n                }\r\n                else {\r\n                    revertPop(location);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    const revertPop = (fromLocation) => {\r\n        const toLocation = history.location;\r\n        // TODO: We could probably make this more reliable by\r\n        // keeping a list of paths we've seen in sessionStorage.\r\n        // Instead, we just default to 0 for paths we don't know.\r\n        let toIndex = allPaths.lastIndexOf(__chunk_4.createPath(toLocation));\r\n        let fromIndex = allPaths.lastIndexOf(__chunk_4.createPath(fromLocation));\r\n        if (toIndex === -1) {\r\n            toIndex = 0;\r\n        }\r\n        if (fromIndex === -1) {\r\n            fromIndex = 0;\r\n        }\r\n        const delta = toIndex - fromIndex;\r\n        if (delta) {\r\n            forceNextPop = true;\r\n            go(delta);\r\n        }\r\n    };\r\n    // Ensure the hash is encoded properly before doing anything else.\r\n    const path = getHashPath();\r\n    const encodedPath = encodePath(path);\r\n    if (path !== encodedPath) {\r\n        replaceHashPath(encodedPath);\r\n    }\r\n    const initialLocation = getDOMLocation();\r\n    let allPaths = [__chunk_4.createPath(initialLocation)];\r\n    // Public interface\r\n    const createHref = (location) => ('#' + encodePath(basename + __chunk_4.createPath(location)));\r\n    const push = (path, state) => {\r\n        warning(state === undefined, 'Hash history cannot push state; it is ignored');\r\n        const action = 'PUSH';\r\n        const location = __chunk_4.createLocation(path, undefined, __chunk_4.createKey(keyLength), history.location);\r\n        transitionManager.confirmTransitionTo(location, action, getUserConfirmation, (ok) => {\r\n            if (!ok) {\r\n                return;\r\n            }\r\n            const path = __chunk_4.createPath(location);\r\n            const encodedPath = encodePath(basename + path);\r\n            const hashChanged = getHashPath() !== encodedPath;\r\n            if (hashChanged) {\r\n                // We cannot tell if a hashchange was caused by a PUSH, so we'd\r\n                // rather setState here and ignore the hashchange. The caveat here\r\n                // is that other hash histories in the page will consider it a POP.\r\n                ignorePath = path;\r\n                pushHashPath(encodedPath);\r\n                const prevIndex = allPaths.lastIndexOf(__chunk_4.createPath(history.location));\r\n                const nextPaths = allPaths.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\r\n                nextPaths.push(path);\r\n                allPaths = nextPaths;\r\n                setState({ action, location });\r\n            }\r\n            else {\r\n                warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack');\r\n                setState();\r\n            }\r\n        });\r\n    };\r\n    const replace = (path, state) => {\r\n        warning(state === undefined, 'Hash history cannot replace state; it is ignored');\r\n        const action = 'REPLACE';\r\n        const location = __chunk_4.createLocation(path, undefined, __chunk_4.createKey(keyLength), history.location);\r\n        transitionManager.confirmTransitionTo(location, action, getUserConfirmation, (ok) => {\r\n            if (!ok) {\r\n                return;\r\n            }\r\n            const path = __chunk_4.createPath(location);\r\n            const encodedPath = encodePath(basename + path);\r\n            const hashChanged = getHashPath() !== encodedPath;\r\n            if (hashChanged) {\r\n                // We cannot tell if a hashchange was caused by a REPLACE, so we'd\r\n                // rather setState here and ignore the hashchange. The caveat here\r\n                // is that other hash histories in the page will consider it a POP.\r\n                ignorePath = path;\r\n                replaceHashPath(encodedPath);\r\n            }\r\n            const prevIndex = allPaths.indexOf(__chunk_4.createPath(history.location));\r\n            if (prevIndex !== -1) {\r\n                allPaths[prevIndex] = path;\r\n            }\r\n            setState({ action, location });\r\n        });\r\n    };\r\n    const go = (n) => {\r\n        warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser');\r\n        globalHistory.go(n);\r\n    };\r\n    const goBack = () => go(-1);\r\n    const goForward = () => go(1);\r\n    const checkDOMListeners = (win, delta) => {\r\n        listenerCount += delta;\r\n        if (listenerCount === 1) {\r\n            win.addEventListener(HashChangeEvent$1, handleHashChange);\r\n        }\r\n        else if (listenerCount === 0) {\r\n            win.removeEventListener(HashChangeEvent$1, handleHashChange);\r\n        }\r\n    };\r\n    const block = (prompt = '') => {\r\n        const unblock = transitionManager.setPrompt(prompt);\r\n        if (!isBlocked) {\r\n            checkDOMListeners(win, 1);\r\n            isBlocked = true;\r\n        }\r\n        return () => {\r\n            if (isBlocked) {\r\n                isBlocked = false;\r\n                checkDOMListeners(win, -1);\r\n            }\r\n            return unblock();\r\n        };\r\n    };\r\n    const listen = (listener) => {\r\n        const unlisten = transitionManager.appendListener(listener);\r\n        checkDOMListeners(win, 1);\r\n        return () => {\r\n            checkDOMListeners(win, -1);\r\n            unlisten();\r\n        };\r\n    };\r\n    const history = {\r\n        length: globalHistory.length,\r\n        action: 'POP',\r\n        location: initialLocation,\r\n        createHref,\r\n        push,\r\n        replace,\r\n        go,\r\n        goBack,\r\n        goForward,\r\n        block,\r\n        listen,\r\n        win: win\r\n    };\r\n    return history;\r\n};\n\nconst getLocation = (location, root) => {\n    // Remove the root URL if found at beginning of string\n    const pathname = location.pathname.indexOf(root) == 0 ?\n        '/' + location.pathname.slice(root.length) :\n        location.pathname;\n    return Object.assign({}, location, { pathname });\n};\nconst HISTORIES = {\n    'browser': createBrowserHistory,\n    'hash': createHashHistory\n};\n/**\n  * @name Router\n  * @module ionic\n  * @description\n */\nclass Router {\n    constructor(hostRef) {\n        __chunk_1.registerInstance(this, hostRef);\n        this.root = '/';\n        this.historyType = 'browser';\n        // A suffix to append to the page title whenever\n        // it's updated through RouteTitle\n        this.titleSuffix = '';\n        this.routeViewsUpdated = (options = {}) => {\n            if (this.history && options.scrollToId && this.historyType === 'browser') {\n                const elm = this.history.win.document.getElementById(options.scrollToId);\n                if (elm) {\n                    return elm.scrollIntoView();\n                }\n            }\n            this.scrollTo(options.scrollTopOffset || this.scrollTopOffset);\n        };\n        this.isServer = __chunk_1.getContext(this, \"isServer\");\n        this.queue = __chunk_1.getContext(this, \"queue\");\n    }\n    componentWillLoad() {\n        this.history = HISTORIES[this.historyType](this.el.ownerDocument.defaultView);\n        this.history.listen((location) => {\n            location = getLocation(location, this.root);\n            this.location = location;\n        });\n        this.location = getLocation(this.history.location, this.root);\n    }\n    scrollTo(scrollToLocation) {\n        const history = this.history;\n        if (scrollToLocation == null || this.isServer || !history) {\n            return;\n        }\n        if (history.action === 'POP' && Array.isArray(history.location.scrollPosition)) {\n            return this.queue.write(() => {\n                if (history && history.location && Array.isArray(history.location.scrollPosition)) {\n                    history.win.scrollTo(history.location.scrollPosition[0], history.location.scrollPosition[1]);\n                }\n            });\n        }\n        // okay, the frame has passed. Go ahead and render now\n        return this.queue.write(() => {\n            history.win.scrollTo(0, scrollToLocation);\n        });\n    }\n    render() {\n        if (!this.location || !this.history) {\n            return;\n        }\n        const state = {\n            historyType: this.historyType,\n            location: this.location,\n            titleSuffix: this.titleSuffix,\n            root: this.root,\n            history: this.history,\n            routeViewsUpdated: this.routeViewsUpdated\n        };\n        return (__chunk_1.h(__chunk_2.ActiveRouter.Provider, { state: state }, __chunk_1.h(\"slot\", null)));\n    }\n    get el() { return __chunk_1.getElement(this); }\n}\n\nexports.stencil_router = Router;\n","'use strict';\n\n/*\nExtremely simple css parser. Intended to be not more than what we need\nand definitely not necessarily correct =).\n*/\n/** @unrestricted */\nvar StyleNode = /** @class */ (function () {\n    function StyleNode() {\n        this.start = 0;\n        this.end = 0;\n        this.previous = null;\n        this.parent = null;\n        this.rules = null;\n        this.parsedCssText = '';\n        this.cssText = '';\n        this.atRule = false;\n        this.type = 0;\n        this.keyframesName = '';\n        this.selector = '';\n        this.parsedSelector = '';\n    }\n    return StyleNode;\n}());\n// given a string of css, return a simple rule tree\n/**\n * @param {string} text\n * @return {StyleNode}\n */\nfunction parse(text) {\n    text = clean(text);\n    return parseCss(lex(text), text);\n}\n// remove stuff we don't care about that may hinder parsing\n/**\n * @param {string} cssText\n * @return {string}\n */\nfunction clean(cssText) {\n    return cssText.replace(RX.comments, '').replace(RX.port, '');\n}\n// super simple {...} lexer that returns a node tree\n/**\n * @param {string} text\n * @return {StyleNode}\n */\nfunction lex(text) {\n    var root = new StyleNode();\n    root['start'] = 0;\n    root['end'] = text.length;\n    var n = root;\n    for (var i = 0, l = text.length; i < l; i++) {\n        if (text[i] === OPEN_BRACE) {\n            if (!n['rules']) {\n                n['rules'] = [];\n            }\n            var p = n;\n            var previous = p['rules'][p['rules'].length - 1] || null;\n            n = new StyleNode();\n            n['start'] = i + 1;\n            n['parent'] = p;\n            n['previous'] = previous;\n            p['rules'].push(n);\n        }\n        else if (text[i] === CLOSE_BRACE) {\n            n['end'] = i + 1;\n            n = n['parent'] || root;\n        }\n    }\n    return root;\n}\n// add selectors/cssText to node tree\n/**\n * @param {StyleNode} node\n * @param {string} text\n * @return {StyleNode}\n */\nfunction parseCss(node, text) {\n    var t = text.substring(node['start'], node['end'] - 1);\n    node['parsedCssText'] = node['cssText'] = t.trim();\n    if (node.parent) {\n        var ss = node.previous ? node.previous['end'] : node.parent['start'];\n        t = text.substring(ss, node['start'] - 1);\n        t = _expandUnicodeEscapes(t);\n        t = t.replace(RX.multipleSpaces, ' ');\n        // TODO(sorvell): ad hoc; make selector include only after last ;\n        // helps with mixin syntax\n        t = t.substring(t.lastIndexOf(';') + 1);\n        var s = node['parsedSelector'] = node['selector'] = t.trim();\n        node['atRule'] = (s.indexOf(AT_START) === 0);\n        // note, support a subset of rule types...\n        if (node['atRule']) {\n            if (s.indexOf(MEDIA_START) === 0) {\n                node['type'] = types.MEDIA_RULE;\n            }\n            else if (s.match(RX.keyframesRule)) {\n                node['type'] = types.KEYFRAMES_RULE;\n                node['keyframesName'] = node['selector'].split(RX.multipleSpaces).pop();\n            }\n        }\n        else {\n            if (s.indexOf(VAR_START) === 0) {\n                node['type'] = types.MIXIN_RULE;\n            }\n            else {\n                node['type'] = types.STYLE_RULE;\n            }\n        }\n    }\n    var r$ = node['rules'];\n    if (r$) {\n        for (var i = 0, l = r$.length, r = void 0; (i < l) && (r = r$[i]); i++) {\n            parseCss(r, text);\n        }\n    }\n    return node;\n}\n/**\n * conversion of sort unicode escapes with spaces like `\\33 ` (and longer) into\n * expanded form that doesn't require trailing space `\\000033`\n * @param {string} s\n * @return {string}\n */\nfunction _expandUnicodeEscapes(s) {\n    return s.replace(/\\\\([0-9a-f]{1,6})\\s/gi, function () {\n        var code = arguments[1], repeat = 6 - code.length;\n        while (repeat--) {\n            code = '0' + code;\n        }\n        return '\\\\' + code;\n    });\n}\n/** @enum {number} */\nvar types = {\n    STYLE_RULE: 1,\n    KEYFRAMES_RULE: 7,\n    MEDIA_RULE: 4,\n    MIXIN_RULE: 1000\n};\nvar OPEN_BRACE = '{';\nvar CLOSE_BRACE = '}';\n// helper regexp's\nvar RX = {\n    comments: /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim,\n    port: /@import[^;]*;/gim,\n    customProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\\n]|$)/gim,\n    mixinProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\\n]|$)?/gim,\n    mixinApply: /@apply\\s*\\(?[^);]*\\)?\\s*(?:[;\\n]|$)?/gim,\n    varApply: /[^;:]*?:[^;]*?var\\([^;]*\\)(?:[;\\n]|$)?/gim,\n    keyframesRule: /^@[^\\s]*keyframes/,\n    multipleSpaces: /\\s+/g\n};\nvar VAR_START = '--';\nvar MEDIA_START = '@media';\nvar AT_START = '@';\nfunction findRegex(regex, cssText, offset) {\n    regex['lastIndex'] = 0;\n    var r = cssText.substring(offset).match(regex);\n    if (r) {\n        var start = offset + r['index'];\n        return {\n            start: start,\n            end: start + r[0].length\n        };\n    }\n    return null;\n}\nvar VAR_USAGE_START = /\\bvar\\(/;\nvar VAR_ASSIGN_START = /\\B--[\\w-]+\\s*:/;\nvar COMMENTS = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim;\nvar TRAILING_LINES = /^[\\t ]+\\n/gm;\nfunction resolveVar(props, prop, fallback) {\n    if (props[prop]) {\n        return props[prop];\n    }\n    if (fallback) {\n        return executeTemplate(fallback, props);\n    }\n    return '';\n}\nfunction findVarEndIndex(cssText, offset) {\n    var count = 0;\n    var i = offset;\n    for (; i < cssText.length; i++) {\n        var c = cssText[i];\n        if (c === '(') {\n            count++;\n        }\n        else if (c === ')') {\n            count--;\n            if (count <= 0) {\n                return i + 1;\n            }\n        }\n    }\n    return i;\n}\nfunction parseVar(cssText, offset) {\n    var varPos = findRegex(VAR_USAGE_START, cssText, offset);\n    if (!varPos) {\n        return null;\n    }\n    var endVar = findVarEndIndex(cssText, varPos.start);\n    var varContent = cssText.substring(varPos.end, endVar - 1);\n    var _a = varContent.split(','), propName = _a[0], fallback = _a.slice(1);\n    return {\n        start: varPos.start,\n        end: endVar,\n        propName: propName.trim(),\n        fallback: fallback.length > 0 ? fallback.join(',').trim() : undefined\n    };\n}\nfunction compileVar(cssText, template, offset) {\n    var varMeta = parseVar(cssText, offset);\n    if (!varMeta) {\n        template.push(cssText.substring(offset, cssText.length));\n        return cssText.length;\n    }\n    var propName = varMeta.propName;\n    var fallback = varMeta.fallback != null ? compileTemplate(varMeta.fallback) : undefined;\n    template.push(cssText.substring(offset, varMeta.start), function (params) { return resolveVar(params, propName, fallback); });\n    return varMeta.end;\n}\nfunction executeTemplate(template, props) {\n    var final = '';\n    for (var i = 0; i < template.length; i++) {\n        var s = template[i];\n        final += (typeof s === 'string')\n            ? s\n            : s(props);\n    }\n    return final;\n}\nfunction findEndValue(cssText, offset) {\n    var onStr = false;\n    var double = false;\n    var i = offset;\n    for (; i < cssText.length; i++) {\n        var c = cssText[i];\n        if (onStr) {\n            if (double && c === '\"') {\n                onStr = false;\n            }\n            if (!double && c === '\\'') {\n                onStr = false;\n            }\n        }\n        else {\n            if (c === '\"') {\n                onStr = true;\n                double = true;\n            }\n            else if (c === '\\'') {\n                onStr = true;\n                double = false;\n            }\n            else if (c === ';') {\n                return i + 1;\n            }\n            else if (c === '}') {\n                return i;\n            }\n        }\n    }\n    return i;\n}\nfunction removeCustomAssigns(cssText) {\n    var final = '';\n    var offset = 0;\n    while (true) {\n        var assignPos = findRegex(VAR_ASSIGN_START, cssText, offset);\n        var start = assignPos ? assignPos.start : cssText.length;\n        final += cssText.substring(offset, start);\n        if (assignPos) {\n            offset = findEndValue(cssText, start);\n        }\n        else {\n            break;\n        }\n    }\n    return final;\n}\nfunction compileTemplate(cssText) {\n    var index = 0;\n    cssText = cssText.replace(COMMENTS, '');\n    cssText = removeCustomAssigns(cssText)\n        .replace(TRAILING_LINES, '');\n    var segments = [];\n    while (index < cssText.length) {\n        index = compileVar(cssText, segments, index);\n    }\n    return segments;\n}\nfunction resolveValues(selectors) {\n    var props = {};\n    selectors.forEach(function (selector) {\n        selector.declarations.forEach(function (dec) {\n            props[dec.prop] = dec.value;\n        });\n    });\n    var propsValues = {};\n    var entries = Object.entries(props);\n    var _loop_1 = function (i) {\n        var dirty = false;\n        entries.forEach(function (_a) {\n            var key = _a[0], value = _a[1];\n            var propValue = executeTemplate(value, propsValues);\n            if (propValue !== propsValues[key]) {\n                propsValues[key] = propValue;\n                dirty = true;\n            }\n        });\n        if (!dirty) {\n            return \"break\";\n        }\n    };\n    for (var i = 0; i < 10; i++) {\n        var state_1 = _loop_1();\n        if (state_1 === \"break\")\n            break;\n    }\n    return propsValues;\n}\nfunction getSelectors(root, index) {\n    if (index === void 0) { index = 0; }\n    if (!root.rules) {\n        return [];\n    }\n    var selectors = [];\n    root.rules\n        .filter(function (rule) { return rule.type === types.STYLE_RULE; })\n        .forEach(function (rule) {\n        var declarations = getDeclarations(rule.cssText);\n        if (declarations.length > 0) {\n            rule.parsedSelector.split(',').forEach(function (selector) {\n                selector = selector.trim();\n                selectors.push({\n                    selector: selector,\n                    declarations: declarations,\n                    specificity: computeSpecificity(),\n                    nu: index\n                });\n            });\n        }\n        index++;\n    });\n    return selectors;\n}\nfunction computeSpecificity(_selector) {\n    return 1;\n}\nvar IMPORTANT = '!important';\nvar FIND_DECLARATIONS = /(?:^|[;\\s{]\\s*)(--[\\w-]*?)\\s*:\\s*(?:((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^)]*?\\)|[^};{])+)|\\{([^}]*)\\}(?:(?=[;\\s}])|$))/gm;\nfunction getDeclarations(cssText) {\n    var declarations = [];\n    var xArray;\n    while (xArray = FIND_DECLARATIONS.exec(cssText.trim())) {\n        var _a = normalizeValue(xArray[2]), value = _a.value, important = _a.important;\n        declarations.push({\n            prop: xArray[1].trim(),\n            value: compileTemplate(value),\n            important: important,\n        });\n    }\n    return declarations;\n}\nfunction normalizeValue(value) {\n    var regex = /\\s+/gim;\n    value = value.replace(regex, ' ').trim();\n    var important = value.endsWith(IMPORTANT);\n    if (important) {\n        value = value.substr(0, value.length - IMPORTANT.length).trim();\n    }\n    return {\n        value: value,\n        important: important\n    };\n}\nfunction getActiveSelectors(hostEl, hostScopeMap, globalScopes) {\n    // computes the css scopes that might affect this particular element\n    var scopes = globalScopes.concat(getScopesForElement(hostScopeMap, hostEl));\n    // each scope might have an array of associated selectors\n    // let's flatten the complete array of selectors from all the scopes\n    var selectorSet = getSelectorsForScopes(scopes);\n    // we filter to only the selectors that matches the hostEl\n    var activeSelectors = selectorSet.filter(function (selector) { return matches(hostEl, selector.selector); });\n    // sort selectors by specifity\n    return sortSelectors(activeSelectors);\n}\nfunction getScopesForElement(hostTemplateMap, node) {\n    var scopes = [];\n    while (node) {\n        var scope = hostTemplateMap.get(node);\n        if (scope) {\n            scopes.push(scope);\n        }\n        node = node.parentElement;\n    }\n    return scopes;\n}\nfunction getSelectorsForScopes(scopes) {\n    var selectors = [];\n    scopes.forEach(function (scope) {\n        selectors.push.apply(selectors, scope.selectors);\n    });\n    return selectors;\n}\nfunction sortSelectors(selectors) {\n    selectors.sort(function (a, b) {\n        if (a.specificity === b.specificity) {\n            return a.nu - b.nu;\n        }\n        return a.specificity - b.specificity;\n    });\n    return selectors;\n}\nfunction matches(el, selector) {\n    return el.matches(selector);\n}\nfunction parseCSS(original) {\n    var ast = parse(original);\n    var template = compileTemplate(original);\n    var selectors = getSelectors(ast);\n    return {\n        original: original,\n        template: template,\n        selectors: selectors,\n        isDynamic: template.length > 1\n    };\n}\nfunction addGlobalStyle(globalScopes, styleEl) {\n    var css = parseCSS(styleEl.innerHTML);\n    css.styleEl = styleEl;\n    globalScopes.push(css);\n}\nfunction updateGlobalScopes(scopes) {\n    var selectors = getSelectorsForScopes(scopes);\n    var props = resolveValues(selectors);\n    scopes.forEach(function (scope) {\n        if (scope.isDynamic) {\n            scope.styleEl.innerHTML = executeTemplate(scope.template, props);\n        }\n    });\n}\nfunction reScope(scope, cssScopeId) {\n    var template = scope.template.map(function (segment) {\n        return (typeof segment === 'string')\n            ? replaceScope(segment, scope.cssScopeId, cssScopeId)\n            : segment;\n    });\n    var selectors = scope.selectors.map(function (sel) {\n        return Object.assign({}, sel, { selector: replaceScope(sel.selector, scope.cssScopeId, cssScopeId) });\n    });\n    return Object.assign({}, scope, { template: template,\n        selectors: selectors,\n        cssScopeId: cssScopeId });\n}\nfunction replaceScope(original, oldScopeId, newScopeId) {\n    original = replaceAll(original, \"\\\\.\" + oldScopeId, \".\" + newScopeId);\n    return original;\n}\nfunction replaceAll(input, find, replace) {\n    return input.replace(new RegExp(find, 'g'), replace);\n}\nfunction loadDocument(doc, globalScopes) {\n    return loadDocumentLinks(doc, globalScopes).then(function () {\n        loadDocumentStyles(doc, globalScopes);\n    });\n}\nfunction loadDocumentLinks(doc, globalScopes) {\n    var promises = [];\n    var linkElms = doc.querySelectorAll('link[rel=\"stylesheet\"][href]');\n    for (var i = 0; i < linkElms.length; i++) {\n        promises.push(addGlobalLink(doc, globalScopes, linkElms[i]));\n    }\n    return Promise.all(promises);\n}\nfunction loadDocumentStyles(doc, globalScopes) {\n    var styleElms = doc.querySelectorAll('style');\n    for (var i = 0; i < styleElms.length; i++) {\n        addGlobalStyle(globalScopes, styleElms[i]);\n    }\n}\nfunction addGlobalLink(doc, globalScopes, linkElm) {\n    var url = linkElm.href;\n    return fetch(url).then(function (rsp) { return rsp.text(); }).then(function (text) {\n        if (hasCssVariables(text) && linkElm.parentNode) {\n            if (hasRelativeUrls(text)) {\n                text = fixRelativeUrls(text, url);\n            }\n            var styleEl = doc.createElement('style');\n            styleEl.innerHTML = text;\n            addGlobalStyle(globalScopes, styleEl);\n            linkElm.parentNode.insertBefore(styleEl, linkElm);\n            linkElm.remove();\n        }\n    }).catch(function (err) {\n        console.error(err);\n    });\n}\n// This regexp tries to determine when a variable is declared, for example:\n//\n// .my-el { --highlight-color: green; }\n//\n// but we don't want to trigger when a classname uses \"--\" or a pseudo-class is\n// used. We assume that the only characters that can preceed a variable\n// declaration are \"{\", from an opening block, \";\" from a preceeding rule, or a\n// space. This prevents the regexp from matching a word in a selector, since\n// they would need to start with a \".\" or \"#\". (We assume element names don't\n// start with \"--\").\nvar CSS_VARIABLE_REGEXP = /[\\s;{]--[-a-zA-Z0-9]+\\s*:/m;\nfunction hasCssVariables(css) {\n    return css.indexOf('var(') > -1 || CSS_VARIABLE_REGEXP.test(css);\n}\n// This regexp find all url() usages with relative urls\nvar CSS_URL_REGEXP = /url[\\s]*\\([\\s]*['\"]?(?![http|/])([^\\'\\\"\\)]*)[\\s]*['\"]?\\)[\\s]*/gim;\nfunction hasRelativeUrls(css) {\n    CSS_URL_REGEXP.lastIndex = 0;\n    return CSS_URL_REGEXP.test(css);\n}\nfunction fixRelativeUrls(css, originalUrl) {\n    // get the basepath from the original import url\n    var basePath = originalUrl.replace(/[^/]*$/, '');\n    // replace the relative url, with the new relative url\n    return css.replace(CSS_URL_REGEXP, function (fullMatch, url) {\n        // rhe new relative path is the base path + uri\n        // TODO: normalize relative URL\n        var relativeUrl = basePath + url;\n        return fullMatch.replace(url, relativeUrl);\n    });\n}\nvar CustomStyle = /** @class */ (function () {\n    function CustomStyle(win, doc) {\n        this.win = win;\n        this.doc = doc;\n        this.count = 0;\n        this.hostStyleMap = new WeakMap();\n        this.hostScopeMap = new WeakMap();\n        this.globalScopes = [];\n        this.scopesMap = new Map();\n    }\n    CustomStyle.prototype.initShim = function () {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.win.requestAnimationFrame(function () {\n                loadDocument(_this.doc, _this.globalScopes).then(function () { return resolve(); });\n            });\n        });\n    };\n    CustomStyle.prototype.addLink = function (linkEl) {\n        var _this = this;\n        return addGlobalLink(this.doc, this.globalScopes, linkEl).then(function () {\n            _this.updateGlobal();\n        });\n    };\n    CustomStyle.prototype.addGlobalStyle = function (styleEl) {\n        addGlobalStyle(this.globalScopes, styleEl);\n        this.updateGlobal();\n    };\n    CustomStyle.prototype.createHostStyle = function (hostEl, cssScopeId, cssText) {\n        if (this.hostScopeMap.has(hostEl)) {\n            throw new Error('host style already created');\n        }\n        var baseScope = this.registerHostTemplate(cssText, cssScopeId);\n        var isDynamicScoped = !!(baseScope.isDynamic && baseScope.cssScopeId);\n        var needStyleEl = isDynamicScoped || !baseScope.styleEl;\n        var styleEl = this.doc.createElement('style');\n        if (!needStyleEl) {\n            styleEl.innerHTML = cssText;\n        }\n        else {\n            if (isDynamicScoped) {\n                styleEl['s-sc'] = cssScopeId = baseScope.cssScopeId + \"-\" + this.count;\n                styleEl.innerHTML = '/*needs update*/';\n                this.hostStyleMap.set(hostEl, styleEl);\n                this.hostScopeMap.set(hostEl, reScope(baseScope, cssScopeId));\n                this.count++;\n            }\n            else {\n                baseScope.styleEl = styleEl;\n                if (!baseScope.isDynamic) {\n                    styleEl.innerHTML = executeTemplate(baseScope.template, {});\n                }\n                this.globalScopes.push(baseScope);\n                this.updateGlobal();\n                this.hostScopeMap.set(hostEl, baseScope);\n            }\n        }\n        return styleEl;\n    };\n    CustomStyle.prototype.removeHost = function (hostEl) {\n        var css = this.hostStyleMap.get(hostEl);\n        if (css) {\n            css.remove();\n        }\n        this.hostStyleMap.delete(hostEl);\n        this.hostScopeMap.delete(hostEl);\n    };\n    CustomStyle.prototype.updateHost = function (hostEl) {\n        var scope = this.hostScopeMap.get(hostEl);\n        if (scope && scope.isDynamic && scope.cssScopeId) {\n            var styleEl = this.hostStyleMap.get(hostEl);\n            if (styleEl) {\n                var selectors = getActiveSelectors(hostEl, this.hostScopeMap, this.globalScopes);\n                var props = resolveValues(selectors);\n                styleEl.innerHTML = executeTemplate(scope.template, props);\n            }\n        }\n    };\n    CustomStyle.prototype.updateGlobal = function () {\n        updateGlobalScopes(this.globalScopes);\n    };\n    CustomStyle.prototype.registerHostTemplate = function (cssText, scopeId) {\n        var scope = this.scopesMap.get(scopeId);\n        if (!scope) {\n            scope = parseCSS(cssText);\n            scope.cssScopeId = scopeId;\n            this.scopesMap.set(scopeId, scope);\n        }\n        return scope;\n    };\n    return CustomStyle;\n}());\nvar win = window;\nfunction needsShim() {\n    return !(win.CSS && win.CSS.supports && win.CSS.supports('color', 'var(--c)'));\n}\nif (!win.__stencil_cssshim && needsShim()) {\n    win.__stencil_cssshim = new CustomStyle(win, document);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\n(function(){\nvar aa=new Set(\"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph\".split(\" \"));function g(a){var b=aa.has(a);a=/^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/.test(a);return !b&&a}function l(a){var b=a.isConnected;if(void 0!==b)return b;for(;a&&!(a.__CE_isImportDocument||a instanceof Document);)a=a.parentNode||(window.ShadowRoot&&a instanceof ShadowRoot?a.host:void 0);return !(!a||!(a.__CE_isImportDocument||a instanceof Document))}\n  function n(a,b){for(;b&&b!==a&&!b.nextSibling;)b=b.parentNode;return b&&b!==a?b.nextSibling:null}\n  function p(a,b,d){d=void 0===d?new Set:d;for(var c=a;c;){if(c.nodeType===Node.ELEMENT_NODE){var e=c;b(e);var f=e.localName;if(\"link\"===f&&\"import\"===e.getAttribute(\"rel\")){c=e.import;if(c instanceof Node&&!d.has(c))for(d.add(c),c=c.firstChild;c;c=c.nextSibling)p(c,b,d);c=n(a,e);continue}else if(\"template\"===f){c=n(a,e);continue}if(e=e.__CE_shadowRoot)for(e=e.firstChild;e;e=e.nextSibling)p(e,b,d);}c=c.firstChild?c.firstChild:n(a,c);}}function r(a,b,d){a[b]=d;}function u(){this.a=new Map;this.g=new Map;this.c=[];this.f=[];this.b=!1;}function ba(a,b,d){a.a.set(b,d);a.g.set(d.constructorFunction,d);}function ca(a,b){a.b=!0;a.c.push(b);}function da(a,b){a.b=!0;a.f.push(b);}function v(a,b){a.b&&p(b,function(b){return w(a,b)});}function w(a,b){if(a.b&&!b.__CE_patched){b.__CE_patched=!0;for(var d=0;d<a.c.length;d++)a.c[d](b);for(d=0;d<a.f.length;d++)a.f[d](b);}}\n  function x(a,b){var d=[];p(b,function(b){return d.push(b)});for(b=0;b<d.length;b++){var c=d[b];1===c.__CE_state?a.connectedCallback(c):y(a,c);}}function z(a,b){var d=[];p(b,function(b){return d.push(b)});for(b=0;b<d.length;b++){var c=d[b];1===c.__CE_state&&a.disconnectedCallback(c);}}\n  function A(a,b,d){d=void 0===d?{}:d;var c=d.u||new Set,e=d.i||function(b){return y(a,b)},f=[];p(b,function(b){if(\"link\"===b.localName&&\"import\"===b.getAttribute(\"rel\")){var d=b.import;d instanceof Node&&(d.__CE_isImportDocument=!0,d.__CE_hasRegistry=!0);d&&\"complete\"===d.readyState?d.__CE_documentLoadHandled=!0:b.addEventListener(\"load\",function(){var d=b.import;if(!d.__CE_documentLoadHandled){d.__CE_documentLoadHandled=!0;var f=new Set(c);f.delete(d);A(a,d,{u:f,i:e});}});}else f.push(b);},c);if(a.b)for(b=\n  0;b<f.length;b++)w(a,f[b]);for(b=0;b<f.length;b++)e(f[b]);}\n  function y(a,b){if(void 0===b.__CE_state){var d=b.ownerDocument;if(d.defaultView||d.__CE_isImportDocument&&d.__CE_hasRegistry)if(d=a.a.get(b.localName)){d.constructionStack.push(b);var c=d.constructorFunction;try{try{if(new c!==b)throw Error(\"The custom element constructor did not produce the element being upgraded.\");}finally{d.constructionStack.pop();}}catch(t){throw b.__CE_state=2,t;}b.__CE_state=1;b.__CE_definition=d;if(d.attributeChangedCallback)for(d=d.observedAttributes,c=0;c<d.length;c++){var e=\n  d[c],f=b.getAttribute(e);null!==f&&a.attributeChangedCallback(b,e,null,f,null);}l(b)&&a.connectedCallback(b);}}}u.prototype.connectedCallback=function(a){var b=a.__CE_definition;b.connectedCallback&&b.connectedCallback.call(a);};u.prototype.disconnectedCallback=function(a){var b=a.__CE_definition;b.disconnectedCallback&&b.disconnectedCallback.call(a);};\n  u.prototype.attributeChangedCallback=function(a,b,d,c,e){var f=a.__CE_definition;f.attributeChangedCallback&&-1<f.observedAttributes.indexOf(b)&&f.attributeChangedCallback.call(a,b,d,c,e);};function B(a){var b=document;this.c=a;this.a=b;this.b=void 0;A(this.c,this.a);\"loading\"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}));}function C(a){a.b&&a.b.disconnect();}B.prototype.f=function(a){var b=this.a.readyState;\"interactive\"!==b&&\"complete\"!==b||C(this);for(b=0;b<a.length;b++)for(var d=a[b].addedNodes,c=0;c<d.length;c++)A(this.c,d[c]);};function ea(){var a=this;this.b=this.a=void 0;this.c=new Promise(function(b){a.b=b;a.a&&b(a.a);});}function D(a){if(a.a)throw Error(\"Already resolved.\");a.a=void 0;a.b&&a.b(void 0);}function E(a){this.c=!1;this.a=a;this.j=new Map;this.f=function(b){return b()};this.b=!1;this.g=[];this.o=new B(a);}\n  E.prototype.l=function(a,b){var d=this;if(!(b instanceof Function))throw new TypeError(\"Custom element constructors must be functions.\");if(!g(a))throw new SyntaxError(\"The element name '\"+a+\"' is not valid.\");if(this.a.a.get(a))throw Error(\"A custom element with name '\"+a+\"' has already been defined.\");if(this.c)throw Error(\"A custom element is already being defined.\");this.c=!0;try{var c=function(b){var a=e[b];if(void 0!==a&&!(a instanceof Function))throw Error(\"The '\"+b+\"' callback must be a function.\");\n  return a},e=b.prototype;if(!(e instanceof Object))throw new TypeError(\"The custom element constructor's prototype is not an object.\");var f=c(\"connectedCallback\");var t=c(\"disconnectedCallback\");var k=c(\"adoptedCallback\");var h=c(\"attributeChangedCallback\");var m=b.observedAttributes||[];}catch(q){return}finally{this.c=!1;}b={localName:a,constructorFunction:b,connectedCallback:f,disconnectedCallback:t,adoptedCallback:k,attributeChangedCallback:h,observedAttributes:m,constructionStack:[]};ba(this.a,\n  a,b);this.g.push(b);this.b||(this.b=!0,this.f(function(){return fa(d)}));};E.prototype.i=function(a){A(this.a,a);};\n  function fa(a){if(!1!==a.b){a.b=!1;for(var b=a.g,d=[],c=new Map,e=0;e<b.length;e++)c.set(b[e].localName,[]);A(a.a,document,{i:function(b){if(void 0===b.__CE_state){var e=b.localName,f=c.get(e);f?f.push(b):a.a.a.get(e)&&d.push(b);}}});for(e=0;e<d.length;e++)y(a.a,d[e]);for(;0<b.length;){var f=b.shift();e=f.localName;f=c.get(f.localName);for(var t=0;t<f.length;t++)y(a.a,f[t]);(e=a.j.get(e))&&D(e);}}}E.prototype.get=function(a){if(a=this.a.a.get(a))return a.constructorFunction};\n  E.prototype.m=function(a){if(!g(a))return Promise.reject(new SyntaxError(\"'\"+a+\"' is not a valid custom element name.\"));var b=this.j.get(a);if(b)return b.c;b=new ea;this.j.set(a,b);this.a.a.get(a)&&!this.g.some(function(b){return b.localName===a})&&D(b);return b.c};E.prototype.s=function(a){C(this.o);var b=this.f;this.f=function(d){return a(function(){return b(d)})};};window.CustomElementRegistry=E;E.prototype.define=E.prototype.l;E.prototype.upgrade=E.prototype.i;E.prototype.get=E.prototype.get;\n  E.prototype.whenDefined=E.prototype.m;E.prototype.polyfillWrapFlushCallback=E.prototype.s;var F=window.Document.prototype.createElement,G=window.Document.prototype.createElementNS,ha=window.Document.prototype.importNode,ia=window.Document.prototype.prepend,ja=window.Document.prototype.append,ka=window.DocumentFragment.prototype.prepend,la=window.DocumentFragment.prototype.append,H=window.Node.prototype.cloneNode,I=window.Node.prototype.appendChild,J=window.Node.prototype.insertBefore,K=window.Node.prototype.removeChild,L=window.Node.prototype.replaceChild,M=Object.getOwnPropertyDescriptor(window.Node.prototype,\n  \"textContent\"),N=window.Element.prototype.attachShadow,O=Object.getOwnPropertyDescriptor(window.Element.prototype,\"innerHTML\"),P=window.Element.prototype.getAttribute,Q=window.Element.prototype.setAttribute,R=window.Element.prototype.removeAttribute,S=window.Element.prototype.getAttributeNS,T=window.Element.prototype.setAttributeNS,U=window.Element.prototype.removeAttributeNS,ma=window.Element.prototype.insertAdjacentElement,na=window.Element.prototype.insertAdjacentHTML,oa=window.Element.prototype.prepend,\n  pa=window.Element.prototype.append,V=window.Element.prototype.before,qa=window.Element.prototype.after,ra=window.Element.prototype.replaceWith,sa=window.Element.prototype.remove,ta=window.HTMLElement,W=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,\"innerHTML\"),ua=window.HTMLElement.prototype.insertAdjacentElement,va=window.HTMLElement.prototype.insertAdjacentHTML;var wa=new function(){};function xa(){var a=X;window.HTMLElement=function(){function b(){var b=this.constructor,c=a.g.get(b);if(!c)throw Error(\"The custom element being constructed was not registered with `customElements`.\");var e=c.constructionStack;if(0===e.length)return e=F.call(document,c.localName),Object.setPrototypeOf(e,b.prototype),e.__CE_state=1,e.__CE_definition=c,w(a,e),e;c=e.length-1;var f=e[c];if(f===wa)throw Error(\"The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.\");\n  e[c]=wa;Object.setPrototypeOf(f,b.prototype);w(a,f);return f}b.prototype=ta.prototype;Object.defineProperty(b.prototype,\"constructor\",{writable:!0,configurable:!0,enumerable:!1,value:b});return b}();}function Y(a,b,d){function c(b){return function(d){for(var e=[],c=0;c<arguments.length;++c)e[c]=arguments[c];c=[];for(var f=[],m=0;m<e.length;m++){var q=e[m];q instanceof Element&&l(q)&&f.push(q);if(q instanceof DocumentFragment)for(q=q.firstChild;q;q=q.nextSibling)c.push(q);else c.push(q);}b.apply(this,e);for(e=0;e<f.length;e++)z(a,f[e]);if(l(this))for(e=0;e<c.length;e++)f=c[e],f instanceof Element&&x(a,f);}}void 0!==d.h&&(b.prepend=c(d.h));void 0!==d.append&&(b.append=c(d.append));}function ya(){var a=X;r(Document.prototype,\"createElement\",function(b){if(this.__CE_hasRegistry){var d=a.a.get(b);if(d)return new d.constructorFunction}b=F.call(this,b);w(a,b);return b});r(Document.prototype,\"importNode\",function(b,d){b=ha.call(this,b,!!d);this.__CE_hasRegistry?A(a,b):v(a,b);return b});r(Document.prototype,\"createElementNS\",function(b,d){if(this.__CE_hasRegistry&&(null===b||\"http://www.w3.org/1999/xhtml\"===b)){var c=a.a.get(d);if(c)return new c.constructorFunction}b=G.call(this,b,\n  d);w(a,b);return b});Y(a,Document.prototype,{h:ia,append:ja});}function za(){function a(a,c){Object.defineProperty(a,\"textContent\",{enumerable:c.enumerable,configurable:!0,get:c.get,set:function(a){if(this.nodeType===Node.TEXT_NODE)c.set.call(this,a);else{var d=void 0;if(this.firstChild){var e=this.childNodes,k=e.length;if(0<k&&l(this)){d=Array(k);for(var h=0;h<k;h++)d[h]=e[h];}}c.set.call(this,a);if(d)for(a=0;a<d.length;a++)z(b,d[a]);}}});}var b=X;r(Node.prototype,\"insertBefore\",function(a,c){if(a instanceof DocumentFragment){var e=Array.prototype.slice.apply(a.childNodes);\n  a=J.call(this,a,c);if(l(this))for(c=0;c<e.length;c++)x(b,e[c]);return a}e=l(a);c=J.call(this,a,c);e&&z(b,a);l(this)&&x(b,a);return c});r(Node.prototype,\"appendChild\",function(a){if(a instanceof DocumentFragment){var c=Array.prototype.slice.apply(a.childNodes);a=I.call(this,a);if(l(this))for(var e=0;e<c.length;e++)x(b,c[e]);return a}c=l(a);e=I.call(this,a);c&&z(b,a);l(this)&&x(b,a);return e});r(Node.prototype,\"cloneNode\",function(a){a=H.call(this,!!a);this.ownerDocument.__CE_hasRegistry?A(b,a):v(b,\n  a);return a});r(Node.prototype,\"removeChild\",function(a){var c=l(a),e=K.call(this,a);c&&z(b,a);return e});r(Node.prototype,\"replaceChild\",function(a,c){if(a instanceof DocumentFragment){var e=Array.prototype.slice.apply(a.childNodes);a=L.call(this,a,c);if(l(this))for(z(b,c),c=0;c<e.length;c++)x(b,e[c]);return a}e=l(a);var f=L.call(this,a,c),d=l(this);d&&z(b,c);e&&z(b,a);d&&x(b,a);return f});M&&M.get?a(Node.prototype,M):ca(b,function(b){a(b,{enumerable:!0,configurable:!0,get:function(){for(var a=[],\n  b=0;b<this.childNodes.length;b++){var f=this.childNodes[b];f.nodeType!==Node.COMMENT_NODE&&a.push(f.textContent);}return a.join(\"\")},set:function(a){for(;this.firstChild;)K.call(this,this.firstChild);null!=a&&\"\"!==a&&I.call(this,document.createTextNode(a));}});});}function Aa(a){function b(b){return function(e){for(var c=[],d=0;d<arguments.length;++d)c[d]=arguments[d];d=[];for(var k=[],h=0;h<c.length;h++){var m=c[h];m instanceof Element&&l(m)&&k.push(m);if(m instanceof DocumentFragment)for(m=m.firstChild;m;m=m.nextSibling)d.push(m);else d.push(m);}b.apply(this,c);for(c=0;c<k.length;c++)z(a,k[c]);if(l(this))for(c=0;c<d.length;c++)k=d[c],k instanceof Element&&x(a,k);}}var d=Element.prototype;void 0!==V&&(d.before=b(V));void 0!==V&&(d.after=b(qa));void 0!==ra&&\n  r(d,\"replaceWith\",function(b){for(var e=[],c=0;c<arguments.length;++c)e[c]=arguments[c];c=[];for(var d=[],k=0;k<e.length;k++){var h=e[k];h instanceof Element&&l(h)&&d.push(h);if(h instanceof DocumentFragment)for(h=h.firstChild;h;h=h.nextSibling)c.push(h);else c.push(h);}k=l(this);ra.apply(this,e);for(e=0;e<d.length;e++)z(a,d[e]);if(k)for(z(a,this),e=0;e<c.length;e++)d=c[e],d instanceof Element&&x(a,d);});void 0!==sa&&r(d,\"remove\",function(){var b=l(this);sa.call(this);b&&z(a,this);});}function Ba(){function a(a,b){Object.defineProperty(a,\"innerHTML\",{enumerable:b.enumerable,configurable:!0,get:b.get,set:function(a){var e=this,d=void 0;l(this)&&(d=[],p(this,function(a){a!==e&&d.push(a);}));b.set.call(this,a);if(d)for(var f=0;f<d.length;f++){var t=d[f];1===t.__CE_state&&c.disconnectedCallback(t);}this.ownerDocument.__CE_hasRegistry?A(c,this):v(c,this);return a}});}function b(a,b){r(a,\"insertAdjacentElement\",function(a,e){var d=l(e);a=b.call(this,a,e);d&&z(c,e);l(a)&&x(c,e);return a});}\n  function d(a,b){function e(a,b){for(var e=[];a!==b;a=a.nextSibling)e.push(a);for(b=0;b<e.length;b++)A(c,e[b]);}r(a,\"insertAdjacentHTML\",function(a,c){a=a.toLowerCase();if(\"beforebegin\"===a){var d=this.previousSibling;b.call(this,a,c);e(d||this.parentNode.firstChild,this);}else if(\"afterbegin\"===a)d=this.firstChild,b.call(this,a,c),e(this.firstChild,d);else if(\"beforeend\"===a)d=this.lastChild,b.call(this,a,c),e(d||this.firstChild,null);else if(\"afterend\"===a)d=this.nextSibling,b.call(this,a,c),e(this.nextSibling,\n  d);else throw new SyntaxError(\"The value provided (\"+String(a)+\") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.\");});}var c=X;N&&r(Element.prototype,\"attachShadow\",function(a){a=N.call(this,a);var b=c;if(b.b&&!a.__CE_patched){a.__CE_patched=!0;for(var e=0;e<b.c.length;e++)b.c[e](a);}return this.__CE_shadowRoot=a});O&&O.get?a(Element.prototype,O):W&&W.get?a(HTMLElement.prototype,W):da(c,function(b){a(b,{enumerable:!0,configurable:!0,get:function(){return H.call(this,!0).innerHTML},\n  set:function(a){var b=\"template\"===this.localName,c=b?this.content:this,e=G.call(document,this.namespaceURI,this.localName);for(e.innerHTML=a;0<c.childNodes.length;)K.call(c,c.childNodes[0]);for(a=b?e.content:e;0<a.childNodes.length;)I.call(c,a.childNodes[0]);}});});r(Element.prototype,\"setAttribute\",function(a,b){if(1!==this.__CE_state)return Q.call(this,a,b);var e=P.call(this,a);Q.call(this,a,b);b=P.call(this,a);c.attributeChangedCallback(this,a,e,b,null);});r(Element.prototype,\"setAttributeNS\",function(a,\n  b,d){if(1!==this.__CE_state)return T.call(this,a,b,d);var e=S.call(this,a,b);T.call(this,a,b,d);d=S.call(this,a,b);c.attributeChangedCallback(this,b,e,d,a);});r(Element.prototype,\"removeAttribute\",function(a){if(1!==this.__CE_state)return R.call(this,a);var b=P.call(this,a);R.call(this,a);null!==b&&c.attributeChangedCallback(this,a,b,null,null);});r(Element.prototype,\"removeAttributeNS\",function(a,b){if(1!==this.__CE_state)return U.call(this,a,b);var d=S.call(this,a,b);U.call(this,a,b);var e=S.call(this,\n  a,b);d!==e&&c.attributeChangedCallback(this,b,d,e,a);});ua?b(HTMLElement.prototype,ua):ma?b(Element.prototype,ma):console.warn(\"Custom Elements: `Element#insertAdjacentElement` was not patched.\");va?d(HTMLElement.prototype,va):na?d(Element.prototype,na):console.warn(\"Custom Elements: `Element#insertAdjacentHTML` was not patched.\");Y(c,Element.prototype,{h:oa,append:pa});Aa(c);}var Z=window.customElements;if(!Z||Z.forcePolyfill||\"function\"!=typeof Z.define||\"function\"!=typeof Z.get){var X=new u;xa();ya();Y(X,DocumentFragment.prototype,{h:ka,append:la});za();Ba();document.__CE_hasRegistry=!0;var customElements=new E(X);Object.defineProperty(window,\"customElements\",{configurable:!0,enumerable:!0,value:customElements});}}).call(self);\n\n// Polyfill CustomEvent\nif (typeof window.CustomEvent !== 'function') {\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent( 'CustomEvent' );\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n}\n\n// Event.composedPath\n(function(E, d, w) {\n  if(!E.composedPath) {\n    E.composedPath = function() {\n      if (this.path) {\n        return this.path;\n      }\n    var target = this.target;\n\n    this.path = [];\n    while (target.parentNode !== null) {\n      this.path.push(target);\n      target = target.parentNode;\n    }\n    this.path.push(d, w);\n    return this.path;\n    };\n  }\n})(Event.prototype, document, window);\n\n/*!\nElement.closest and Element.matches\nhttps://github.com/jonathantneal/closest\nCreative Commons Zero v1.0 Universal\n*/\n(function(a){\"function\"!==typeof a.matches&&(a.matches=a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=0;a[b]&&a[b]!==this;)++b;return !!a[b]});\"function\"!==typeof a.closest&&(a.closest=function(a){for(var b=this;b&&1===b.nodeType;){if(b.matches(a))return b;b=b.parentNode;}return null});})(window.Element.prototype);\n/*!\nElement.getRootNode()\n*/\n(function(c){function d(a){a=b(a);return 11===a.nodeType?d(a.host):a}function b(a){return a.parentNode?b(a.parentNode):a}\"function\"!==typeof c.getRootNode&&(c.getRootNode=function(a){return a&&a.composed?d(this):b(this)});})(Element.prototype);\n/*!\nElement.remove()\n*/\n(function(b){b.forEach(function(a){a.hasOwnProperty(\"remove\")||Object.defineProperty(a,\"remove\",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this);}});});})([Element.prototype,CharacterData.prototype,DocumentType.prototype]);\n\n/*!\nElement.classList\n*/\n!function(e){'classList'in e||Object.defineProperty(e,\"classList\",{get:function(){var e=this,t=(e.getAttribute(\"class\")||\"\").replace(/^\\s+|\\s$/g,\"\").split(/\\s+/g);function n(){t.length>0?e.setAttribute(\"class\",t.join(\" \")):e.removeAttribute(\"class\");}return \"\"===t[0]&&t.splice(0,1),t.toggle=function(e,i){void 0!==i?i?t.add(e):t.remove(e):-1!==t.indexOf(e)?t.splice(t.indexOf(e),1):t.push(e),n();},t.add=function(){for(var e=[].slice.call(arguments),i=0,s=e.length;i<s;i++)-1===t.indexOf(e[i])&&t.push(e[i]);n();},t.remove=function(){for(var e=[].slice.call(arguments),i=0,s=e.length;i<s;i++)-1!==t.indexOf(e[i])&&t.splice(t.indexOf(e[i]),1);n();},t.item=function(e){return t[e]},t.contains=function(e){return -1!==t.indexOf(e)},t.replace=function(e,i){-1!==t.indexOf(e)&&t.splice(t.indexOf(e),1,i),n();},t.value=e.getAttribute(\"class\")||\"\",t}});}(Element.prototype);\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar arr = []\nvar replacerStack = []\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer) {\n  decirc(obj, '', [], undefined)\n  var res\n  if (replacerStack.length === 0) {\n    res = JSON.stringify(obj, replacer, spacer)\n  } else {\n    res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n  }\n  while (arr.length !== 0) {\n    var part = arr.pop()\n    if (part.length === 4) {\n      Object.defineProperty(part[0], part[1], part[3])\n    } else {\n      part[0][part[1]] = part[2]\n    }\n  }\n  return res\n}\nfunction decirc (val, k, stack, parent) {\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n        if (propertyDescriptor.get !== undefined) {\n          if (propertyDescriptor.configurable) {\n            Object.defineProperty(parent, k, { value: '[Circular]' })\n            arr.push([parent, k, val, propertyDescriptor])\n          } else {\n            replacerStack.push([val, k])\n          }\n        } else {\n          parent[k] = '[Circular]'\n          arr.push([parent, k, val])\n        }\n        return\n      }\n    }\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, stack, val)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, stack, val)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer) {\n  var tmp = deterministicDecirc(obj, '', [], undefined) || obj\n  var res\n  if (replacerStack.length === 0) {\n    res = JSON.stringify(tmp, replacer, spacer)\n  } else {\n    res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n  }\n  while (arr.length !== 0) {\n    var part = arr.pop()\n    if (part.length === 4) {\n      Object.defineProperty(part[0], part[1], part[3])\n    } else {\n      part[0][part[1]] = part[2]\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, stack, parent) {\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n        if (propertyDescriptor.get !== undefined) {\n          if (propertyDescriptor.configurable) {\n            Object.defineProperty(parent, k, { value: '[Circular]' })\n            arr.push([parent, k, val, propertyDescriptor])\n          } else {\n            replacerStack.push([val, k])\n          }\n        } else {\n          parent[k] = '[Circular]'\n          arr.push([parent, k, val])\n        }\n        return\n      }\n    }\n    if (typeof val.toJSON === 'function') {\n      return\n    }\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, stack, val)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, stack, val)\n        tmp[key] = val[key]\n      }\n      if (parent !== undefined) {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as [Circular]\nfunction replaceGetterValues (replacer) {\n  replacer = replacer !== undefined ? replacer : function (k, v) { return v }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = '[Circular]'\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","/**\n * Module of mixed-in functions shared between node and client code\n */\nconst isObject = require('./is-object');\n\n/**\n * Expose `RequestBase`.\n */\n\nmodule.exports = RequestBase;\n\n/**\n * Initialize a new `RequestBase`.\n *\n * @api public\n */\n\nfunction RequestBase(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the prototype properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (const key in RequestBase.prototype) {\n    if (Object.prototype.hasOwnProperty.call(RequestBase.prototype, key))\n      obj[key] = RequestBase.prototype[key];\n  }\n\n  return obj;\n}\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.clearTimeout = function() {\n  clearTimeout(this._timer);\n  clearTimeout(this._responseTimeoutTimer);\n  clearTimeout(this._uploadTimeoutTimer);\n  delete this._timer;\n  delete this._responseTimeoutTimer;\n  delete this._uploadTimeoutTimer;\n  return this;\n};\n\n/**\n * Override default response body parser\n *\n * This function will be called to convert incoming data into request.body\n *\n * @param {Function}\n * @api public\n */\n\nRequestBase.prototype.parse = function(fn) {\n  this._parser = fn;\n  return this;\n};\n\n/**\n * Set format of binary response body.\n * In browser valid formats are 'blob' and 'arraybuffer',\n * which return Blob and ArrayBuffer, respectively.\n *\n * In Node all values result in Buffer.\n *\n * Examples:\n *\n *      req.get('/')\n *        .responseType('blob')\n *        .end(callback);\n *\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.responseType = function(val) {\n  this._responseType = val;\n  return this;\n};\n\n/**\n * Override default request body serializer\n *\n * This function will be called to convert data set via .send or .attach into payload to send\n *\n * @param {Function}\n * @api public\n */\n\nRequestBase.prototype.serialize = function(fn) {\n  this._serializer = fn;\n  return this;\n};\n\n/**\n * Set timeouts.\n *\n * - response timeout is time between sending request and receiving the first byte of the response. Includes DNS and connection time.\n * - deadline is the time from start of the request to receiving response body in full. If the deadline is too short large files may not load at all on slow connections.\n * - upload is the time  since last bit of data was sent or received. This timeout works only if deadline timeout is off\n *\n * Value of 0 or false means no timeout.\n *\n * @param {Number|Object} ms or {response, deadline}\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.timeout = function(options) {\n  if (!options || typeof options !== 'object') {\n    this._timeout = options;\n    this._responseTimeout = 0;\n    this._uploadTimeout = 0;\n    return this;\n  }\n\n  for (const option in options) {\n    if (Object.prototype.hasOwnProperty.call(options, option)) {\n      switch (option) {\n        case 'deadline':\n          this._timeout = options.deadline;\n          break;\n        case 'response':\n          this._responseTimeout = options.response;\n          break;\n        case 'upload':\n          this._uploadTimeout = options.upload;\n          break;\n        default:\n          console.warn('Unknown timeout option', option);\n      }\n    }\n  }\n\n  return this;\n};\n\n/**\n * Set number of retry attempts on error.\n *\n * Failed requests will be retried 'count' times if timeout or err.code >= 500.\n *\n * @param {Number} count\n * @param {Function} [fn]\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.retry = function(count, fn) {\n  // Default to 1 if no count passed or true\n  if (arguments.length === 0 || count === true) count = 1;\n  if (count <= 0) count = 0;\n  this._maxRetries = count;\n  this._retries = 0;\n  this._retryCallback = fn;\n  return this;\n};\n\nconst ERROR_CODES = ['ECONNRESET', 'ETIMEDOUT', 'EADDRINFO', 'ESOCKETTIMEDOUT'];\n\n/**\n * Determine if a request should be retried.\n * (Borrowed from segmentio/superagent-retry)\n *\n * @param {Error} err an error\n * @param {Response} [res] response\n * @returns {Boolean} if segment should be retried\n */\nRequestBase.prototype._shouldRetry = function(err, res) {\n  if (!this._maxRetries || this._retries++ >= this._maxRetries) {\n    return false;\n  }\n\n  if (this._retryCallback) {\n    try {\n      const override = this._retryCallback(err, res);\n      if (override === true) return true;\n      if (override === false) return false;\n      // undefined falls back to defaults\n    } catch (err_) {\n      console.error(err_);\n    }\n  }\n\n  if (res && res.status && res.status >= 500 && res.status !== 501) return true;\n  if (err) {\n    if (err.code && ERROR_CODES.includes(err.code)) return true;\n    // Superagent timeout\n    if (err.timeout && err.code === 'ECONNABORTED') return true;\n    if (err.crossDomain) return true;\n  }\n\n  return false;\n};\n\n/**\n * Retry request\n *\n * @return {Request} for chaining\n * @api private\n */\n\nRequestBase.prototype._retry = function() {\n  this.clearTimeout();\n\n  // node\n  if (this.req) {\n    this.req = null;\n    this.req = this.request();\n  }\n\n  this._aborted = false;\n  this.timedout = false;\n\n  return this._end();\n};\n\n/**\n * Promise support\n *\n * @param {Function} resolve\n * @param {Function} [reject]\n * @return {Request}\n */\n\nRequestBase.prototype.then = function(resolve, reject) {\n  if (!this._fullfilledPromise) {\n    const self = this;\n    if (this._endCalled) {\n      console.warn(\n        'Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises'\n      );\n    }\n\n    this._fullfilledPromise = new Promise((resolve, reject) => {\n      self.on('abort', () => {\n        const err = new Error('Aborted');\n        err.code = 'ABORTED';\n        err.status = this.status;\n        err.method = this.method;\n        err.url = this.url;\n        reject(err);\n      });\n      self.end((err, res) => {\n        if (err) reject(err);\n        else resolve(res);\n      });\n    });\n  }\n\n  return this._fullfilledPromise.then(resolve, reject);\n};\n\nRequestBase.prototype.catch = function(cb) {\n  return this.then(undefined, cb);\n};\n\n/**\n * Allow for extension\n */\n\nRequestBase.prototype.use = function(fn) {\n  fn(this);\n  return this;\n};\n\nRequestBase.prototype.ok = function(cb) {\n  if (typeof cb !== 'function') throw new Error('Callback required');\n  this._okCallback = cb;\n  return this;\n};\n\nRequestBase.prototype._isResponseOK = function(res) {\n  if (!res) {\n    return false;\n  }\n\n  if (this._okCallback) {\n    return this._okCallback(res);\n  }\n\n  return res.status >= 200 && res.status < 300;\n};\n\n/**\n * Get request header `field`.\n * Case-insensitive.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nRequestBase.prototype.get = function(field) {\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Get case-insensitive header `field` value.\n * This is a deprecated internal API. Use `.get(field)` instead.\n *\n * (getHeader is no longer used internally by the superagent code base)\n *\n * @param {String} field\n * @return {String}\n * @api private\n * @deprecated\n */\n\nRequestBase.prototype.getHeader = RequestBase.prototype.get;\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n * Case-insensitive.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.set = function(field, val) {\n  if (isObject(field)) {\n    for (const key in field) {\n      if (Object.prototype.hasOwnProperty.call(field, key))\n        this.set(key, field[key]);\n    }\n\n    return this;\n  }\n\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n * Case-insensitive.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field field name\n */\nRequestBase.prototype.unset = function(field) {\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Write the field `name` and `val`, or multiple fields with one object\n * for \"multipart/form-data\" request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n *\n * request.post('/upload')\n *   .field({ foo: 'bar', baz: 'qux' })\n *   .end(callback);\n * ```\n *\n * @param {String|Object} name name of field\n * @param {String|Blob|File|Buffer|fs.ReadStream} val value of field\n * @return {Request} for chaining\n * @api public\n */\nRequestBase.prototype.field = function(name, val) {\n  // name should be either a string or an object.\n  if (name === null || undefined === name) {\n    throw new Error('.field(name, val) name can not be empty');\n  }\n\n  if (this._data) {\n    throw new Error(\n      \".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()\"\n    );\n  }\n\n  if (isObject(name)) {\n    for (const key in name) {\n      if (Object.prototype.hasOwnProperty.call(name, key))\n        this.field(key, name[key]);\n    }\n\n    return this;\n  }\n\n  if (Array.isArray(val)) {\n    for (const i in val) {\n      if (Object.prototype.hasOwnProperty.call(val, i))\n        this.field(name, val[i]);\n    }\n\n    return this;\n  }\n\n  // val should be defined now\n  if (val === null || undefined === val) {\n    throw new Error('.field(name, val) val can not be empty');\n  }\n\n  if (typeof val === 'boolean') {\n    val = String(val);\n  }\n\n  this._getFormData().append(name, val);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request} request\n * @api public\n */\nRequestBase.prototype.abort = function() {\n  if (this._aborted) {\n    return this;\n  }\n\n  this._aborted = true;\n  if (this.xhr) this.xhr.abort(); // browser\n  if (this.req) this.req.abort(); // node\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\nRequestBase.prototype._auth = function(user, pass, options, base64Encoder) {\n  switch (options.type) {\n    case 'basic':\n      this.set('Authorization', `Basic ${base64Encoder(`${user}:${pass}`)}`);\n      break;\n\n    case 'auto':\n      this.username = user;\n      this.password = pass;\n      break;\n\n    case 'bearer': // usage would be .auth(accessToken, { type: 'bearer' })\n      this.set('Authorization', `Bearer ${user}`);\n      break;\n    default:\n      break;\n  }\n\n  return this;\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nRequestBase.prototype.withCredentials = function(on) {\n  // This is browser-only functionality. Node side is no-op.\n  if (on === undefined) on = true;\n  this._withCredentials = on;\n  return this;\n};\n\n/**\n * Set the max redirects to `n`. Does nothing in browser XHR implementation.\n *\n * @param {Number} n\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.redirects = function(n) {\n  this._maxRedirects = n;\n  return this;\n};\n\n/**\n * Maximum size of buffered response body, in bytes. Counts uncompressed size.\n * Default 200MB.\n *\n * @param {Number} n number of bytes\n * @return {Request} for chaining\n */\nRequestBase.prototype.maxResponseSize = function(n) {\n  if (typeof n !== 'number') {\n    throw new TypeError('Invalid argument');\n  }\n\n  this._maxResponseSize = n;\n  return this;\n};\n\n/**\n * Convert to a plain javascript object (not JSON string) of scalar properties.\n * Note as this method is designed to return a useful non-this value,\n * it cannot be chained.\n *\n * @return {Object} describing method, url, and data of this request\n * @api public\n */\n\nRequestBase.prototype.toJSON = function() {\n  return {\n    method: this.method,\n    url: this.url,\n    data: this._data,\n    headers: this._header\n  };\n};\n\n/**\n * Send `data` as the request body, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"}')\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n *      request.post('/user')\n *        .send('name=tobi')\n *        .send('species=ferret')\n *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\n// eslint-disable-next-line complexity\nRequestBase.prototype.send = function(data) {\n  const isObj = isObject(data);\n  let type = this._header['content-type'];\n\n  if (this._formData) {\n    throw new Error(\n      \".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()\"\n    );\n  }\n\n  if (isObj && !this._data) {\n    if (Array.isArray(data)) {\n      this._data = [];\n    } else if (!this._isHost(data)) {\n      this._data = {};\n    }\n  } else if (data && this._data && this._isHost(this._data)) {\n    throw new Error(\"Can't merge these send calls\");\n  }\n\n  // merge\n  if (isObj && isObject(this._data)) {\n    for (const key in data) {\n      if (Object.prototype.hasOwnProperty.call(data, key))\n        this._data[key] = data[key];\n    }\n  } else if (typeof data === 'string') {\n    // default to x-www-form-urlencoded\n    if (!type) this.type('form');\n    type = this._header['content-type'];\n    if (type === 'application/x-www-form-urlencoded') {\n      this._data = this._data ? `${this._data}&${data}` : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!isObj || this._isHost(data)) {\n    return this;\n  }\n\n  // default to json\n  if (!type) this.type('json');\n  return this;\n};\n\n/**\n * Sort `querystring` by the sort function\n *\n *\n * Examples:\n *\n *       // default order\n *       request.get('/user')\n *         .query('name=Nick')\n *         .query('search=Manny')\n *         .sortQuery()\n *         .end(callback)\n *\n *       // customized sort function\n *       request.get('/user')\n *         .query('name=Nick')\n *         .query('search=Manny')\n *         .sortQuery(function(a, b){\n *           return a.length - b.length;\n *         })\n *         .end(callback)\n *\n *\n * @param {Function} sort\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.sortQuery = function(sort) {\n  // _sort default to true but otherwise can be a function or boolean\n  this._sort = typeof sort === 'undefined' ? true : sort;\n  return this;\n};\n\n/**\n * Compose querystring to append to req.url\n *\n * @api private\n */\nRequestBase.prototype._finalizeQueryString = function() {\n  const query = this._query.join('&');\n  if (query) {\n    this.url += (this.url.includes('?') ? '&' : '?') + query;\n  }\n\n  this._query.length = 0; // Makes the call idempotent\n\n  if (this._sort) {\n    const index = this.url.indexOf('?');\n    if (index >= 0) {\n      const queryArr = this.url.slice(index + 1).split('&');\n      if (typeof this._sort === 'function') {\n        queryArr.sort(this._sort);\n      } else {\n        queryArr.sort();\n      }\n\n      this.url = this.url.slice(0, index) + '?' + queryArr.join('&');\n    }\n  }\n};\n\n// For backwards compat only\nRequestBase.prototype._appendQueryString = () => {\n  console.warn('Unsupported');\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequestBase.prototype._timeoutError = function(reason, timeout, errno) {\n  if (this._aborted) {\n    return;\n  }\n\n  const err = new Error(`${reason + timeout}ms exceeded`);\n  err.timeout = timeout;\n  err.code = 'ECONNABORTED';\n  err.errno = errno;\n  this.timedout = true;\n  this.abort();\n  this.callback(err);\n};\n\nRequestBase.prototype._setTimeouts = function() {\n  const self = this;\n\n  // deadline\n  if (this._timeout && !this._timer) {\n    this._timer = setTimeout(() => {\n      self._timeoutError('Timeout of ', self._timeout, 'ETIME');\n    }, this._timeout);\n  }\n\n  // response timeout\n  if (this._responseTimeout && !this._responseTimeoutTimer) {\n    this._responseTimeoutTimer = setTimeout(() => {\n      self._timeoutError(\n        'Response timeout of ',\n        self._responseTimeout,\n        'ETIMEDOUT'\n      );\n    }, this._responseTimeout);\n  }\n};\n","/**\n * Module dependencies.\n */\n\nconst utils = require('./utils');\n\n/**\n * Expose `ResponseBase`.\n */\n\nmodule.exports = ResponseBase;\n\n/**\n * Initialize a new `ResponseBase`.\n *\n * @api public\n */\n\nfunction ResponseBase(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the prototype properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (const key in ResponseBase.prototype) {\n    if (Object.prototype.hasOwnProperty.call(ResponseBase.prototype, key))\n      obj[key] = ResponseBase.prototype[key];\n  }\n\n  return obj;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponseBase.prototype.get = function(field) {\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponseBase.prototype._setHeaderProperties = function(header) {\n  // TODO: moar!\n  // TODO: make this a util\n\n  // content-type\n  const ct = header['content-type'] || '';\n  this.type = utils.type(ct);\n\n  // params\n  const params = utils.params(ct);\n  for (const key in params) {\n    if (Object.prototype.hasOwnProperty.call(params, key))\n      this[key] = params[key];\n  }\n\n  this.links = {};\n\n  // links\n  try {\n    if (header.link) {\n      this.links = utils.parseLinks(header.link);\n    }\n  } catch {\n    // ignore\n  }\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponseBase.prototype._setStatusProperties = function(status) {\n  const type = (status / 100) | 0;\n\n  // status / class\n  this.statusCode = status;\n  this.status = this.statusCode;\n  this.statusType = type;\n\n  // basics\n  this.info = type === 1;\n  this.ok = type === 2;\n  this.redirect = type === 3;\n  this.clientError = type === 4;\n  this.serverError = type === 5;\n  this.error = type === 4 || type === 5 ? this.toError() : false;\n\n  // sugar\n  this.created = status === 201;\n  this.accepted = status === 202;\n  this.noContent = status === 204;\n  this.badRequest = status === 400;\n  this.unauthorized = status === 401;\n  this.notAcceptable = status === 406;\n  this.forbidden = status === 403;\n  this.notFound = status === 404;\n  this.unprocessableEntity = status === 422;\n};\n","/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.type = str => str.split(/ *; */).shift();\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.params = str =>\n  str.split(/ *; */).reduce((obj, str) => {\n    const parts = str.split(/ *= */);\n    const key = parts.shift();\n    const val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.parseLinks = str =>\n  str.split(/ *, */).reduce((obj, str) => {\n    const parts = str.split(/ *; */);\n    const url = parts[0].slice(1, -1);\n    const rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n    return obj;\n  }, {});\n\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\nexports.cleanHeader = (header, changesOrigin) => {\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header.host;\n  // secuirty\n  if (changesOrigin) {\n    delete header.authorization;\n    delete header.cookie;\n  }\n\n  return header;\n};\n","function Agent() {\n  this._defaults = [];\n}\n\n[\n  'use',\n  'on',\n  'once',\n  'set',\n  'query',\n  'type',\n  'accept',\n  'auth',\n  'withCredentials',\n  'sortQuery',\n  'retry',\n  'ok',\n  'redirects',\n  'timeout',\n  'buffer',\n  'serialize',\n  'parse',\n  'ca',\n  'key',\n  'pfx',\n  'cert',\n  'disableTLSCerts'\n].forEach(fn => {\n  // Default setting for all requests from this agent\n  Agent.prototype[fn] = function(...args) {\n    this._defaults.push({ fn, args });\n    return this;\n  };\n});\n\nAgent.prototype._setDefaults = function(req) {\n  this._defaults.forEach(def => {\n    req[def.fn](...def.args);\n  });\n};\n\nmodule.exports = Agent;\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {Part} from './part.js';\n\nconst directives = new WeakMap<object, true>();\n\n// tslint:disable-next-line:no-any\nexport type DirectiveFactory = (...args: any[]) => object;\n\nexport type DirectiveFn = (part: Part) => void;\n\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = <F extends DirectiveFactory>(f: F): F =>\n    ((...args: unknown[]) => {\n      const d = f(...args);\n      directives.set(d, true);\n      return d;\n    }) as F;\n\nexport const isDirective = (o: unknown): o is DirectiveFn => {\n  return typeof o === 'function' && directives.has(o);\n};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\ninterface MaybePolyfilledCe extends CustomElementRegistry {\n  readonly polyfillWrapFlushCallback?: object;\n}\n\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    (window.customElements as MaybePolyfilledCe).polyfillWrapFlushCallback !==\n        undefined;\n\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes =\n    (container: Node,\n     start: Node|null,\n     end: Node|null = null,\n     before: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.insertBefore(start!, before);\n        start = n;\n      }\n    };\n\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes =\n    (container: Node, start: Node|null, end: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.removeChild(start!);\n        start = n;\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\n/**\n * The Part interface represents a dynamic part of a template instance rendered\n * by lit-html.\n */\nexport interface Part {\n  readonly value: unknown;\n\n  /**\n   * Sets the current part value, but does not write it to the DOM.\n   * @param value The value that will be committed.\n   */\n  setValue(value: unknown): void;\n\n  /**\n   * Commits the current part value, causing it to actually be written to the\n   * DOM.\n   *\n   * Directives are run at the start of `commit`, so that if they call\n   * `part.setValue(...)` synchronously that value will be used in the current\n   * commit, and there's no need to call `part.commit()` within the directive.\n   * If directives set a part value asynchronously, then they must call\n   * `part.commit()` manually.\n   */\n  commit(): void;\n}\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {TemplateResult} from './template-result.js';\n\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\n\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n  readonly parts: TemplatePart[] = [];\n  readonly element: HTMLTemplateElement;\n\n  constructor(result: TemplateResult, element: HTMLTemplateElement) {\n    this.element = element;\n\n    const nodesToRemove: Node[] = [];\n    const stack: Node[] = [];\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        element.content,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    // Keeps track of the last index associated with a part. We try to delete\n    // unnecessary nodes, but we never want to associate two different parts\n    // to the same index. They must have a constant node between.\n    let lastPartIndex = 0;\n    let index = -1;\n    let partIndex = 0;\n    const {strings, values: {length}} = result;\n    while (partIndex < length) {\n      const node = walker.nextNode() as Element | Comment | Text | null;\n      if (node === null) {\n        // We've exhausted the content inside a nested template element.\n        // Because we still have parts (the outer for-loop), we know:\n        // - There is a template in the stack\n        // - The walker will find a nextNode outside the template\n        walker.currentNode = stack.pop()!;\n        continue;\n      }\n      index++;\n\n      if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n        if ((node as Element).hasAttributes()) {\n          const attributes = (node as Element).attributes;\n          const {length} = attributes;\n          // Per\n          // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n          // attributes are not guaranteed to be returned in document order.\n          // In particular, Edge/IE can return them out of order, so we cannot\n          // assume a correspondence between part index and attribute index.\n          let count = 0;\n          for (let i = 0; i < length; i++) {\n            if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n              count++;\n            }\n          }\n          while (count-- > 0) {\n            // Get the template literal section leading up to the first\n            // expression in this attribute\n            const stringForPart = strings[partIndex];\n            // Find the attribute name\n            const name = lastAttributeNameRegex.exec(stringForPart)![2];\n            // Find the corresponding attribute\n            // All bound attributes have had a suffix added in\n            // TemplateResult#getHTML to opt out of special attribute\n            // handling. To look up the attribute value we also need to add\n            // the suffix.\n            const attributeLookupName =\n                name.toLowerCase() + boundAttributeSuffix;\n            const attributeValue =\n                (node as Element).getAttribute(attributeLookupName)!;\n            (node as Element).removeAttribute(attributeLookupName);\n            const statics = attributeValue.split(markerRegex);\n            this.parts.push({type: 'attribute', index, name, strings: statics});\n            partIndex += statics.length - 1;\n          }\n        }\n        if ((node as Element).tagName === 'TEMPLATE') {\n          stack.push(node);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n      } else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n        const data = (node as Text).data;\n        if (data.indexOf(marker) >= 0) {\n          const parent = node.parentNode!;\n          const strings = data.split(markerRegex);\n          const lastIndex = strings.length - 1;\n          // Generate a new text node for each literal section\n          // These nodes are also used as the markers for node parts\n          for (let i = 0; i < lastIndex; i++) {\n            let insert: Node;\n            let s = strings[i];\n            if (s === '') {\n              insert = createMarker();\n            } else {\n              const match = lastAttributeNameRegex.exec(s);\n              if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                s = s.slice(0, match.index) + match[1] +\n                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n              }\n              insert = document.createTextNode(s);\n            }\n            parent.insertBefore(insert, node);\n            this.parts.push({type: 'node', index: ++index});\n          }\n          // If there's no text, we must insert a comment to mark our place.\n          // Else, we can trust it will stick around after cloning.\n          if (strings[lastIndex] === '') {\n            parent.insertBefore(createMarker(), node);\n            nodesToRemove.push(node);\n          } else {\n            (node as Text).data = strings[lastIndex];\n          }\n          // We have a part for each match found\n          partIndex += lastIndex;\n        }\n      } else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n        if ((node as Comment).data === marker) {\n          const parent = node.parentNode!;\n          // Add a new marker node to be the startNode of the Part if any of\n          // the following are true:\n          //  * We don't have a previousSibling\n          //  * The previousSibling is already the start of a previous part\n          if (node.previousSibling === null || index === lastPartIndex) {\n            index++;\n            parent.insertBefore(createMarker(), node);\n          }\n          lastPartIndex = index;\n          this.parts.push({type: 'node', index});\n          // If we don't have a nextSibling, keep this node so we have an end.\n          // Else, we can remove it to save future costs.\n          if (node.nextSibling === null) {\n            (node as Comment).data = '';\n          } else {\n            nodesToRemove.push(node);\n            index--;\n          }\n          partIndex++;\n        } else {\n          let i = -1;\n          while ((i = (node as Comment).data.indexOf(marker, i + 1)) !== -1) {\n            // Comment node has a binding marker inside, make an inactive part\n            // The binding won't work, but subsequent bindings will\n            // TODO (justinfagnani): consider whether it's even worth it to\n            // make bindings in comments work\n            this.parts.push({type: 'node', index: -1});\n            partIndex++;\n          }\n        }\n      }\n    }\n\n    // Remove text binding nodes after the walk to not disturb the TreeWalker\n    for (const n of nodesToRemove) {\n      n.parentNode!.removeChild(n);\n    }\n  }\n}\n\nconst endsWith = (str: string, suffix: string): boolean => {\n  const index = str.length - suffix.length;\n  return index >= 0 && str.slice(index) === suffix;\n};\n\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport type TemplatePart = {\n  readonly type: 'node',\n  index: number\n}|{readonly type: 'attribute', index: number, readonly name: string, readonly strings: ReadonlyArray<string>};\n\nexport const isTemplatePartActive = (part: TemplatePart) => part.index !== -1;\n\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex =\n    /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {isCEPolyfill} from './dom.js';\nimport {Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n  private readonly __parts: Array<Part|undefined> = [];\n  readonly processor: TemplateProcessor;\n  readonly options: RenderOptions;\n  readonly template: Template;\n\n  constructor(\n      template: Template, processor: TemplateProcessor,\n      options: RenderOptions) {\n    this.template = template;\n    this.processor = processor;\n    this.options = options;\n  }\n\n  update(values: ReadonlyArray<unknown>) {\n    let i = 0;\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.setValue(values[i]);\n      }\n      i++;\n    }\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.commit();\n      }\n    }\n  }\n\n  _clone(): DocumentFragment {\n    // There are a number of steps in the lifecycle of a template instance's\n    // DOM fragment:\n    //  1. Clone - create the instance fragment\n    //  2. Adopt - adopt into the main document\n    //  3. Process - find part markers and create parts\n    //  4. Upgrade - upgrade custom elements\n    //  5. Update - set node, attribute, property, etc., values\n    //  6. Connect - connect to the document. Optional and outside of this\n    //     method.\n    //\n    // We have a few constraints on the ordering of these steps:\n    //  * We need to upgrade before updating, so that property values will pass\n    //    through any property setters.\n    //  * We would like to process before upgrading so that we're sure that the\n    //    cloned fragment is inert and not disturbed by self-modifying DOM.\n    //  * We want custom elements to upgrade even in disconnected fragments.\n    //\n    // Given these constraints, with full custom elements support we would\n    // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n    //\n    // But Safari dooes not implement CustomElementRegistry#upgrade, so we\n    // can not implement that order and still have upgrade-before-update and\n    // upgrade disconnected fragments. So we instead sacrifice the\n    // process-before-upgrade constraint, since in Custom Elements v1 elements\n    // must not modify their light DOM in the constructor. We still have issues\n    // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n    // that don't strictly adhere to the no-modification rule because shadow\n    // DOM, which may be created in the constructor, is emulated by being placed\n    // in the light DOM.\n    //\n    // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n    // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n    // in one step.\n    //\n    // The Custom Elements v1 polyfill supports upgrade(), so the order when\n    // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n    // Connect.\n\n    const fragment = isCEPolyfill ?\n        this.template.element.content.cloneNode(true) as DocumentFragment :\n        document.importNode(this.template.element.content, true);\n\n    const stack: Node[] = [];\n    const parts = this.template.parts;\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        fragment,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    let partIndex = 0;\n    let nodeIndex = 0;\n    let part: TemplatePart;\n    let node = walker.nextNode();\n    // Loop through all the nodes and parts of a template\n    while (partIndex < parts.length) {\n      part = parts[partIndex];\n      if (!isTemplatePartActive(part)) {\n        this.__parts.push(undefined);\n        partIndex++;\n        continue;\n      }\n\n      // Progress the tree walker until we find our next part's node.\n      // Note that multiple parts may share the same node (attribute parts\n      // on a single element), so this loop may not run at all.\n      while (nodeIndex < part.index) {\n        nodeIndex++;\n        if (node!.nodeName === 'TEMPLATE') {\n          stack.push(node!);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n        if ((node = walker.nextNode()) === null) {\n          // We've exhausted the content inside a nested template element.\n          // Because we still have parts (the outer for-loop), we know:\n          // - There is a template in the stack\n          // - The walker will find a nextNode outside the template\n          walker.currentNode = stack.pop()!;\n          node = walker.nextNode();\n        }\n      }\n\n      // We've arrived at our part's node.\n      if (part.type === 'node') {\n        const part = this.processor.handleTextExpression(this.options);\n        part.insertAfterNode(node!.previousSibling!);\n        this.__parts.push(part);\n      } else {\n        this.__parts.push(...this.processor.handleAttributeExpressions(\n            node as Element, part.name, part.strings, this.options));\n      }\n      partIndex++;\n    }\n\n    if (isCEPolyfill) {\n      document.adoptNode(fragment);\n      customElements.upgrade(fragment);\n    }\n    return fragment;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {reparentNodes} from './dom.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker} from './template.js';\n\nconst commentMarker = ` ${marker} `;\n\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n  readonly strings: TemplateStringsArray;\n  readonly values: ReadonlyArray<unknown>;\n  readonly type: string;\n  readonly processor: TemplateProcessor;\n\n  constructor(\n      strings: TemplateStringsArray, values: ReadonlyArray<unknown>,\n      type: string, processor: TemplateProcessor) {\n    this.strings = strings;\n    this.values = values;\n    this.type = type;\n    this.processor = processor;\n  }\n\n  /**\n   * Returns a string of HTML used to create a `<template>` element.\n   */\n  getHTML(): string {\n    const l = this.strings.length - 1;\n    let html = '';\n    let isCommentBinding = false;\n\n    for (let i = 0; i < l; i++) {\n      const s = this.strings[i];\n      // For each binding we want to determine the kind of marker to insert\n      // into the template source before it's parsed by the browser's HTML\n      // parser. The marker type is based on whether the expression is in an\n      // attribute, text, or comment poisition.\n      //   * For node-position bindings we insert a comment with the marker\n      //     sentinel as its text content, like <!--{{lit-guid}}-->.\n      //   * For attribute bindings we insert just the marker sentinel for the\n      //     first binding, so that we support unquoted attribute bindings.\n      //     Subsequent bindings can use a comment marker because multi-binding\n      //     attributes must be quoted.\n      //   * For comment bindings we insert just the marker sentinel so we don't\n      //     close the comment.\n      //\n      // The following code scans the template source, but is *not* an HTML\n      // parser. We don't need to track the tree structure of the HTML, only\n      // whether a binding is inside a comment, and if not, if it appears to be\n      // the first binding in an attribute.\n      const commentOpen = s.lastIndexOf('<!--');\n      // We're in comment position if we have a comment open with no following\n      // comment close. Because <-- can appear in an attribute value there can\n      // be false positives.\n      isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n          s.indexOf('-->', commentOpen + 1) === -1;\n      // Check to see if we have an attribute-like sequence preceeding the\n      // expression. This can match \"name=value\" like structures in text,\n      // comments, and attribute values, so there can be false-positives.\n      const attributeMatch = lastAttributeNameRegex.exec(s);\n      if (attributeMatch === null) {\n        // We're only in this branch if we don't have a attribute-like\n        // preceeding sequence. For comments, this guards against unusual\n        // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n        // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n        // below.\n        html += s + (isCommentBinding ? commentMarker : nodeMarker);\n      } else {\n        // For attributes we use just a marker sentinel, and also append a\n        // $lit$ suffix to the name to opt-out of attribute-specific parsing\n        // that IE and Edge do for style and certain SVG attributes.\n        html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n            attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n            marker;\n      }\n    }\n    html += this.strings[l];\n    return html;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = document.createElement('template');\n    template.innerHTML = this.getHTML();\n    return template;\n  }\n}\n\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n  getHTML(): string {\n    return `<svg>${super.getHTML()}</svg>`;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = super.getTemplateElement();\n    const content = template.content;\n    const svgElement = content.firstChild!;\n    content.removeChild(svgElement);\n    reparentNodes(content, svgElement.firstChild);\n    return template;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {isDirective} from './directive.js';\nimport {removeNodes} from './dom.js';\nimport {noChange, nothing, Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {createMarker} from './template.js';\n\n// https://tc39.github.io/ecma262/#sec-typeof-operator\nexport type Primitive = null|undefined|boolean|number|string|Symbol|bigint;\nexport const isPrimitive = (value: unknown): value is Primitive => {\n  return (\n      value === null ||\n      !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value: unknown): value is Iterable<unknown> => {\n  return Array.isArray(value) ||\n      // tslint:disable-next-line:no-any\n      !!(value && (value as any)[Symbol.iterator]);\n};\n\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attibute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n  readonly parts: ReadonlyArray<AttributePart>;\n  dirty = true;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n    this.parts = [];\n    for (let i = 0; i < strings.length - 1; i++) {\n      (this.parts as AttributePart[])[i] = this._createPart();\n    }\n  }\n\n  /**\n   * Creates a single part. Override this to create a differnt type of part.\n   */\n  protected _createPart(): AttributePart {\n    return new AttributePart(this);\n  }\n\n  protected _getValue(): unknown {\n    const strings = this.strings;\n    const l = strings.length - 1;\n    let text = '';\n\n    for (let i = 0; i < l; i++) {\n      text += strings[i];\n      const part = this.parts[i];\n      if (part !== undefined) {\n        const v = part.value;\n        if (isPrimitive(v) || !isIterable(v)) {\n          text += typeof v === 'string' ? v : String(v);\n        } else {\n          for (const t of v) {\n            text += typeof t === 'string' ? t : String(t);\n          }\n        }\n      }\n    }\n\n    text += strings[l];\n    return text;\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      this.element.setAttribute(this.name, this._getValue() as string);\n    }\n  }\n}\n\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart implements Part {\n  readonly committer: AttributeCommitter;\n  value: unknown = undefined;\n\n  constructor(committer: AttributeCommitter) {\n    this.committer = committer;\n  }\n\n  setValue(value: unknown): void {\n    if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n      this.value = value;\n      // If the value is a not a directive, dirty the committer so that it'll\n      // call setAttribute. If the value is a directive, it'll dirty the\n      // committer if it calls setValue().\n      if (!isDirective(value)) {\n        this.committer.dirty = true;\n      }\n    }\n  }\n\n  commit() {\n    while (isDirective(this.value)) {\n      const directive = this.value;\n      this.value = noChange;\n      directive(this);\n    }\n    if (this.value === noChange) {\n      return;\n    }\n    this.committer.commit();\n  }\n}\n\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart implements Part {\n  readonly options: RenderOptions;\n  startNode!: Node;\n  endNode!: Node;\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(options: RenderOptions) {\n    this.options = options;\n  }\n\n  /**\n   * Appends this part into a container.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendInto(container: Node) {\n    this.startNode = container.appendChild(createMarker());\n    this.endNode = container.appendChild(createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n   * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n   * such as those that appear in a literal section of a template.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterNode(ref: Node) {\n    this.startNode = ref;\n    this.endNode = ref.nextSibling!;\n  }\n\n  /**\n   * Appends this part into a parent part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendIntoPart(part: NodePart) {\n    part.__insert(this.startNode = createMarker());\n    part.__insert(this.endNode = createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterPart(ref: NodePart) {\n    ref.__insert(this.startNode = createMarker());\n    this.endNode = ref.endNode;\n    ref.endNode = this.startNode;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    const value = this.__pendingValue;\n    if (value === noChange) {\n      return;\n    }\n    if (isPrimitive(value)) {\n      if (value !== this.value) {\n        this.__commitText(value);\n      }\n    } else if (value instanceof TemplateResult) {\n      this.__commitTemplateResult(value);\n    } else if (value instanceof Node) {\n      this.__commitNode(value);\n    } else if (isIterable(value)) {\n      this.__commitIterable(value);\n    } else if (value === nothing) {\n      this.value = nothing;\n      this.clear();\n    } else {\n      // Fallback, will render the string representation\n      this.__commitText(value);\n    }\n  }\n\n  private __insert(node: Node) {\n    this.endNode.parentNode!.insertBefore(node, this.endNode);\n  }\n\n  private __commitNode(value: Node): void {\n    if (this.value === value) {\n      return;\n    }\n    this.clear();\n    this.__insert(value);\n    this.value = value;\n  }\n\n  private __commitText(value: unknown): void {\n    const node = this.startNode.nextSibling!;\n    value = value == null ? '' : value;\n    // If `value` isn't already a string, we explicitly convert it here in case\n    // it can't be implicitly converted - i.e. it's a symbol.\n    const valueAsString: string =\n        typeof value === 'string' ? value : String(value);\n    if (node === this.endNode.previousSibling &&\n        node.nodeType === 3 /* Node.TEXT_NODE */) {\n      // If we only have a single text node between the markers, we can just\n      // set its value, rather than replacing it.\n      // TODO(justinfagnani): Can we just check if this.value is primitive?\n      (node as Text).data = valueAsString;\n    } else {\n      this.__commitNode(document.createTextNode(valueAsString));\n    }\n    this.value = value;\n  }\n\n  private __commitTemplateResult(value: TemplateResult): void {\n    const template = this.options.templateFactory(value);\n    if (this.value instanceof TemplateInstance &&\n        this.value.template === template) {\n      this.value.update(value.values);\n    } else {\n      // Make sure we propagate the template processor from the TemplateResult\n      // so that we use its syntax extension, etc. The template factory comes\n      // from the render function options so that it can control template\n      // caching and preprocessing.\n      const instance =\n          new TemplateInstance(template, value.processor, this.options);\n      const fragment = instance._clone();\n      instance.update(value.values);\n      this.__commitNode(fragment);\n      this.value = instance;\n    }\n  }\n\n  private __commitIterable(value: Iterable<unknown>): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If _value is an array, then the previous render was of an\n    // iterable and _value will contain the NodeParts from the previous\n    // render. If _value is not an array, clear this part and make a new\n    // array for NodeParts.\n    if (!Array.isArray(this.value)) {\n      this.value = [];\n      this.clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this.value as NodePart[];\n    let partIndex = 0;\n    let itemPart: NodePart|undefined;\n\n    for (const item of value) {\n      // Try to reuse an existing part\n      itemPart = itemParts[partIndex];\n\n      // If no existing part, create a new one\n      if (itemPart === undefined) {\n        itemPart = new NodePart(this.options);\n        itemParts.push(itemPart);\n        if (partIndex === 0) {\n          itemPart.appendIntoPart(this);\n        } else {\n          itemPart.insertAfterPart(itemParts[partIndex - 1]);\n        }\n      }\n      itemPart.setValue(item);\n      itemPart.commit();\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n      this.clear(itemPart && itemPart.endNode);\n    }\n  }\n\n  clear(startNode: Node = this.startNode) {\n    removeNodes(\n        this.startNode.parentNode!, startNode.nextSibling!, this.endNode);\n  }\n}\n\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart implements Part {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n      throw new Error(\n          'Boolean attributes can only contain a single expression');\n    }\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n    const value = !!this.__pendingValue;\n    if (this.value !== value) {\n      if (value) {\n        this.element.setAttribute(this.name, '');\n      } else {\n        this.element.removeAttribute(this.name);\n      }\n      this.value = value;\n    }\n    this.__pendingValue = noChange;\n  }\n}\n\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n  readonly single: boolean;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    super(element, name, strings);\n    this.single =\n        (strings.length === 2 && strings[0] === '' && strings[1] === '');\n  }\n\n  protected _createPart(): PropertyPart {\n    return new PropertyPart(this);\n  }\n\n  protected _getValue() {\n    if (this.single) {\n      return this.parts[0].value;\n    }\n    return super._getValue();\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      // tslint:disable-next-line:no-any\n      (this.element as any)[this.name] = this._getValue();\n    }\n  }\n}\n\nexport class PropertyPart extends AttributePart {}\n\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n\ntry {\n  const options = {\n    get capture() {\n      eventOptionsSupported = true;\n      return false;\n    }\n  };\n  // tslint:disable-next-line:no-any\n  window.addEventListener('test', options as any, options);\n  // tslint:disable-next-line:no-any\n  window.removeEventListener('test', options as any, options);\n} catch (_e) {\n}\n\n\ntype EventHandlerWithOptions =\n    EventListenerOrEventListenerObject&Partial<AddEventListenerOptions>;\nexport class EventPart implements Part {\n  readonly element: Element;\n  readonly eventName: string;\n  readonly eventContext?: EventTarget;\n  value: undefined|EventHandlerWithOptions = undefined;\n  private __options?: AddEventListenerOptions;\n  private __pendingValue: undefined|EventHandlerWithOptions = undefined;\n  private readonly __boundHandleEvent: (event: Event) => void;\n\n  constructor(element: Element, eventName: string, eventContext?: EventTarget) {\n    this.element = element;\n    this.eventName = eventName;\n    this.eventContext = eventContext;\n    this.__boundHandleEvent = (e) => this.handleEvent(e);\n  }\n\n  setValue(value: undefined|EventHandlerWithOptions): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange as EventHandlerWithOptions;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n\n    const newListener = this.__pendingValue;\n    const oldListener = this.value;\n    const shouldRemoveListener = newListener == null ||\n        oldListener != null &&\n            (newListener.capture !== oldListener.capture ||\n             newListener.once !== oldListener.once ||\n             newListener.passive !== oldListener.passive);\n    const shouldAddListener =\n        newListener != null && (oldListener == null || shouldRemoveListener);\n\n    if (shouldRemoveListener) {\n      this.element.removeEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    if (shouldAddListener) {\n      this.__options = getOptions(newListener);\n      this.element.addEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    this.value = newListener;\n    this.__pendingValue = noChange as EventHandlerWithOptions;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this.value === 'function') {\n      this.value.call(this.eventContext || this.element, event);\n    } else {\n      (this.value as EventListenerObject).handleEvent(event);\n    }\n  }\n}\n\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o: AddEventListenerOptions|undefined) => o &&\n    (eventOptionsSupported ?\n         {capture: o.capture, passive: o.passive, once: o.once} :\n         o.capture as AddEventListenerOptions);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {Part} from './part.js';\nimport {AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\n\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor implements TemplateProcessor {\n  /**\n   * Create parts for an attribute-position binding, given the event, attribute\n   * name, and string literals.\n   *\n   * @param element The element containing the binding\n   * @param name  The attribute name\n   * @param strings The string literals. There are always at least two strings,\n   *   event for fully-controlled bindings with a single expression.\n   */\n  handleAttributeExpressions(\n      element: Element, name: string, strings: string[],\n      options: RenderOptions): ReadonlyArray<Part> {\n    const prefix = name[0];\n    if (prefix === '.') {\n      const committer = new PropertyCommitter(element, name.slice(1), strings);\n      return committer.parts;\n    }\n    if (prefix === '@') {\n      return [new EventPart(element, name.slice(1), options.eventContext)];\n    }\n    if (prefix === '?') {\n      return [new BooleanAttributePart(element, name.slice(1), strings)];\n    }\n    const committer = new AttributeCommitter(element, name, strings);\n    return committer.parts;\n  }\n  /**\n   * Create parts for a text-position binding.\n   * @param templateFactory\n   */\n  handleTextExpression(options: RenderOptions) {\n    return new NodePart(options);\n  }\n}\n\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\n/**\n * A function type that creates a Template from a TemplateResult.\n *\n * This is a hook into the template-creation process for rendering that\n * requires some modification of templates before they're used, like ShadyCSS,\n * which must add classes to elements and remove styles.\n *\n * Templates should be cached as aggressively as possible, so that many\n * TemplateResults produced from the same expression only do the work of\n * creating the Template the first time.\n *\n * Templates are usually cached by TemplateResult.strings and\n * TemplateResult.type, but may be cached by other keys if this function\n * modifies the template.\n *\n * Note that currently TemplateFactories must not add, remove, or reorder\n * expressions, because there is no way to describe such a modification\n * to render() so that values are interpolated to the correct place in the\n * template instances.\n */\nexport type TemplateFactory = (result: TemplateResult) => Template;\n\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result: TemplateResult) {\n  let templateCache = templateCaches.get(result.type);\n  if (templateCache === undefined) {\n    templateCache = {\n      stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n      keyString: new Map<string, Template>()\n    };\n    templateCaches.set(result.type, templateCache);\n  }\n\n  let template = templateCache.stringsArray.get(result.strings);\n  if (template !== undefined) {\n    return template;\n  }\n\n  // If the TemplateStringsArray is new, generate a key from the strings\n  // This key is shared between all templates with identical content\n  const key = result.strings.join(marker);\n\n  // Check if we already have a Template for this key\n  template = templateCache.keyString.get(key);\n  if (template === undefined) {\n    // If we have not seen this key before, create a new Template\n    template = new Template(result, result.getTemplateElement());\n    // Cache the Template for this key\n    templateCache.keyString.set(key, template);\n  }\n\n  // Cache all future queries for this TemplateStringsArray\n  templateCache.stringsArray.set(result.strings, template);\n  return template;\n}\n\n/**\n * The first argument to JS template tags retain identity across multiple\n * calls to a tag for the same literal, so we can cache work done per literal\n * in a Map.\n *\n * Safari currently has a bug which occasionally breaks this behaviour, so we\n * need to cache the Template at two levels. We first cache the\n * TemplateStringsArray, and if that fails, we cache a key constructed by\n * joining the strings array.\n */\nexport type templateCache = {\n  readonly stringsArray: WeakMap<TemplateStringsArray, Template>; //\n  readonly keyString: Map<string, Template>;\n};\n\nexport const templateCaches = new Map<string, templateCache>();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {removeNodes} from './dom.js';\nimport {NodePart} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {templateFactory} from './template-factory.js';\n\nexport const parts = new WeakMap<Node, NodePart>();\n\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render =\n    (result: unknown,\n     container: Element|DocumentFragment,\n     options?: Partial<RenderOptions>) => {\n      let part = parts.get(container);\n      if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart({\n                               templateFactory,\n                               ...options,\n                             }));\n        part.appendInto(container);\n      }\n      part.setValue(result);\n      part.commit();\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {defaultTemplateProcessor} from './lib/default-template-processor.js';\nimport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\n\nexport {DefaultTemplateProcessor, defaultTemplateProcessor} from './lib/default-template-processor.js';\nexport {directive, DirectiveFn, isDirective} from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport {removeNodes, reparentNodes} from './lib/dom.js';\nexport {noChange, nothing, Part} from './lib/part.js';\nexport {AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart} from './lib/parts.js';\nexport {RenderOptions} from './lib/render-options.js';\nexport {parts, render} from './lib/render.js';\nexport {templateCaches, templateFactory} from './lib/template-factory.js';\nexport {TemplateInstance} from './lib/template-instance.js';\nexport {TemplateProcessor} from './lib/template-processor.js';\nexport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\nexport {createMarker, isTemplatePartActive, Template} from './lib/template.js';\n\ndeclare global {\n  interface Window {\n    litHtmlVersions: string[];\n  }\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.1.2');\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n","import { observable, action, computed } from 'mobx'\r\nimport agent from '../agent'\r\n\r\nconst LIMIT = 10\r\n\r\nexport class ArticlesStore {\r\n  @observable isLoading = false\r\n  @observable page = 0\r\n  @observable totalPagesCount = 0\r\n  @observable articlesRegistry = observable.map()\r\n  @observable predicate = {}\r\n\r\n  @computed get articles() {\r\n    return Array.from(this.articlesRegistry.values())\r\n  }\r\n\r\n  clear() {\r\n    this.articlesRegistry.clear()\r\n    this.page = 0\r\n  }\r\n\r\n  getArticle(slug) {\r\n    return this.articlesRegistry.get(slug)\r\n  }\r\n\r\n  @action setPage(page) {\r\n    this.page = page\r\n  }\r\n\r\n  @action setPredicate(predicate) {\r\n    if (JSON.stringify(predicate) === JSON.stringify(this.predicate)) return\r\n    this.clear()\r\n    this.predicate = predicate\r\n  }\r\n\r\n  $req() {\r\n    if (this.predicate.myFeed) return agent.Articles.feed(this.page, LIMIT)\r\n    if (this.predicate.favoritedBy)\r\n      return agent.Articles.favoritedBy(\r\n        this.predicate.favoritedBy,\r\n        this.page,\r\n        LIMIT\r\n      )\r\n    if (this.predicate.tag)\r\n      return agent.Articles.byTag(this.predicate.tag, this.page, LIMIT)\r\n    if (this.predicate.author)\r\n      return agent.Articles.byAuthor(this.predicate.author, this.page, LIMIT)\r\n    return agent.Articles.all(this.page, LIMIT, this.predicate)\r\n  }\r\n\r\n  @action loadArticles() {\r\n    this.isLoading = true\r\n    return this.$req()\r\n      .then(\r\n        action('updateArticlesRegistry', ({ articles, articlesCount }) => {\r\n          this.articlesRegistry.clear()\r\n          articles.forEach(article =>\r\n            this.articlesRegistry.set(article.slug, article)\r\n          )\r\n          this.totalPagesCount = Math.ceil(articlesCount / LIMIT)\r\n        })\r\n      )\r\n      .finally(\r\n        action('endLoadingArticles', () => {\r\n          this.isLoading = false\r\n        })\r\n      )\r\n  }\r\n\r\n  @action loadArticle(slug, { acceptCached = false } = {}) {\r\n    if (acceptCached) {\r\n      const article = this.getArticle(slug)\r\n      if (article) return Promise.resolve(article)\r\n    }\r\n    this.isLoading = true\r\n    return agent.Articles.get(slug)\r\n      .then(\r\n        action(({ article }) => {\r\n          this.articlesRegistry.set(article.slug, article)\r\n          return article\r\n        })\r\n      )\r\n      .finally(\r\n        action(() => {\r\n          this.isLoading = false\r\n        })\r\n      )\r\n  }\r\n\r\n  @action makeFavorite(slug) {\r\n    const article = this.getArticle(slug)\r\n    if (article && !article.favorited) {\r\n      article.favorited = true\r\n      article.favoritesCount++\r\n      return agent.Articles.favorite(slug).catch(\r\n        action(err => {\r\n          article.favorited = false\r\n          article.favoritesCount--\r\n          throw err\r\n        })\r\n      )\r\n    }\r\n    return Promise.resolve()\r\n  }\r\n\r\n  @action unmakeFavorite(slug) {\r\n    const article = this.getArticle(slug)\r\n    if (article && article.favorited) {\r\n      article.favorited = false\r\n      article.favoritesCount--\r\n      return agent.Articles.unfavorite(slug).catch(\r\n        action(err => {\r\n          article.favorited = true\r\n          article.favoritesCount++\r\n          throw err\r\n        })\r\n      )\r\n    }\r\n    return Promise.resolve()\r\n  }\r\n\r\n  @action createArticle(article) {\r\n    return agent.Articles.create(article).then(({ article }) => {\r\n      this.articlesRegistry.set(article.slug, article)\r\n      return article\r\n    })\r\n  }\r\n\r\n  @action updateArticle(data) {\r\n    return agent.Articles.update(data).then(({ article }) => {\r\n      this.articlesRegistry.set(article.slug, article)\r\n      return article\r\n    })\r\n  }\r\n\r\n  @action deleteArticle(slug) {\r\n    this.articlesRegistry.delete(slug)\r\n    return agent.Articles.del(slug).catch(\r\n      action(err => {\r\n        this.loadArticles()\r\n        throw err\r\n      })\r\n    )\r\n  }\r\n}\r\n\r\nexport default ArticlesStore\r\n","import { observable, action } from 'mobx'\r\nimport agent from '../agent'\r\n\r\nexport class CommentsStore {\r\n  @observable isCreatingComment = false\r\n  @observable isLoadingComments = false\r\n  @observable commentErrors = undefined\r\n  @observable articleSlug = undefined\r\n  @observable comments = []\r\n\r\n  @action setArticleSlug(articleSlug) {\r\n    if (this.articleSlug !== articleSlug) {\r\n      this.comments = []\r\n      this.articleSlug = articleSlug\r\n    }\r\n  }\r\n\r\n  @action loadComments() {\r\n    this.isLoadingComments = true\r\n    this.commentErrors = undefined\r\n    return agent.Comments.forArticle(this.articleSlug)\r\n      .then(\r\n        action(({ comments }) => {\r\n          this.comments = comments\r\n        })\r\n      )\r\n      .catch(\r\n        action(err => {\r\n          this.commentErrors =\r\n            err.response && err.response.body && err.response.body.errors\r\n          throw err\r\n        })\r\n      )\r\n      .finally(\r\n        action(() => {\r\n          this.isLoadingComments = false\r\n        })\r\n      )\r\n  }\r\n\r\n  @action createComment(comment) {\r\n    this.isCreatingComment = true\r\n    return agent.Comments.create(this.articleSlug, comment)\r\n      .then(() => this.loadComments())\r\n      .finally(\r\n        action(() => {\r\n          this.isCreatingComment = false\r\n        })\r\n      )\r\n  }\r\n\r\n  @action deleteComment(id) {\r\n    const idx = this.comments.findIndex(c => c.id === id)\r\n    if (idx > -1) this.comments.splice(idx, 1)\r\n    return agent.Comments.delete(this.articleSlug, id).catch(\r\n      action(err => {\r\n        this.loadComments()\r\n        throw err\r\n      })\r\n    )\r\n  }\r\n}\r\n\r\nexport default CommentsStore\r\n","import { observable, action } from 'mobx'\r\nimport agent from '../agent'\r\n\r\nclass AuthStore {\r\n  constructor(rootStore) {\r\n    this.rootStore = rootStore\r\n  }\r\n\r\n  @observable inProgress = false\r\n  @observable errors = undefined\r\n\r\n  @observable values = {\r\n    username: '',\r\n    email: '',\r\n    password: ''\r\n  }\r\n\r\n  @action setUsername(username) {\r\n    this.values.username = username\r\n  }\r\n\r\n  @action setEmail(email) {\r\n    this.values.email = email\r\n  }\r\n\r\n  @action setPassword(password) {\r\n    this.values.password = password\r\n  }\r\n\r\n  @action reset() {\r\n    this.values.username = ''\r\n    this.values.email = ''\r\n    this.values.password = ''\r\n  }\r\n\r\n  @action login() {\r\n    this.inProgress = true\r\n    this.errors = undefined\r\n    return agent.Auth.login(this.values.email, this.values.password)\r\n      .then(({ user }) => this.rootStore.commonStore.setToken(user.token))\r\n      .then(() => this.rootStore.userStore.pullUser())\r\n      .catch(\r\n        action(err => {\r\n          this.errors =\r\n            err.response && err.response.body && err.response.body.errors\r\n          throw err\r\n        })\r\n      )\r\n      .finally(\r\n        action(() => {\r\n          this.inProgress = false\r\n        })\r\n      )\r\n  }\r\n\r\n  @action register() {\r\n    this.inProgress = true\r\n    this.errors = undefined\r\n    return agent.Auth.register(\r\n      this.values.username,\r\n      this.values.email,\r\n      this.values.password\r\n    )\r\n      .then(({ user }) => this.rootStore.commonStore.setToken(user.token))\r\n      .then(() => this.rootStore.userStore.pullUser())\r\n      .catch(\r\n        action(err => {\r\n          this.errors =\r\n            err.response && err.response.body && err.response.body.errors\r\n          throw err\r\n        })\r\n      )\r\n      .finally(\r\n        action(() => {\r\n          this.inProgress = false\r\n        })\r\n      )\r\n  }\r\n\r\n  @action logout() {\r\n    this.rootStore.commonStore.setToken(undefined)\r\n    this.rootStore.userStore.forgetUser()\r\n    return Promise.resolve()\r\n  }\r\n}\r\n\r\nexport default AuthStore\r\n","import { observable, action, reaction } from 'mobx'\r\nimport agent from '../agent'\r\n\r\nclass CommonStore {\r\n  @observable appName = 'Conduit'\r\n  @observable token = window.localStorage.getItem('jwt')\r\n  @observable appLoaded = false\r\n\r\n  @observable tags = []\r\n  @observable isLoadingTags = false\r\n\r\n  constructor() {\r\n    reaction(\r\n      () => this.token,\r\n      token => {\r\n        if (token) {\r\n          window.localStorage.setItem('jwt', token)\r\n        } else {\r\n          window.localStorage.removeItem('jwt')\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  @action loadTags() {\r\n    this.isLoadingTags = true\r\n    return agent.Tags.getAll()\r\n      .then(\r\n        action('updateTags', ({ tags }) => {\r\n          this.tags = tags.map(t => t.toLowerCase())\r\n        })\r\n      )\r\n      .finally(\r\n        action('endLoadingTags', () => {\r\n          this.isLoadingTags = false\r\n        })\r\n      )\r\n  }\r\n\r\n  @action setToken(token) {\r\n    this.token = token\r\n  }\r\n\r\n  @action setAppLoaded() {\r\n    this.appLoaded = true\r\n  }\r\n}\r\n\r\nexport default CommonStore\r\n","import { observable, action } from 'mobx'\r\n\r\nclass EditorStore {\r\n  constructor(rootStore) {\r\n    this.rootStore = rootStore\r\n  }\r\n\r\n  @observable inProgress = false\r\n  @observable errors = undefined\r\n  @observable articleSlug = undefined\r\n\r\n  @observable title = ''\r\n  @observable description = ''\r\n  @observable body = ''\r\n  @observable tagList = []\r\n\r\n  @action setArticleSlug(articleSlug) {\r\n    if (this.articleSlug !== articleSlug) {\r\n      this.reset()\r\n      this.articleSlug = articleSlug\r\n    }\r\n  }\r\n\r\n  @action loadInitialData() {\r\n    if (!this.articleSlug) return Promise.resolve()\r\n    this.inProgress = true\r\n    return this.rootStore.articlesStore\r\n      .loadArticle(this.articleSlug, { acceptCached: true })\r\n      .then(\r\n        action(article => {\r\n          if (!article) throw new Error(\"Can't load original article\")\r\n          this.title = article.title\r\n          this.description = article.description\r\n          this.body = article.body\r\n          this.tagList = article.tagList\r\n        })\r\n      )\r\n      .finally(\r\n        action(() => {\r\n          this.inProgress = false\r\n        })\r\n      )\r\n  }\r\n\r\n  @action reset() {\r\n    this.title = ''\r\n    this.description = ''\r\n    this.body = ''\r\n    this.tagList = []\r\n  }\r\n\r\n  @action setTitle(title) {\r\n    this.title = title\r\n  }\r\n\r\n  @action setDescription(description) {\r\n    this.description = description\r\n  }\r\n\r\n  @action setBody(body) {\r\n    this.body = body\r\n  }\r\n\r\n  @action addTag(tag) {\r\n    if (this.tagList.includes(tag)) return\r\n    this.tagList.push(tag)\r\n  }\r\n\r\n  @action removeTag(tag) {\r\n    this.tagList = this.tagList.filter(t => t !== tag)\r\n  }\r\n\r\n  @action submit() {\r\n    this.inProgress = true\r\n    this.errors = undefined\r\n    const article = {\r\n      title: this.title,\r\n      description: this.description,\r\n      body: this.body,\r\n      tagList: this.tagList,\r\n      slug: this.articleSlug\r\n    }\r\n    return (this.articleSlug\r\n      ? this.rootStore.articlesStore.updateArticle(article)\r\n      : this.rootStore.articlesStore.createArticle(article)\r\n    )\r\n      .catch(\r\n        action(err => {\r\n          this.errors =\r\n            err.response && err.response.body && err.response.body.errors\r\n          throw err\r\n        })\r\n      )\r\n      .finally(\r\n        action(() => {\r\n          this.inProgress = false\r\n        })\r\n      )\r\n  }\r\n}\r\n\r\nexport default EditorStore\r\n","import { observable, action } from 'mobx'\r\nimport agent from '../agent'\r\n\r\nclass UserStore {\r\n  @observable currentUser\r\n  @observable loadingUser\r\n  @observable updatingUser\r\n  @observable updatingUserErrors\r\n\r\n  @action pullUser() {\r\n    this.loadingUser = true\r\n    return agent.Auth.current()\r\n      .then(\r\n        action(({ user }) => {\r\n          this.currentUser = user\r\n        })\r\n      )\r\n      .finally(\r\n        action(() => {\r\n          this.loadingUser = false\r\n        })\r\n      )\r\n  }\r\n\r\n  @action updateUser(newUser) {\r\n    this.updatingUser = true\r\n    return agent.Auth.save(newUser)\r\n      .then(\r\n        action(({ user }) => {\r\n          this.currentUser = user\r\n        })\r\n      )\r\n      .finally(\r\n        action(() => {\r\n          this.updatingUser = false\r\n        })\r\n      )\r\n  }\r\n\r\n  @action forgetUser() {\r\n    this.currentUser = undefined\r\n  }\r\n}\r\n\r\nexport default UserStore\r\n","import { observable, action } from 'mobx'\r\nimport agent from '../agent'\r\n\r\nclass ProfileStore {\r\n  @observable profile = undefined\r\n  @observable isLoadingProfile = false\r\n\r\n  @action loadProfile(username) {\r\n    this.isLoadingProfile = true\r\n    agent.Profile.get(username)\r\n      .then(\r\n        action('updateProfile', ({ profile }) => {\r\n          this.profile = profile\r\n        })\r\n      )\r\n      .finally(\r\n        action('endLoadingProfile', () => {\r\n          this.isLoadingProfile = false\r\n        })\r\n      )\r\n  }\r\n\r\n  @action follow() {\r\n    if (this.profile && !this.profile.following) {\r\n      this.profile.following = true\r\n      agent.Profile.follow(this.profile.username).catch(\r\n        action(() => {\r\n          this.profile.following = false\r\n        })\r\n      )\r\n    }\r\n  }\r\n\r\n  @action unfollow() {\r\n    if (this.profile && this.profile.following) {\r\n      this.profile.following = false\r\n      agent.Profile.unfollow(this.profile.username).catch(\r\n        action(() => {\r\n          this.profile.following = true\r\n        })\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default ProfileStore\r\n","import ArticlesStore from './articlesStore'\r\nimport CommentsStore from './commentsStore'\r\nimport AuthStore from './authStore'\r\nimport CommonStore from './commonStore'\r\nimport EditorStore from './editorStore'\r\nimport UserStore from './userStore'\r\nimport ProfileStore from './profileStore'\r\n\r\nclass RootStore {\r\n  constructor() {\r\n    this.articlesStore = new ArticlesStore()\r\n    this.commentsStore = new CommentsStore()\r\n    this.authStore = new AuthStore(this)\r\n    this.commonStore = new CommonStore()\r\n    this.editorStore = new EditorStore(this)\r\n    this.userStore = new UserStore()\r\n    this.profileStore = new ProfileStore()\r\n  }\r\n}\r\n\r\nexport default RootStore\r\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module shady-render\n */\n\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(\n    template: Template, nodesToRemove: Set<Node>) {\n  const {element: {content}, parts} = template;\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let part = parts[partIndex];\n  let nodeIndex = -1;\n  let removeCount = 0;\n  const nodesToRemoveInTemplate = [];\n  let currentRemovingNode: Node|null = null;\n  while (walker.nextNode()) {\n    nodeIndex++;\n    const node = walker.currentNode as Element;\n    // End removal if stepped past the removing node\n    if (node.previousSibling === currentRemovingNode) {\n      currentRemovingNode = null;\n    }\n    // A node to remove was found in the template\n    if (nodesToRemove.has(node)) {\n      nodesToRemoveInTemplate.push(node);\n      // Track node we're removing\n      if (currentRemovingNode === null) {\n        currentRemovingNode = node;\n      }\n    }\n    // When removing, increment count by which to adjust subsequent part indices\n    if (currentRemovingNode !== null) {\n      removeCount++;\n    }\n    while (part !== undefined && part.index === nodeIndex) {\n      // If part is in a removed node deactivate it by setting index to -1 or\n      // adjust the index as needed.\n      part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n      // go to the next active part.\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n      part = parts[partIndex];\n    }\n  }\n  nodesToRemoveInTemplate.forEach((n) => n.parentNode!.removeChild(n));\n}\n\nconst countNodes = (node: Node) => {\n  let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n  const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n  while (walker.nextNode()) {\n    count++;\n  }\n  return count;\n};\n\nconst nextActiveIndexInTemplateParts =\n    (parts: TemplatePart[], startIndex: number = -1) => {\n      for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(\n    template: Template, node: Node, refNode: Node|null = null) {\n  const {element: {content}, parts} = template;\n  // If there's no refNode, then put node at end of template.\n  // No part indices need to be shifted in this case.\n  if (refNode === null || refNode === undefined) {\n    content.appendChild(node);\n    return;\n  }\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let insertCount = 0;\n  let walkerIndex = -1;\n  while (walker.nextNode()) {\n    walkerIndex++;\n    const walkerNode = walker.currentNode as Element;\n    if (walkerNode === refNode) {\n      insertCount = countNodes(node);\n      refNode.parentNode!.insertBefore(node, refNode);\n    }\n    while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n      // If we've inserted the node, simply adjust all subsequent parts\n      if (insertCount > 0) {\n        while (partIndex !== -1) {\n          parts[partIndex].index += insertCount;\n          partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n        return;\n      }\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @module shady-render\n * @preferred\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {removeNodes} from './dom.js';\nimport {insertNodeIntoTemplate, removeNodesFromTemplate} from './modify-template.js';\nimport {RenderOptions} from './render-options.js';\nimport {parts, render as litRender} from './render.js';\nimport {templateCaches} from './template-factory.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\nexport {html, svg, TemplateResult} from '../lit-html.js';\n\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type: string, scopeName: string) =>\n    `${type}--${scopeName}`;\n\nlet compatibleShadyCSSVersion = true;\n\nif (typeof window.ShadyCSS === 'undefined') {\n  compatibleShadyCSSVersion = false;\n} else if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n  console.warn(\n      `Incompatible ShadyCSS version detected. ` +\n      `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n      `@webcomponents/shadycss@1.3.1.`);\n  compatibleShadyCSSVersion = false;\n}\n\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nconst shadyTemplateFactory = (scopeName: string) =>\n    (result: TemplateResult) => {\n      const cacheKey = getTemplateCacheKey(result.type, scopeName);\n      let templateCache = templateCaches.get(cacheKey);\n      if (templateCache === undefined) {\n        templateCache = {\n          stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n          keyString: new Map<string, Template>()\n        };\n        templateCaches.set(cacheKey, templateCache);\n      }\n\n      let template = templateCache.stringsArray.get(result.strings);\n      if (template !== undefined) {\n        return template;\n      }\n\n      const key = result.strings.join(marker);\n      template = templateCache.keyString.get(key);\n      if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n          window.ShadyCSS!.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n      }\n      templateCache.stringsArray.set(result.strings, template);\n      return template;\n    };\n\nconst TEMPLATE_TYPES = ['html', 'svg'];\n\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName: string) => {\n  TEMPLATE_TYPES.forEach((type) => {\n    const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n    if (templates !== undefined) {\n      templates.keyString.forEach((template) => {\n        const {element: {content}} = template;\n        // IE 11 doesn't support the iterable param Set constructor\n        const styles = new Set<Element>();\n        Array.from(content.querySelectorAll('style')).forEach((s: Element) => {\n          styles.add(s);\n        });\n        removeNodesFromTemplate(template, styles);\n      });\n    }\n  });\n};\n\nconst shadyRenderSet = new Set<string>();\n\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles =\n    (scopeName: string, renderedDOM: DocumentFragment, template?: Template) => {\n      shadyRenderSet.add(scopeName);\n      // If `renderedDOM` is stamped from a Template, then we need to edit that\n      // Template's underlying template element. Otherwise, we create one here\n      // to give to ShadyCSS, which still requires one while scoping.\n      const templateElement =\n          !!template ? template.element : document.createElement('template');\n      // Move styles out of rendered DOM and store.\n      const styles = renderedDOM.querySelectorAll('style');\n      const {length} = styles;\n      // If there are no styles, skip unnecessary work\n      if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS!.prepareTemplateStyles(templateElement, scopeName);\n        return;\n      }\n      const condensedStyle = document.createElement('style');\n      // Collect styles into a single style. This helps us make sure ShadyCSS\n      // manipulations will not prevent us from being able to fix up template\n      // part indices.\n      // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n      // currently does this anyway. When it does not, this should be changed.\n      for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode!.removeChild(style);\n        condensedStyle.textContent! += style.textContent;\n      }\n      // Remove styles from nested templates in this scope.\n      removeStylesFromLitTemplates(scopeName);\n      // And then put the condensed style into the \"root\" template passed in as\n      // `template`.\n      const content = templateElement.content;\n      if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n      } else {\n        content.insertBefore(condensedStyle, content.firstChild);\n      }\n      // Note, it's important that ShadyCSS gets the template that `lit-html`\n      // will actually render so that it can update the style inside when\n      // needed (e.g. @apply native Shadow DOM case).\n      window.ShadyCSS!.prepareTemplateStyles(templateElement, scopeName);\n      const style = content.querySelector('style');\n      if (window.ShadyCSS!.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n      } else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set<Node>();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n      }\n    };\n\nexport interface ShadyRenderOptions extends Partial<RenderOptions> {\n  scopeName: string;\n}\n\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render =\n    (result: unknown,\n     container: Element|DocumentFragment|ShadowRoot,\n     options: ShadyRenderOptions) => {\n      if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n      }\n      const scopeName = options.scopeName;\n      const hasRendered = parts.has(container);\n      const needsScoping = compatibleShadyCSSVersion &&\n          container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n          !!(container as ShadowRoot).host;\n      // Handle first render to a scope specially...\n      const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n      // On first scope render, render into a fragment; this cannot be a single\n      // fragment that is reused since nested renders can occur synchronously.\n      const renderContainer =\n          firstScopeRender ? document.createDocumentFragment() : container;\n      litRender(\n          result,\n          renderContainer,\n          {templateFactory: shadyTemplateFactory(scopeName), ...options} as\n              RenderOptions);\n      // When performing first scope render,\n      // (1) We've rendered into a fragment so that there's a chance to\n      // `prepareTemplateStyles` before sub-elements hit the DOM\n      // (which might cause them to render based on a common pattern of\n      // rendering in a custom element's `connectedCallback`);\n      // (2) Scope the template with ShadyCSS one time only for this scope.\n      // (3) Render the fragment into the container and make sure the\n      // container knows its `part` is the one we just rendered. This ensures\n      // DOM will be re-used on subsequent renders.\n      if (firstScopeRender) {\n        const part = parts.get(renderContainer)!;\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(\n            scopeName, renderContainer as DocumentFragment, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n      }\n      // After elements have hit the DOM, update styling if this is the\n      // initial render to this container.\n      // This is needed whenever dynamic changes are made so it would be\n      // safest to do every render; however, this would regress performance\n      // so we leave it up to the user to call `ShadyCSS.styleElement`\n      // for dynamic changes.\n      if (!hasRendered && needsScoping) {\n        window.ShadyCSS!.styleElement((container as ShadowRoot).host);\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    <P extends PropertyKey>(prop: P, _obj: unknown): P => prop;\n\ndeclare global {\n  var JSCompiler_renameProperty: <P extends PropertyKey>(\n      prop: P, _obj: unknown) => P;\n\n  interface Window {\n    JSCompiler_renameProperty: typeof JSCompiler_renameProperty;\n  }\n}\n\n/**\n * Converts property values to and from attribute values.\n */\nexport interface ComplexAttributeConverter<Type = unknown, TypeHint = unknown> {\n  /**\n   * Function called to convert an attribute value to a property\n   * value.\n   */\n  fromAttribute?(value: string|null, type?: TypeHint): Type;\n\n  /**\n   * Function called to convert a property value to an attribute\n   * value.\n   *\n   * It returns unknown instead of string, to be compatible with\n   * https://github.com/WICG/trusted-types (and similar efforts).\n   */\n  toAttribute?(value: Type, type?: TypeHint): unknown;\n}\n\ntype AttributeConverter<Type = unknown, TypeHint = unknown> =\n    ComplexAttributeConverter<Type>|((value: string, type?: TypeHint) => Type);\n\n/**\n * Defines options for a property accessor.\n */\nexport interface PropertyDeclaration<Type = unknown, TypeHint = unknown> {\n  /**\n   * Indicates how and whether the property becomes an observed attribute.\n   * If the value is `false`, the property is not added to `observedAttributes`.\n   * If true or absent, the lowercased property name is observed (e.g. `fooBar`\n   * becomes `foobar`). If a string, the string value is observed (e.g\n   * `attribute: 'foo-bar'`).\n   */\n  readonly attribute?: boolean|string;\n\n  /**\n   * Indicates the type of the property. This is used only as a hint for the\n   * `converter` to determine how to convert the attribute\n   * to/from a property.\n   */\n  readonly type?: TypeHint;\n\n  /**\n   * Indicates how to convert the attribute to/from a property. If this value\n   * is a function, it is used to convert the attribute value a the property\n   * value. If it's an object, it can have keys for `fromAttribute` and\n   * `toAttribute`. If no `toAttribute` function is provided and\n   * `reflect` is set to `true`, the property value is set directly to the\n   * attribute. A default `converter` is used if none is provided; it supports\n   * `Boolean`, `String`, `Number`, `Object`, and `Array`. Note,\n   * when a property changes and the converter is used to update the attribute,\n   * the property is never updated again as a result of the attribute changing,\n   * and vice versa.\n   */\n  readonly converter?: AttributeConverter<Type, TypeHint>;\n\n  /**\n   * Indicates if the property should reflect to an attribute.\n   * If `true`, when the property is set, the attribute is set using the\n   * attribute name determined according to the rules for the `attribute`\n   * property option and the value of the property converted using the rules\n   * from the `converter` property option.\n   */\n  readonly reflect?: boolean;\n\n  /**\n   * A function that indicates if a property should be considered changed when\n   * it is set. The function should take the `newValue` and `oldValue` and\n   * return `true` if an update should be requested.\n   */\n  hasChanged?(value: Type, oldValue: Type): boolean;\n\n  /**\n   * Indicates whether an accessor will be created for this property. By\n   * default, an accessor will be generated for this property that requests an\n   * update when set. If this flag is `true`, no accessor will be created, and\n   * it will be the user's responsibility to call\n   * `this.requestUpdate(propertyName, oldValue)` to request an update when\n   * the property changes.\n   */\n  readonly noAccessor?: boolean;\n}\n\n/**\n * Map of properties to PropertyDeclaration options. For each property an\n * accessor is made, and the property is processed according to the\n * PropertyDeclaration options.\n */\nexport interface PropertyDeclarations {\n  readonly [key: string]: PropertyDeclaration;\n}\n\ntype PropertyDeclarationMap = Map<PropertyKey, PropertyDeclaration>;\n\ntype AttributeMap = Map<string, PropertyKey>;\n\nexport type PropertyValues = Map<PropertyKey, unknown>;\n\nexport const defaultConverter: ComplexAttributeConverter = {\n\n  toAttribute(value: unknown, type?: unknown): unknown {\n    switch (type) {\n      case Boolean:\n        return value ? '' : null;\n      case Object:\n      case Array:\n        // if the value is `null` or `undefined` pass this through\n        // to allow removing/no change behavior.\n        return value == null ? value : JSON.stringify(value);\n    }\n    return value;\n  },\n\n  fromAttribute(value: string|null, type?: unknown) {\n    switch (type) {\n      case Boolean:\n        return value !== null;\n      case Number:\n        return value === null ? null : Number(value);\n      case Object:\n      case Array:\n        return JSON.parse(value!);\n    }\n    return value;\n  }\n\n};\n\nexport interface HasChanged {\n  (value: unknown, old: unknown): boolean;\n}\n\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual: HasChanged = (value: unknown, old: unknown): boolean => {\n  // This ensures (old==NaN, value==NaN) always returns false\n  return old !== value && (old === old || value === value);\n};\n\nconst defaultPropertyDeclaration: PropertyDeclaration = {\n  attribute: true,\n  type: String,\n  converter: defaultConverter,\n  reflect: false,\n  hasChanged: notEqual\n};\n\nconst microtaskPromise = Promise.resolve(true);\n\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\nconst STATE_HAS_CONNECTED = 1 << 5;\ntype UpdateState = typeof STATE_HAS_UPDATED|typeof STATE_UPDATE_REQUESTED|\n    typeof STATE_IS_REFLECTING_TO_ATTRIBUTE|\n    typeof STATE_IS_REFLECTING_TO_PROPERTY|typeof STATE_HAS_CONNECTED;\n\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n */\nexport abstract class UpdatingElement extends HTMLElement {\n  /*\n   * Due to closure compiler ES6 compilation bugs, @nocollapse is required on\n   * all static methods and properties with initializers.  Reference:\n   * - https://github.com/google/closure-compiler/issues/1776\n   */\n\n  /**\n   * Maps attribute names to properties; for example `foobar` attribute to\n   * `fooBar` property. Created lazily on user subclasses when finalizing the\n   * class.\n   */\n  private static _attributeToPropertyMap: AttributeMap;\n\n  /**\n   * Marks class as having finished creating properties.\n   */\n  protected static[finalized] = true;\n\n  /**\n   * Memoized list of all class properties, including any superclass properties.\n   * Created lazily on user subclasses when finalizing the class.\n   */\n  private static _classProperties?: PropertyDeclarationMap;\n\n  /**\n   * User-supplied object that maps property names to `PropertyDeclaration`\n   * objects containing options for configuring the property.\n   */\n  static properties: PropertyDeclarations;\n\n  /**\n   * Returns a list of attributes corresponding to the registered properties.\n   * @nocollapse\n   */\n  static get observedAttributes() {\n    // note: piggy backing on this to ensure we're finalized.\n    this.finalize();\n    const attributes: string[] = [];\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    this._classProperties!.forEach((v, p) => {\n      const attr = this._attributeNameForProperty(p, v);\n      if (attr !== undefined) {\n        this._attributeToPropertyMap.set(attr, p);\n        attributes.push(attr);\n      }\n    });\n    return attributes;\n  }\n\n  /**\n   * Ensures the private `_classProperties` property metadata is created.\n   * In addition to `finalize` this is also called in `createProperty` to\n   * ensure the `@property` decorator can add property metadata.\n   */\n  /** @nocollapse */\n  private static _ensureClassProperties() {\n    // ensure private storage for property declarations.\n    if (!this.hasOwnProperty(\n            JSCompiler_renameProperty('_classProperties', this))) {\n      this._classProperties = new Map();\n      // NOTE: Workaround IE11 not supporting Map constructor argument.\n      const superProperties: PropertyDeclarationMap =\n          Object.getPrototypeOf(this)._classProperties;\n      if (superProperties !== undefined) {\n        superProperties.forEach(\n            (v: PropertyDeclaration, k: PropertyKey) =>\n                this._classProperties!.set(k, v));\n      }\n    }\n  }\n\n  /**\n   * Creates a property accessor on the element prototype if one does not exist.\n   * The property setter calls the property's `hasChanged` property option\n   * or uses a strict identity check to determine whether or not to request\n   * an update.\n   * @nocollapse\n   */\n  static createProperty(\n      name: PropertyKey,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    // Note, since this can be called by the `@property` decorator which\n    // is called before `finalize`, we ensure storage exists for property\n    // metadata.\n    this._ensureClassProperties();\n    this._classProperties!.set(name, options);\n    // Do not generate an accessor if the prototype already has one, since\n    // it would be lost otherwise and that would never be the user's intention;\n    // Instead, we expect users to call `requestUpdate` themselves from\n    // user-defined accessors. Note that if the super has an accessor we will\n    // still overwrite it\n    if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n      return;\n    }\n    const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n    Object.defineProperty(this.prototype, name, {\n      // tslint:disable-next-line:no-any no symbol in index\n      get(): any {\n        return (this as {[key: string]: unknown})[key as string];\n      },\n      set(this: UpdatingElement, value: unknown) {\n        const oldValue =\n            (this as {} as {[key: string]: unknown})[name as string];\n        (this as {} as {[key: string]: unknown})[key as string] = value;\n        (this as unknown as UpdatingElement)._requestUpdate(name, oldValue);\n      },\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  /**\n   * Creates property accessors for registered properties and ensures\n   * any superclasses are also finalized.\n   * @nocollapse\n   */\n  protected static finalize() {\n    // finalize any superclasses\n    const superCtor = Object.getPrototypeOf(this);\n    if (!superCtor.hasOwnProperty(finalized)) {\n      superCtor.finalize();\n    }\n    this[finalized] = true;\n    this._ensureClassProperties();\n    // initialize Map populated in observedAttributes\n    this._attributeToPropertyMap = new Map();\n    // make any properties\n    // Note, only process \"own\" properties since this element will inherit\n    // any properties defined on the superClass, and finalization ensures\n    // the entire prototype chain is finalized.\n    if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n      const props = this.properties;\n      // support symbols in properties (IE11 does not support this)\n      const propKeys = [\n        ...Object.getOwnPropertyNames(props),\n        ...(typeof Object.getOwnPropertySymbols === 'function') ?\n            Object.getOwnPropertySymbols(props) :\n            []\n      ];\n      // This for/of is ok because propKeys is an array\n      for (const p of propKeys) {\n        // note, use of `any` is due to TypeSript lack of support for symbol in\n        // index types\n        // tslint:disable-next-line:no-any no symbol in index\n        this.createProperty(p, (props as any)[p]);\n      }\n    }\n  }\n\n  /**\n   * Returns the property name for the given attribute `name`.\n   * @nocollapse\n   */\n  private static _attributeNameForProperty(\n      name: PropertyKey, options: PropertyDeclaration) {\n    const attribute = options.attribute;\n    return attribute === false ?\n        undefined :\n        (typeof attribute === 'string' ?\n             attribute :\n             (typeof name === 'string' ? name.toLowerCase() : undefined));\n  }\n\n  /**\n   * Returns true if a property should request an update.\n   * Called when a property value is set and uses the `hasChanged`\n   * option for the property if present or a strict identity check.\n   * @nocollapse\n   */\n  private static _valueHasChanged(\n      value: unknown, old: unknown, hasChanged: HasChanged = notEqual) {\n    return hasChanged(value, old);\n  }\n\n  /**\n   * Returns the property value for the given attribute value.\n   * Called via the `attributeChangedCallback` and uses the property's\n   * `converter` or `converter.fromAttribute` property option.\n   * @nocollapse\n   */\n  private static _propertyValueFromAttribute(\n      value: string|null, options: PropertyDeclaration) {\n    const type = options.type;\n    const converter = options.converter || defaultConverter;\n    const fromAttribute =\n        (typeof converter === 'function' ? converter : converter.fromAttribute);\n    return fromAttribute ? fromAttribute(value, type) : value;\n  }\n\n  /**\n   * Returns the attribute value for the given property value. If this\n   * returns undefined, the property will *not* be reflected to an attribute.\n   * If this returns null, the attribute will be removed, otherwise the\n   * attribute will be set to the value.\n   * This uses the property's `reflect` and `type.toAttribute` property options.\n   * @nocollapse\n   */\n  private static _propertyValueToAttribute(\n      value: unknown, options: PropertyDeclaration) {\n    if (options.reflect === undefined) {\n      return;\n    }\n    const type = options.type;\n    const converter = options.converter;\n    const toAttribute =\n        converter && (converter as ComplexAttributeConverter).toAttribute ||\n        defaultConverter.toAttribute;\n    return toAttribute!(value, type);\n  }\n\n  private _updateState: UpdateState = 0;\n  private _instanceProperties: PropertyValues|undefined = undefined;\n  private _updatePromise: Promise<unknown> = microtaskPromise;\n  private _hasConnectedResolver: (() => void)|undefined = undefined;\n\n  /**\n   * Map with keys for any properties that have changed since the last\n   * update cycle with previous values.\n   */\n  private _changedProperties: PropertyValues = new Map();\n\n  /**\n   * Map with keys of properties that should be reflected when updated.\n   */\n  private _reflectingProperties: Map<PropertyKey, PropertyDeclaration>|\n      undefined = undefined;\n\n  constructor() {\n    super();\n    this.initialize();\n  }\n\n  /**\n   * Performs element initialization. By default captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() {\n    this._saveInstanceProperties();\n    // ensures first update will be caught by an early access of\n    // `updateComplete`\n    this._requestUpdate();\n  }\n\n  /**\n   * Fixes any properties set on the instance before upgrade time.\n   * Otherwise these would shadow the accessor and break these properties.\n   * The properties are stored in a Map which is played back after the\n   * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n   * (<=41), properties created for native platform properties like (`id` or\n   * `name`) may not have default values set in the element constructor. On\n   * these browsers native properties appear on instances and therefore their\n   * default value will overwrite any element default (e.g. if the element sets\n   * this.id = 'id' in the constructor, the 'id' will become '' since this is\n   * the native platform default).\n   */\n  private _saveInstanceProperties() {\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    (this.constructor as typeof UpdatingElement)\n        ._classProperties!.forEach((_v, p) => {\n          if (this.hasOwnProperty(p)) {\n            const value = this[p as keyof this];\n            delete this[p as keyof this];\n            if (!this._instanceProperties) {\n              this._instanceProperties = new Map();\n            }\n            this._instanceProperties.set(p, value);\n          }\n        });\n  }\n\n  /**\n   * Applies previously saved instance properties.\n   */\n  private _applyInstanceProperties() {\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    // tslint:disable-next-line:no-any\n    this._instanceProperties!.forEach((v, p) => (this as any)[p] = v);\n    this._instanceProperties = undefined;\n  }\n\n  connectedCallback() {\n    this._updateState = this._updateState | STATE_HAS_CONNECTED;\n    // Ensure first connection completes an update. Updates cannot complete\n    // before connection and if one is pending connection the\n    // `_hasConnectionResolver` will exist. If so, resolve it to complete the\n    // update, otherwise requestUpdate.\n    if (this._hasConnectedResolver) {\n      this._hasConnectedResolver();\n      this._hasConnectedResolver = undefined;\n    }\n  }\n\n  /**\n   * Allows for `super.disconnectedCallback()` in extensions while\n   * reserving the possibility of making non-breaking feature additions\n   * when disconnecting at some point in the future.\n   */\n  disconnectedCallback() {\n  }\n\n  /**\n   * Synchronizes property values when attributes change.\n   */\n  attributeChangedCallback(name: string, old: string|null, value: string|null) {\n    if (old !== value) {\n      this._attributeToProperty(name, value);\n    }\n  }\n\n  private _propertyToAttribute(\n      name: PropertyKey, value: unknown,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const attr = ctor._attributeNameForProperty(name, options);\n    if (attr !== undefined) {\n      const attrValue = ctor._propertyValueToAttribute(value, options);\n      // an undefined value does not change the attribute.\n      if (attrValue === undefined) {\n        return;\n      }\n      // Track if the property is being reflected to avoid\n      // setting the property again via `attributeChangedCallback`. Note:\n      // 1. this takes advantage of the fact that the callback is synchronous.\n      // 2. will behave incorrectly if multiple attributes are in the reaction\n      // stack at time of calling. However, since we process attributes\n      // in `update` this should not be possible (or an extreme corner case\n      // that we'd like to discover).\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n      if (attrValue == null) {\n        this.removeAttribute(attr);\n      } else {\n        this.setAttribute(attr, attrValue as string);\n      }\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n    }\n  }\n\n  private _attributeToProperty(name: string, value: string|null) {\n    // Use tracking info to avoid deserializing attribute value if it was\n    // just set from a property setter.\n    if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n      return;\n    }\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const propName = ctor._attributeToPropertyMap.get(name);\n    if (propName !== undefined) {\n      const options =\n          ctor._classProperties!.get(propName) || defaultPropertyDeclaration;\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n      this[propName as keyof this] =\n          // tslint:disable-next-line:no-any\n          ctor._propertyValueFromAttribute(value, options) as any;\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n    }\n  }\n\n  /**\n   * This private version of `requestUpdate` does not access or return the\n   * `updateComplete` promise. This promise can be overridden and is therefore\n   * not free to access.\n   */\n  private _requestUpdate(name?: PropertyKey, oldValue?: unknown) {\n    let shouldRequestUpdate = true;\n    // If we have a property key, perform property update steps.\n    if (name !== undefined) {\n      const ctor = this.constructor as typeof UpdatingElement;\n      const options =\n          ctor._classProperties!.get(name) || defaultPropertyDeclaration;\n      if (ctor._valueHasChanged(\n              this[name as keyof this], oldValue, options.hasChanged)) {\n        if (!this._changedProperties.has(name)) {\n          this._changedProperties.set(name, oldValue);\n        }\n        // Add to reflecting properties set.\n        // Note, it's important that every change has a chance to add the\n        // property to `_reflectingProperties`. This ensures setting\n        // attribute + property reflects correctly.\n        if (options.reflect === true &&\n            !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n          if (this._reflectingProperties === undefined) {\n            this._reflectingProperties = new Map();\n          }\n          this._reflectingProperties.set(name, options);\n        }\n      } else {\n        // Abort the request if the property should not be considered changed.\n        shouldRequestUpdate = false;\n      }\n    }\n    if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n      this._enqueueUpdate();\n    }\n  }\n\n  /**\n   * Requests an update which is processed asynchronously. This should\n   * be called when an element should update based on some state not triggered\n   * by setting a property. In this case, pass no arguments. It should also be\n   * called when manually implementing a property setter. In this case, pass the\n   * property `name` and `oldValue` to ensure that any configured property\n   * options are honored. Returns the `updateComplete` Promise which is resolved\n   * when the update completes.\n   *\n   * @param name {PropertyKey} (optional) name of requesting property\n   * @param oldValue {any} (optional) old value of requesting property\n   * @returns {Promise} A Promise that is resolved when the update completes.\n   */\n  requestUpdate(name?: PropertyKey, oldValue?: unknown) {\n    this._requestUpdate(name, oldValue);\n    return this.updateComplete;\n  }\n\n  /**\n   * Sets up the element to asynchronously update.\n   */\n  private async _enqueueUpdate() {\n    // Mark state updating...\n    this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n    let resolve!: (r: boolean) => void;\n    let reject!: (e: Error) => void;\n    const previousUpdatePromise = this._updatePromise;\n    this._updatePromise = new Promise((res, rej) => {\n      resolve = res;\n      reject = rej;\n    });\n    try {\n      // Ensure any previous update has resolved before updating.\n      // This `await` also ensures that property changes are batched.\n      await previousUpdatePromise;\n    } catch (e) {\n      // Ignore any previous errors. We only care that the previous cycle is\n      // done. Any error should have been handled in the previous update.\n    }\n    // Make sure the element has connected before updating.\n    if (!this._hasConnected) {\n      await new Promise((res) => this._hasConnectedResolver = res);\n    }\n    try {\n      const result = this.performUpdate();\n      // If `performUpdate` returns a Promise, we await it. This is done to\n      // enable coordinating updates with a scheduler. Note, the result is\n      // checked to avoid delaying an additional microtask unless we need to.\n      if (result != null) {\n        await result;\n      }\n    } catch (e) {\n      reject(e);\n    }\n    resolve(!this._hasRequestedUpdate);\n  }\n\n  private get _hasConnected() {\n    return (this._updateState & STATE_HAS_CONNECTED);\n  }\n\n  private get _hasRequestedUpdate() {\n    return (this._updateState & STATE_UPDATE_REQUESTED);\n  }\n\n  protected get hasUpdated() {\n    return (this._updateState & STATE_HAS_UPDATED);\n  }\n\n  /**\n   * Performs an element update. Note, if an exception is thrown during the\n   * update, `firstUpdated` and `updated` will not be called.\n   *\n   * You can override this method to change the timing of updates. If this\n   * method is overridden, `super.performUpdate()` must be called.\n   *\n   * For instance, to schedule updates to occur just before the next frame:\n   *\n   * ```\n   * protected async performUpdate(): Promise<unknown> {\n   *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n   *   super.performUpdate();\n   * }\n   * ```\n   */\n  protected performUpdate(): void|Promise<unknown> {\n    // Mixin instance properties once, if they exist.\n    if (this._instanceProperties) {\n      this._applyInstanceProperties();\n    }\n    let shouldUpdate = false;\n    const changedProperties = this._changedProperties;\n    try {\n      shouldUpdate = this.shouldUpdate(changedProperties);\n      if (shouldUpdate) {\n        this.update(changedProperties);\n      }\n    } catch (e) {\n      // Prevent `firstUpdated` and `updated` from running when there's an\n      // update exception.\n      shouldUpdate = false;\n      throw e;\n    } finally {\n      // Ensure element can accept additional updates after an exception.\n      this._markUpdated();\n    }\n    if (shouldUpdate) {\n      if (!(this._updateState & STATE_HAS_UPDATED)) {\n        this._updateState = this._updateState | STATE_HAS_UPDATED;\n        this.firstUpdated(changedProperties);\n      }\n      this.updated(changedProperties);\n    }\n  }\n\n  private _markUpdated() {\n    this._changedProperties = new Map();\n    this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n  }\n\n  /**\n   * Returns a Promise that resolves when the element has completed updating.\n   * The Promise value is a boolean that is `true` if the element completed the\n   * update without triggering another update. The Promise result is `false` if\n   * a property was set inside `updated()`. If the Promise is rejected, an\n   * exception was thrown during the update.\n   *\n   * To await additional asynchronous work, override the `_getUpdateComplete`\n   * method. For example, it is sometimes useful to await a rendered element\n   * before fulfilling this Promise. To do this, first await\n   * `super._getUpdateComplete()`, then any subsequent state.\n   *\n   * @returns {Promise} The Promise returns a boolean that indicates if the\n   * update resolved without triggering another update.\n   */\n  get updateComplete() {\n    return this._getUpdateComplete();\n  }\n\n  /**\n   * Override point for the `updateComplete` promise.\n   *\n   * It is not safe to override the `updateComplete` getter directly due to a\n   * limitation in TypeScript which means it is not possible to call a\n   * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n   * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n   * This method should be overridden instead. For example:\n   *\n   *   class MyElement extends LitElement {\n   *     async _getUpdateComplete() {\n   *       await super._getUpdateComplete();\n   *       await this._myChild.updateComplete;\n   *     }\n   *   }\n   */\n  protected _getUpdateComplete() {\n    return this._updatePromise;\n  }\n\n  /**\n   * Controls whether or not `update` should be called when the element requests\n   * an update. By default, this method always returns `true`, but this can be\n   * customized to control when to update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected shouldUpdate(_changedProperties: PropertyValues): boolean {\n    return true;\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes.\n   * It can be overridden to render and keep updated element DOM.\n   * Setting properties inside this method will *not* trigger\n   * another update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(_changedProperties: PropertyValues) {\n    if (this._reflectingProperties !== undefined &&\n        this._reflectingProperties.size > 0) {\n      // Use forEach so this works even if for/of loops are compiled to for\n      // loops expecting arrays\n      this._reflectingProperties.forEach(\n          (v, k) => this._propertyToAttribute(k, this[k as keyof this], v));\n      this._reflectingProperties = undefined;\n    }\n  }\n\n  /**\n   * Invoked whenever the element is updated. Implement to perform\n   * post-updating tasks via DOM APIs, for example, focusing an element.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected updated(_changedProperties: PropertyValues) {\n  }\n\n  /**\n   * Invoked when the element is first updated. Implement to perform one time\n   * work on the element after update.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected firstUpdated(_changedProperties: PropertyValues) {\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {LitElement} from '../lit-element.js';\n\nimport {PropertyDeclaration, UpdatingElement} from './updating-element.js';\n\nexport type Constructor<T> = {\n  new (...args: unknown[]): T\n};\n\n// From the TC39 Decorators proposal\ninterface ClassDescriptor {\n  kind: 'class';\n  elements: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n}\n\n// From the TC39 Decorators proposal\ninterface ClassElement {\n  kind: 'field'|'method';\n  key: PropertyKey;\n  placement: 'static'|'prototype'|'own';\n  initializer?: Function;\n  extras?: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n  descriptor?: PropertyDescriptor;\n}\n\nconst legacyCustomElement =\n    (tagName: string, clazz: Constructor<HTMLElement>) => {\n      window.customElements.define(tagName, clazz);\n      // Cast as any because TS doesn't recognize the return type as being a\n      // subtype of the decorated class when clazz is typed as\n      // `Constructor<HTMLElement>` for some reason.\n      // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n      // applied to elements however.\n      // tslint:disable-next-line:no-any\n      return clazz as any;\n    };\n\nconst standardCustomElement =\n    (tagName: string, descriptor: ClassDescriptor) => {\n      const {kind, elements} = descriptor;\n      return {\n        kind,\n        elements,\n        // This callback is called once the class is otherwise fully defined\n        finisher(clazz: Constructor<HTMLElement>) {\n          window.customElements.define(tagName, clazz);\n        }\n      };\n    };\n\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * @param tagName the name of the custom element to define\n */\nexport const customElement = (tagName: string) =>\n    (classOrDescriptor: Constructor<HTMLElement>|ClassDescriptor) =>\n        (typeof classOrDescriptor === 'function') ?\n    legacyCustomElement(tagName, classOrDescriptor) :\n    standardCustomElement(tagName, classOrDescriptor);\n\nconst standardProperty =\n    (options: PropertyDeclaration, element: ClassElement) => {\n      // When decorating an accessor, pass it through and add property metadata.\n      // Note, the `hasOwnProperty` check in `createProperty` ensures we don't\n      // stomp over the user's accessor.\n      if (element.kind === 'method' && element.descriptor &&\n          !('value' in element.descriptor)) {\n        return {\n          ...element,\n          finisher(clazz: typeof UpdatingElement) {\n            clazz.createProperty(element.key, options);\n          }\n        };\n      } else {\n        // createProperty() takes care of defining the property, but we still\n        // must return some kind of descriptor, so return a descriptor for an\n        // unused prototype field. The finisher calls createProperty().\n        return {\n          kind: 'field',\n          key: Symbol(),\n          placement: 'own',\n          descriptor: {},\n          // When @babel/plugin-proposal-decorators implements initializers,\n          // do this instead of the initializer below. See:\n          // https://github.com/babel/babel/issues/9260 extras: [\n          //   {\n          //     kind: 'initializer',\n          //     placement: 'own',\n          //     initializer: descriptor.initializer,\n          //   }\n          // ],\n          initializer(this: {[key: string]: unknown}) {\n            if (typeof element.initializer === 'function') {\n              this[element.key as string] = element.initializer.call(this);\n            }\n          },\n          finisher(clazz: typeof UpdatingElement) {\n            clazz.createProperty(element.key, options);\n          }\n        };\n      }\n    };\n\nconst legacyProperty =\n    (options: PropertyDeclaration, proto: Object, name: PropertyKey) => {\n      (proto.constructor as typeof UpdatingElement)\n          .createProperty(name, options);\n    };\n\n/**\n * A property decorator which creates a LitElement property which reflects a\n * corresponding attribute value. A `PropertyDeclaration` may optionally be\n * supplied to configure property features.\n *\n * @ExportDecoratedItems\n */\nexport function property(options?: PropertyDeclaration) {\n  // tslint:disable-next-line:no-any decorator\n  return (protoOrDescriptor: Object|ClassElement, name?: PropertyKey): any =>\n             (name !== undefined) ?\n      legacyProperty(options!, protoOrDescriptor as Object, name) :\n      standardProperty(options!, protoOrDescriptor as ClassElement);\n}\n\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n *\n * @ExportDecoratedItems\n */\nexport function query(selector: string) {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        return this.renderRoot.querySelector(selector);\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n *\n * @ExportDecoratedItems\n */\nexport function queryAll(selector: string) {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        return this.renderRoot.querySelectorAll(selector);\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\nconst legacyQuery =\n    (descriptor: PropertyDescriptor, proto: Object, name: PropertyKey) => {\n      Object.defineProperty(proto, name, descriptor);\n    };\n\nconst standardQuery = (descriptor: PropertyDescriptor, element: ClassElement) =>\n    ({\n      kind: 'method',\n      placement: 'prototype',\n      key: element.key,\n      descriptor,\n    });\n\nconst standardEventOptions =\n    (options: AddEventListenerOptions, element: ClassElement) => {\n      return {\n        ...element,\n        finisher(clazz: typeof UpdatingElement) {\n          Object.assign(\n              clazz.prototype[element.key as keyof UpdatingElement], options);\n        }\n      };\n    };\n\nconst legacyEventOptions =\n    // tslint:disable-next-line:no-any legacy decorator\n    (options: AddEventListenerOptions, proto: any, name: PropertyKey) => {\n      Object.assign(proto[name], options);\n    };\n\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifis event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * @example\n *\n *     class MyElement {\n *\n *       clicked = false;\n *\n *       render() {\n *         return html`<div @click=${this._onClick}`><button></button></div>`;\n *       }\n *\n *       @eventOptions({capture: true})\n *       _onClick(e) {\n *         this.clicked = true;\n *       }\n *     }\n */\nexport const eventOptions = (options: AddEventListenerOptions) =>\n    // Return value typed as any to prevent TypeScript from complaining that\n    // standard decorator function signature does not match TypeScript decorator\n    // signature\n    // TODO(kschaaf): unclear why it was only failing on this decorator and not\n    // the others\n    ((protoOrDescriptor: Object|ClassElement, name?: string) =>\n         (name !== undefined) ?\n         legacyEventOptions(options, protoOrDescriptor as Object, name) :\n         standardEventOptions(options, protoOrDescriptor as ClassElement)) as\n        // tslint:disable-next-line:no-any decorator\n        any;\n","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n\nexport const supportsAdoptingStyleSheets =\n    ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\n\nconst constructionToken = Symbol();\n\nexport class CSSResult {\n  _styleSheet?: CSSStyleSheet|null;\n\n  readonly cssText: string;\n\n  constructor(cssText: string, safeToken: symbol) {\n    if (safeToken !== constructionToken) {\n      throw new Error(\n          'CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n    }\n    this.cssText = cssText;\n  }\n\n  // Note, this is a getter so that it's lazy. In practice, this means\n  // stylesheets are not created until the first element instance is made.\n  get styleSheet(): CSSStyleSheet|null {\n    if (this._styleSheet === undefined) {\n      // Note, if `adoptedStyleSheets` is supported then we assume CSSStyleSheet\n      // is constructable.\n      if (supportsAdoptingStyleSheets) {\n        this._styleSheet = new CSSStyleSheet();\n        this._styleSheet.replaceSync(this.cssText);\n      } else {\n        this._styleSheet = null;\n      }\n    }\n    return this._styleSheet;\n  }\n\n  toString(): string {\n    return this.cssText;\n  }\n}\n\n/**\n * Wrap a value for interpolation in a css tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value: unknown) => {\n  return new CSSResult(String(value), constructionToken);\n};\n\nconst textFromCSSResult = (value: CSSResult|number) => {\n  if (value instanceof CSSResult) {\n    return value.cssText;\n  } else if (typeof value === 'number') {\n    return value;\n  } else {\n    throw new Error(\n        `Value passed to 'css' function must be a 'css' function result: ${\n            value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n  }\n};\n\n/**\n * Template tag which which can be used with LitElement's `style` property to\n * set element styles. For security reasons, only literal string values may be\n * used. To incorporate non-literal values `unsafeCSS` may be used inside a\n * template string part.\n */\nexport const css =\n    (strings: TemplateStringsArray, ...values: (CSSResult|number)[]) => {\n      const cssText = values.reduce(\n          (acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1],\n          strings[0]);\n      return new CSSResult(cssText, constructionToken);\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport {TemplateResult} from 'lit-html';\nimport {render} from 'lit-html/lib/shady-render.js';\n\nimport {PropertyValues, UpdatingElement} from './lib/updating-element.js';\n\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport {html, svg, TemplateResult, SVGTemplateResult} from 'lit-html/lit-html.js';\nimport {supportsAdoptingStyleSheets, CSSResult} from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n\ndeclare global {\n  interface Window {\n    litElementVersions: string[];\n  }\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.2.1');\n\nexport interface CSSResultArray extends Array<CSSResult|CSSResultArray> {}\n\n/**\n * Minimal implementation of Array.prototype.flat\n * @param arr the array to flatten\n * @param result the accumlated result\n */\nfunction arrayFlat(\n    styles: CSSResultArray, result: CSSResult[] = []): CSSResult[] {\n  for (let i = 0, length = styles.length; i < length; i++) {\n    const value = styles[i];\n    if (Array.isArray(value)) {\n      arrayFlat(value, result);\n    } else {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/** Deeply flattens styles array. Uses native flat if available. */\nconst flattenStyles = (styles: CSSResultArray): CSSResult[] =>\n    styles.flat ? styles.flat(Infinity) : arrayFlat(styles);\n\nexport class LitElement extends UpdatingElement {\n\n  /**\n   * Ensure this class is marked as `finalized` as an optimization ensuring\n   * it will not needlessly try to `finalize`.\n   *\n   * Note this property name is a string to prevent breaking Closure JS Compiler\n   * optimizations. See updating-element.ts for more information.\n   */\n  protected static['finalized'] = true;\n  /**\n   * Render method used to render the lit-html TemplateResult to the element's\n   * DOM.\n   * @param {TemplateResult} Template to render.\n   * @param {Element|DocumentFragment} Node into which to render.\n   * @param {String} Element name.\n   * @nocollapse\n   */\n  static render = render;\n\n  /**\n   * Array of styles to apply to the element. The styles should be defined\n   * using the `css` tag function.\n   */\n  static styles?: CSSResult|CSSResultArray;\n\n  private static _styles: CSSResult[]|undefined;\n\n  /** @nocollapse */\n  protected static finalize() {\n    // The Closure JS Compiler does not always preserve the correct \"this\"\n    // when calling static super methods (b/137460243), so explicitly bind.\n    super.finalize.call(this);\n    // Prepare styling that is stamped at first render time. Styling\n    // is built from user provided `styles` or is inherited from the superclass.\n    this._styles =\n        this.hasOwnProperty(JSCompiler_renameProperty('styles', this)) ?\n        this._getUniqueStyles() :\n        this._styles || [];\n  }\n\n  /** @nocollapse */\n  private static _getUniqueStyles(): CSSResult[] {\n    // Take care not to call `this.styles` multiple times since this generates\n    // new CSSResults each time.\n    // TODO(sorvell): Since we do not cache CSSResults by input, any\n    // shared styles will generate new stylesheet objects, which is wasteful.\n    // This should be addressed when a browser ships constructable\n    // stylesheets.\n    const userStyles = this.styles;\n    const styles: CSSResult[] = [];\n    if (Array.isArray(userStyles)) {\n      const flatStyles = flattenStyles(userStyles);\n      // As a performance optimization to avoid duplicated styling that can\n      // occur especially when composing via subclassing, de-duplicate styles\n      // preserving the last item in the list. The last item is kept to\n      // try to preserve cascade order with the assumption that it's most\n      // important that last added styles override previous styles.\n      const styleSet = flatStyles.reduceRight((set, s) => {\n        set.add(s);\n        // on IE set.add does not return the set.\n        return set;\n      }, new Set<CSSResult>());\n      // Array.from does not work on Set in IE\n      styleSet.forEach((v) => styles.unshift(v));\n    } else if (userStyles) {\n      styles.push(userStyles);\n    }\n    return styles;\n  }\n\n  private _needsShimAdoptedStyleSheets?: boolean;\n\n  /**\n   * Node or ShadowRoot into which element DOM should be rendered. Defaults\n   * to an open shadowRoot.\n   */\n  readonly renderRoot!: Element|DocumentFragment;\n\n  /**\n   * Performs element initialization. By default this calls `createRenderRoot`\n   * to create the element `renderRoot` node and captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() {\n    super.initialize();\n    (this as {renderRoot: Element | DocumentFragment}).renderRoot =\n        this.createRenderRoot();\n    // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n    // element's getRootNode(). While this could be done, we're choosing not to\n    // support this now since it would require different logic around de-duping.\n    if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n      this.adoptStyles();\n    }\n  }\n\n  /**\n   * Returns the node into which the element should render and by default\n   * creates and returns an open shadowRoot. Implement to customize where the\n   * element's DOM is rendered. For example, to render into the element's\n   * childNodes, return `this`.\n   * @returns {Element|DocumentFragment} Returns a node into which to render.\n   */\n  protected createRenderRoot(): Element|ShadowRoot {\n    return this.attachShadow({mode: 'open'});\n  }\n\n  /**\n   * Applies styling to the element shadowRoot using the `static get styles`\n   * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n   * available and will fallback otherwise. When Shadow DOM is polyfilled,\n   * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n   * is available but `adoptedStyleSheets` is not, styles are appended to the\n   * end of the `shadowRoot` to [mimic spec\n   * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n   */\n  protected adoptStyles() {\n    const styles = (this.constructor as typeof LitElement)._styles!;\n    if (styles.length === 0) {\n      return;\n    }\n    // There are three separate cases here based on Shadow DOM support.\n    // (1) shadowRoot polyfilled: use ShadyCSS\n    // (2) shadowRoot.adoptedStyleSheets available: use it.\n    // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n    // rendering\n    if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n      window.ShadyCSS.ScopingShim!.prepareAdoptedCssText(\n          styles.map((s) => s.cssText), this.localName);\n    } else if (supportsAdoptingStyleSheets) {\n      (this.renderRoot as ShadowRoot).adoptedStyleSheets =\n          styles.map((s) => s.styleSheet!);\n    } else {\n      // This must be done after rendering so the actual style insertion is done\n      // in `update`.\n      this._needsShimAdoptedStyleSheets = true;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // Note, first update/render handles styleElement so we only call this if\n    // connected after first update.\n    if (this.hasUpdated && window.ShadyCSS !== undefined) {\n      window.ShadyCSS.styleElement(this);\n    }\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes\n   * and calls `render` to render DOM via lit-html. Setting properties inside\n   * this method will *not* trigger another update.\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(changedProperties: PropertyValues) {\n    super.update(changedProperties);\n    const templateResult = this.render() as unknown;\n    if (templateResult instanceof TemplateResult) {\n      (this.constructor as typeof LitElement)\n          .render(\n              templateResult,\n              this.renderRoot,\n              {scopeName: this.localName, eventContext: this});\n    }\n    // When native Shadow DOM is used but adoptedStyles are not supported,\n    // insert styling after rendering to ensure adoptedStyles have highest\n    // priority.\n    if (this._needsShimAdoptedStyleSheets) {\n      this._needsShimAdoptedStyleSheets = false;\n      (this.constructor as typeof LitElement)._styles!.forEach((s) => {\n        const style = document.createElement('style');\n        style.textContent = s.cssText;\n        this.renderRoot.appendChild(style);\n      });\n    }\n  }\n\n  /**\n   * Invoked on each update to perform rendering tasks. This method must return\n   * a lit-html TemplateResult. Setting properties inside this method will *not*\n   * trigger the element to update.\n   */\n  protected render(): TemplateResult|void {\n  }\n}\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {AttributePart, directive, Part, PropertyPart} from '../lit-html.js';\n\n\nexport interface ClassInfo {\n  readonly [name: string]: string|boolean|number;\n}\n\n/**\n * Stores the ClassInfo object applied to a given AttributePart.\n * Used to unset existing values when a new ClassInfo object is applied.\n */\nconst classMapCache = new WeakMap();\n\n/**\n * A directive that applies CSS classes. This must be used in the `class`\n * attribute and must be the only part used in the attribute. It takes each\n * property in the `classInfo` argument and adds the property name to the\n * element's `classList` if the property value is truthy; if the property value\n * is falsey, the property name is removed from the element's `classList`. For\n * example\n * `{foo: bar}` applies the class `foo` if the value of `bar` is truthy.\n * @param classInfo {ClassInfo}\n */\nexport const classMap = directive((classInfo: ClassInfo) => (part: Part) => {\n  if (!(part instanceof AttributePart) || (part instanceof PropertyPart) ||\n      part.committer.name !== 'class' || part.committer.parts.length > 1) {\n    throw new Error(\n        'The `classMap` directive must be used in the `class` attribute ' +\n        'and must be the only part in the attribute.');\n  }\n\n  const {committer} = part;\n  const {element} = committer;\n\n  // handle static classes\n  if (!classMapCache.has(part)) {\n    element.className = committer.strings.join(' ');\n  }\n\n  const {classList} = element;\n\n  // remove old classes that no longer apply\n  const oldInfo = classMapCache.get(part);\n  for (const name in oldInfo) {\n    if (!(name in classInfo)) {\n      classList.remove(name);\n    }\n  }\n\n  // add new classes\n  for (const name in classInfo) {\n    const value = classInfo[name];\n    if (!oldInfo || value !== oldInfo[name]) {\n      // We explicitly want a loose truthy check here because\n      // it seems more convenient that '' and 0 are skipped.\n      const method = value ? 'add' : 'remove';\n      classList[method](name);\n    }\n  }\n  classMapCache.set(part, classInfo);\n});\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {AttributePart, directive, Part, PropertyPart} from '../lit-html.js';\n\nexport interface StyleInfo {\n  readonly [name: string]: string;\n}\n\n/**\n * Stores the StyleInfo object applied to a given AttributePart.\n * Used to unset existing values when a new StyleInfo object is applied.\n */\nconst styleMapCache = new WeakMap<AttributePart, StyleInfo>();\n\n/**\n * A directive that applies CSS properties to an element.\n *\n * `styleMap` can only be used in the `style` attribute and must be the only\n * expression in the attribute. It takes the property names in the `styleInfo`\n * object and adds the property values as CSS propertes. Property names with\n * dashes (`-`) are assumed to be valid CSS property names and set on the\n * element's style object using `setProperty()`. Names without dashes are\n * assumed to be camelCased JavaScript property names and set on the element's\n * style object using property assignment, allowing the style object to\n * translate JavaScript-style names to CSS property names.\n *\n * For example `styleMap({backgroundColor: 'red', 'border-top': '5px', '--size':\n * '0'})` sets the `background-color`, `border-top` and `--size` properties.\n *\n * @param styleInfo {StyleInfo}\n */\nexport const styleMap = directive((styleInfo: StyleInfo) => (part: Part) => {\n  if (!(part instanceof AttributePart) || (part instanceof PropertyPart) ||\n      part.committer.name !== 'style' || part.committer.parts.length > 1) {\n    throw new Error(\n        'The `styleMap` directive must be used in the style attribute ' +\n        'and must be the only part in the attribute.');\n  }\n\n  const {committer} = part;\n  const {style} = committer.element as HTMLElement;\n\n  // Handle static styles the first time we see a Part\n  if (!styleMapCache.has(part)) {\n    style.cssText = committer.strings.join(' ');\n  }\n\n  // Remove old properties that no longer exist in styleInfo\n  const oldInfo = styleMapCache.get(part);\n  for (const name in oldInfo) {\n    if (!(name in styleInfo)) {\n      if (name.indexOf('-') === -1) {\n        // tslint:disable-next-line:no-any\n        (style as any)[name] = null;\n      } else {\n        style.removeProperty(name);\n      }\n    }\n  }\n\n  // Add or update properties\n  for (const name in styleInfo) {\n    if (name.indexOf('-') === -1) {\n      // tslint:disable-next-line:no-any\n      (style as any)[name] = styleInfo[name];\n    } else {\n      style.setProperty(name, styleInfo[name]);\n    }\n  }\n  styleMapCache.set(part, styleInfo);\n});\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {DirectiveFn} from '../lib/directive.js';\nimport {createMarker, directive, NodePart, Part, removeNodes, reparentNodes} from '../lit-html.js';\n\nexport type KeyFn<T> = (item: T, index: number) => unknown;\nexport type ItemTemplate<T> = (item: T, index: number) => unknown;\n\n// Helper functions for manipulating parts\n// TODO(kschaaf): Refactor into Part API?\nconst createAndInsertPart =\n    (containerPart: NodePart, beforePart?: NodePart): NodePart => {\n      const container = containerPart.startNode.parentNode as Node;\n      const beforeNode = beforePart === undefined ? containerPart.endNode :\n                                                    beforePart.startNode;\n      const startNode = container.insertBefore(createMarker(), beforeNode);\n      container.insertBefore(createMarker(), beforeNode);\n      const newPart = new NodePart(containerPart.options);\n      newPart.insertAfterNode(startNode);\n      return newPart;\n    };\n\nconst updatePart = (part: NodePart, value: unknown) => {\n  part.setValue(value);\n  part.commit();\n  return part;\n};\n\nconst insertPartBefore =\n    (containerPart: NodePart, part: NodePart, ref?: NodePart) => {\n      const container = containerPart.startNode.parentNode as Node;\n      const beforeNode = ref ? ref.startNode : containerPart.endNode;\n      const endNode = part.endNode.nextSibling;\n      if (endNode !== beforeNode) {\n        reparentNodes(container, part.startNode, endNode, beforeNode);\n      }\n    };\n\nconst removePart = (part: NodePart) => {\n  removeNodes(\n      part.startNode.parentNode!, part.startNode, part.endNode.nextSibling);\n};\n\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list: unknown[], start: number, end: number) => {\n  const map = new Map();\n  for (let i = start; i <= end; i++) {\n    map.set(list[i], i);\n  }\n  return map;\n};\n\n// Stores previous ordered list of parts and map of key to index\nconst partListCache = new WeakMap<NodePart, (NodePart | null)[]>();\nconst keyListCache = new WeakMap<NodePart, unknown[]>();\n\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * amd removals.\n *\n * IMPORTANT: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nexport const repeat =\n    directive(\n        <T>(items: Iterable<T>,\n            keyFnOrTemplate: KeyFn<T>|ItemTemplate<T>,\n            template?: ItemTemplate<T>):\n            DirectiveFn => {\n              let keyFn: KeyFn<T>;\n              if (template === undefined) {\n                template = keyFnOrTemplate;\n              } else if (keyFnOrTemplate !== undefined) {\n                keyFn = keyFnOrTemplate as KeyFn<T>;\n              }\n\n              return (containerPart: Part): void => {\n                if (!(containerPart instanceof NodePart)) {\n                  throw new Error('repeat can only be used in text bindings');\n                }\n                // Old part & key lists are retrieved from the last update\n                // (associated with the part for this instance of the directive)\n                const oldParts = partListCache.get(containerPart) || [];\n                const oldKeys = keyListCache.get(containerPart) || [];\n\n                // New part list will be built up as we go (either reused from\n                // old parts or created for new keys in this update). This is\n                // saved in the above cache at the end of the update.\n                const newParts: NodePart[] = [];\n\n                // New value list is eagerly generated from items along with a\n                // parallel array indicating its key.\n                const newValues: unknown[] = [];\n                const newKeys: unknown[] = [];\n                let index = 0;\n                for (const item of items) {\n                  newKeys[index] = keyFn ? keyFn(item, index) : index;\n                  newValues[index] = template !(item, index);\n                  index++;\n                }\n\n                // Maps from key to index for current and previous update; these\n                // are generated lazily only when needed as a performance\n                // optimization, since they are only required for multiple\n                // non-contiguous changes in the list, which are less common.\n                let newKeyToIndexMap!: Map<unknown, number>;\n                let oldKeyToIndexMap!: Map<unknown, number>;\n\n                // Head and tail pointers to old parts and new values\n                let oldHead = 0;\n                let oldTail = oldParts.length - 1;\n                let newHead = 0;\n                let newTail = newValues.length - 1;\n\n                // Overview of O(n) reconciliation algorithm (general approach\n                // based on ideas found in ivi, vue, snabbdom, etc.):\n                //\n                // * We start with the list of old parts and new values (and\n                //   arrays of their respective keys), head/tail pointers into\n                //   each, and we build up the new list of parts by updating\n                //   (and when needed, moving) old parts or creating new ones.\n                //   The initial scenario might look like this (for brevity of\n                //   the diagrams, the numbers in the array reflect keys\n                //   associated with the old parts or new values, although keys\n                //   and parts/values are actually stored in parallel arrays\n                //   indexed using the same head/tail pointers):\n                //\n                //      oldHead v                 v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new\n                //                                      item order\n                //      newHead ^                 ^ newTail\n                //\n                // * Iterate old & new lists from both sides, updating,\n                //   swapping, or removing parts at the head/tail locations\n                //   until neither head nor tail can move.\n                //\n                // * Example below: keys at head pointers match, so update old\n                //   part 0 in-place (no need to move it) and record part 0 in\n                //   the `newParts` list. The last thing we do is advance the\n                //   `oldHead` and `newHead` pointers (will be reflected in the\n                //   next diagram).\n                //\n                //      oldHead v                 v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n                //                                      & newHead\n                //      newHead ^                 ^ newTail\n                //\n                // * Example below: head pointers don't match, but tail\n                //   pointers do, so update part 6 in place (no need to move\n                //   it), and record part 6 in the `newParts` list. Last,\n                //   advance the `oldTail` and `oldHead` pointers.\n                //\n                //         oldHead v              v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldTail\n                //                                      & newTail\n                //         newHead ^              ^ newTail\n                //\n                // * If neither head nor tail match; next check if one of the\n                //   old head/tail items was removed. We first need to generate\n                //   the reverse map of new keys to index (`newKeyToIndexMap`),\n                //   which is done once lazily as a performance optimization,\n                //   since we only hit this case if multiple non-contiguous\n                //   changes were made. Note that for contiguous removal\n                //   anywhere in the list, the head and tails would advance\n                //   from either end and pass each other before we get to this\n                //   case and removals would be handled in the final while loop\n                //   without needing to generate the map.\n                //\n                // * Example below: The key at `oldTail` was removed (no longer\n                //   in the `newKeyToIndexMap`), so remove that part from the\n                //   DOM and advance just the `oldTail` pointer.\n                //\n                //         oldHead v           v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map: remove\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    5 and advance oldTail\n                //         newHead ^           ^ newTail\n                //\n                // * Once head and tail cannot move, any mismatches are due to\n                //   either new or moved items; if a new key is in the previous\n                //   \"old key to old index\" map, move the old part to the new\n                //   location, otherwise create and insert a new part. Note\n                //   that when moving an old part we null its position in the\n                //   oldParts array if it lies between the head and tail so we\n                //   know to skip it when the pointers get there.\n                //\n                // * Example below: neither head nor tail match, and neither\n                //   were removed; so find the `newHead` key in the\n                //   `oldKeyToIndexMap`, and move that old part's DOM into the\n                //   next head position (before `oldParts[oldHead]`). Last,\n                //   null the part in the `oldPart` array since it was\n                //   somewhere in the remaining oldParts still to be scanned\n                //   (between the head and tail pointers) so that we know to\n                //   skip that old part on future iterations.\n                //\n                //         oldHead v        v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck: update & move 2\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    into place and advance\n                //                                      newHead\n                //         newHead ^           ^ newTail\n                //\n                // * Note that for moves/insertions like the one above, a part\n                //   inserted at the head pointer is inserted before the\n                //   current `oldParts[oldHead]`, and a part inserted at the\n                //   tail pointer is inserted before `newParts[newTail+1]`. The\n                //   seeming asymmetry lies in the fact that new parts are\n                //   moved into place outside in, so to the right of the head\n                //   pointer are old parts, and to the right of the tail\n                //   pointer are new parts.\n                //\n                // * We always restart back from the top of the algorithm,\n                //   allowing matching and simple updates in place to\n                //   continue...\n                //\n                // * Example below: the head pointers once again match, so\n                //   simply update part 1 and record it in the `newParts`\n                //   array.  Last, advance both head pointers.\n                //\n                //         oldHead v        v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched: update 1\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n                //                                      & newHead\n                //            newHead ^        ^ newTail\n                //\n                // * As mentioned above, items that were moved as a result of\n                //   being stuck (the final else clause in the code below) are\n                //   marked with null, so we always advance old pointers over\n                //   these so we're comparing the next actual old value on\n                //   either end.\n                //\n                // * Example below: `oldHead` is null (already placed in\n                //   newParts), so advance `oldHead`.\n                //\n                //            oldHead v     v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6] <- old head already used:\n                //   newParts: [0, 2, 1,  ,  ,  , 6]    advance oldHead\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n                //               newHead ^     ^ newTail\n                //\n                // * Note it's not critical to mark old parts as null when they\n                //   are moved from head to tail or tail to head, since they\n                //   will be outside the pointer range and never visited again.\n                //\n                // * Example below: Here the old tail key matches the new head\n                //   key, so the part at the `oldTail` position and move its\n                //   DOM to the new head position (before `oldParts[oldHead]`).\n                //   Last, advance `oldTail` and `newHead` pointers.\n                //\n                //               oldHead v  v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]   head: update & move 4,\n                //                                     advance oldTail & newHead\n                //               newHead ^     ^ newTail\n                //\n                // * Example below: Old and new head keys match, so update the\n                //   old head part in place, and advance the `oldHead` and\n                //   `newHead` pointers.\n                //\n                //               oldHead v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance oldHead &\n                //                                      newHead\n                //                  newHead ^  ^ newTail\n                //\n                // * Once the new or old pointers move past each other then all\n                //   we have left is additions (if old list exhausted) or\n                //   removals (if new list exhausted). Those are handled in the\n                //   final while loops at the end.\n                //\n                // * Example below: `oldHead` exceeded `oldTail`, so we're done\n                //   with the main loop.  Create the remaining part and insert\n                //   it at the new head position, and the update is complete.\n                //\n                //                   (oldHead > oldTail)\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n                //                     newHead ^ newTail\n                //\n                // * Note that the order of the if/else clauses is not\n                //   important to the algorithm, as long as the null checks\n                //   come first (to ensure we're always working on valid old\n                //   parts) and that the final else clause comes last (since\n                //   that's where the expensive moves occur). The order of\n                //   remaining clauses is is just a simple guess at which cases\n                //   will be most common.\n                //\n                // * TODO(kschaaf) Note, we could calculate the longest\n                //   increasing subsequence (LIS) of old items in new position,\n                //   and only move those not in the LIS set. However that costs\n                //   O(nlogn) time and adds a bit more code, and only helps\n                //   make rare types of mutations require fewer moves. The\n                //   above handles removes, adds, reversal, swaps, and single\n                //   moves of contiguous items in linear time, in the minimum\n                //   number of moves. As the number of multiple moves where LIS\n                //   might help approaches a random shuffle, the LIS\n                //   optimization becomes less helpful, so it seems not worth\n                //   the code at this point. Could reconsider if a compelling\n                //   case arises.\n\n                while (oldHead <= oldTail && newHead <= newTail) {\n                  if (oldParts[oldHead] === null) {\n                    // `null` means old part at head has already been used\n                    // below; skip\n                    oldHead++;\n                  } else if (oldParts[oldTail] === null) {\n                    // `null` means old part at tail has already been used\n                    // below; skip\n                    oldTail--;\n                  } else if (oldKeys[oldHead] === newKeys[newHead]) {\n                    // Old head matches new head; update in place\n                    newParts[newHead] =\n                        updatePart(oldParts[oldHead]!, newValues[newHead]);\n                    oldHead++;\n                    newHead++;\n                  } else if (oldKeys[oldTail] === newKeys[newTail]) {\n                    // Old tail matches new tail; update in place\n                    newParts[newTail] =\n                        updatePart(oldParts[oldTail]!, newValues[newTail]);\n                    oldTail--;\n                    newTail--;\n                  } else if (oldKeys[oldHead] === newKeys[newTail]) {\n                    // Old head matches new tail; update and move to new tail\n                    newParts[newTail] =\n                        updatePart(oldParts[oldHead]!, newValues[newTail]);\n                    insertPartBefore(\n                        containerPart,\n                        oldParts[oldHead]!,\n                        newParts[newTail + 1]);\n                    oldHead++;\n                    newTail--;\n                  } else if (oldKeys[oldTail] === newKeys[newHead]) {\n                    // Old tail matches new head; update and move to new head\n                    newParts[newHead] =\n                        updatePart(oldParts[oldTail]!, newValues[newHead]);\n                    insertPartBefore(\n                        containerPart, oldParts[oldTail]!, oldParts[oldHead]!);\n                    oldTail--;\n                    newHead++;\n                  } else {\n                    if (newKeyToIndexMap === undefined) {\n                      // Lazily generate key-to-index maps, used for removals &\n                      // moves below\n                      newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n                      oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n                    }\n                    if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n                      // Old head is no longer in new list; remove\n                      removePart(oldParts[oldHead]!);\n                      oldHead++;\n                    } else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n                      // Old tail is no longer in new list; remove\n                      removePart(oldParts[oldTail]!);\n                      oldTail--;\n                    } else {\n                      // Any mismatches at this point are due to additions or\n                      // moves; see if we have an old part we can reuse and move\n                      // into place\n                      const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n                      const oldPart =\n                          oldIndex !== undefined ? oldParts[oldIndex] : null;\n                      if (oldPart === null) {\n                        // No old part for this value; create a new one and\n                        // insert it\n                        const newPart = createAndInsertPart(\n                            containerPart, oldParts[oldHead]!);\n                        updatePart(newPart, newValues[newHead]);\n                        newParts[newHead] = newPart;\n                      } else {\n                        // Reuse old part\n                        newParts[newHead] =\n                            updatePart(oldPart, newValues[newHead]);\n                        insertPartBefore(\n                            containerPart, oldPart, oldParts[oldHead]!);\n                        // This marks the old part as having been used, so that\n                        // it will be skipped in the first two checks above\n                        oldParts[oldIndex as number] = null;\n                      }\n                      newHead++;\n                    }\n                  }\n                }\n                // Add parts for any remaining new values\n                while (newHead <= newTail) {\n                  // For all remaining additions, we insert before last new\n                  // tail, since old pointers are no longer valid\n                  const newPart =\n                      createAndInsertPart(containerPart, newParts[newTail + 1]);\n                  updatePart(newPart, newValues[newHead]);\n                  newParts[newHead++] = newPart;\n                }\n                // Remove any remaining unused old parts\n                while (oldHead <= oldTail) {\n                  const oldPart = oldParts[oldHead++];\n                  if (oldPart !== null) {\n                    removePart(oldPart);\n                  }\n                }\n                // Save order of new parts for next round\n                partListCache.set(containerPart, newParts);\n                keyListCache.set(containerPart, newKeys);\n              };\n            }) as\n    <T>(items: Iterable<T>,\n        keyFnOrTemplate: KeyFn<T>|ItemTemplate<T>,\n        template?: ItemTemplate<T>) => DirectiveFn;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isPrimitive} from '../lib/parts.js';\nimport {directive, NodePart, Part} from '../lit-html.js';\n\ninterface PreviousValue {\n  readonly value: unknown;\n  readonly fragment: DocumentFragment;\n}\n\n// For each part, remember the value that was last rendered to the part by the\n// unsafeHTML directive, and the DocumentFragment that was last set as a value.\n// The DocumentFragment is used as a unique key to check if the last value\n// rendered to the part was with unsafeHTML. If not, we'll always re-render the\n// value passed to unsafeHTML.\nconst previousValues = new WeakMap<NodePart, PreviousValue>();\n\n/**\n * Renders the result as HTML, rather than text.\n *\n * Note, this is unsafe to use with any user-provided input that hasn't been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\nexport const unsafeHTML = directive((value: unknown) => (part: Part): void => {\n  if (!(part instanceof NodePart)) {\n    throw new Error('unsafeHTML can only be used in text bindings');\n  }\n\n  const previousValue = previousValues.get(part);\n\n  if (previousValue !== undefined && isPrimitive(value) &&\n      value === previousValue.value && part.value === previousValue.fragment) {\n    return;\n  }\n\n  const template = document.createElement('template');\n  template.innerHTML = value as string;  // innerHTML casts to string internally\n  const fragment = document.importNode(template.content, true);\n  part.setValue(fragment);\n  previousValues.set(part, {value, fragment});\n});\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {AttributePart, directive, Part} from '../lit-html.js';\n\n/**\n * For AttributeParts, sets the attribute if the value is defined and removes\n * the attribute if the value is undefined.\n *\n * For other part types, this directive is a no-op.\n */\nexport const ifDefined = directive((value: unknown) => (part: Part) => {\n  if (value === undefined && part instanceof AttributePart) {\n    if (value !== part.value) {\n      const name = part.committer.name;\n      part.committer.element.removeAttribute(name);\n    }\n  } else {\n    part.setValue(value);\n  }\n});\n","/*\nCopyright 2018 Adobe. All rights reserved.\nThis file is licensed to you under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License. You may obtain a copy\nof the License at http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software distributed under\nthe License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\nOF ANY KIND, either express or implied. See the License for the specific language\ngoverning permissions and limitations under the License.\n*/\n\nimport { UpdatingElement } from 'lit-element';\nimport { Reaction } from 'mobx';\n\nconst reaction = Symbol('LitMobxRenderReaction');\nconst cachedRequestUpdate = Symbol('LitMobxRequestUpdate');\nconst cachedPerformUpdate = Symbol('LitMobxPerformUpdate');\n\ntype UpdatingElementConstructor = new (...args: any[]) => UpdatingElement;\n\n/**\n * A class mixin which can be applied to lit-element's\n * [UpdatingElement](https://lit-element.polymer-project.org/api/classes/_lib_updating_element_.updatingelement.html)\n * derived classes. This mixin adds a mobx reaction which tracks the update method of UpdatingElement.\n *\n * Any observables used in the render template of the element will be tracked by a reaction\n * and cause an update of the element upon change.\n *\n * @param constructor the constructor to extend from to add the mobx reaction, must be derived from UpdatingElement.\n */\nexport function MobxReactionUpdate<T extends UpdatingElementConstructor>(\n    constructor: T\n): T {\n    return class MobxReactingElement extends constructor {\n        // NOTE: using a symbol here to avoid potential name collisions in derived classes\n        private [reaction]: Reaction | undefined;\n\n        private [cachedRequestUpdate] = () => this.requestUpdate();\n        private [cachedPerformUpdate] = () => super.performUpdate();\n\n        public connectedCallback(): void {\n            super.connectedCallback();\n            /* istanbul ignore next */\n            const name = this.constructor.name || this.nodeName;\n            this[reaction] = new Reaction(\n                `${name}.update()`,\n                this[cachedRequestUpdate]\n            );\n            if (this.hasUpdated) this.requestUpdate();\n        }\n\n        public disconnectedCallback(): void {\n            super.disconnectedCallback();\n            /* istanbul ignore else */\n            if (this[reaction]) {\n                this[reaction]!.dispose();\n                this[reaction] = undefined;\n            }\n        }\n\n        protected performUpdate(): void {\n            if (this[reaction]) {\n                this[reaction]!.track(this[cachedPerformUpdate]!);\n            } else {\n                super.performUpdate();\n            }\n        }\n    };\n}\n","/*\r\nCopyright 2018 Adobe. All rights reserved.\r\nThis file is licensed to you under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License. You may obtain a copy\r\nof the License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software distributed under\r\nthe License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\r\nOF ANY KIND, either express or implied. See the License for the specific language\r\ngoverning permissions and limitations under the License.\r\n*/\r\n\r\nimport { MobxReactionUpdate } from './lib/mixin.js';\r\nimport { LitElement } from 'lit-element';\r\n\r\nexport * from './lib/mixin.js';\r\n\r\n/**\r\n * A LitElement derived class which uses the MobxReactionUpdate mixin to create a mobx\r\n * reactive implementation of LitElement.\r\n *\r\n * Any observables used in the render template of the element will be tracked by a reaction\r\n * and cause an update of the element upon change.\r\n */\r\nexport class MobxLitElement extends MobxReactionUpdate(LitElement) {}\r\n","const orphanMap = {}\n\nconst resolved = Promise.resolve()\n\nconst orphanResolveQueue = {\n  contexts: new Set(),\n  running: false,\n  add (context) {\n    this.contexts.add(context)\n    if (!this.running) {\n      this.running = true\n      resolved.then(() => {\n        this.contexts.forEach(context => {\n          const orphans = orphanMap[context]\n          orphans.forEach(orphan => {\n            const event = sendContextEvent(orphan, context)\n            if (event.detail.handled) {\n              orphans.delete(orphan)\n            }\n          })\n        })\n        this.contexts.clear()\n        this.running = false\n      })\n    }\n  }\n}\n\nfunction addOrphan (el, name) {\n  const orphans = orphanMap[name] || (orphanMap[name] = new Set())\n  orphans.add(el)\n}\n\nfunction removeOrphan (el, name) {\n  const orphans = orphanMap[name]\n  if (orphans) {\n    orphans.delete(el)\n  }\n}\n\nfunction sendContextEvent (el, name) {\n  const event = new CustomEvent(`context-request-${name}`, {\n    detail: {},\n    bubbles: true,\n    cancelable: true,\n    composed: true\n  })\n  el.dispatchEvent(event)\n  return event\n}\n\nfunction registerProvidedContext (el, name, providedContexts) {\n  const observerMap = el.__wcContextObserverMap || (el.__wcContextObserverMap = {})\n  const observers = observerMap[name] || (observerMap[name] = [])\n  const orphans = orphanMap[name]\n  el.addEventListener(`context-request-${name}`, (event) => {\n    event.stopPropagation()\n    const targetEl = event.target\n    const value = providedContexts[name]\n    const context = targetEl.context\n    const oldValue = context[name]\n    if (oldValue !== value) {\n      context[name] = value\n      if (targetEl.contextChangedCallback) {\n        targetEl.contextChangedCallback(name, oldValue, value)\n      }\n    }\n    observers.push(targetEl)\n    event.detail.handled = true\n  })\n  if (orphans && orphans.size) {\n    orphanResolveQueue.add(name)\n  }\n}\n\nfunction observeContext (el, name) {\n  const event = sendContextEvent(el, name)\n  if (!event.detail.handled) {\n    addOrphan(el, name)\n  }\n}\n\nfunction unobserveContext (el, name) {\n  removeOrphan(el, name)\n}\n\nfunction notifyContextChange (el, name, value) {\n  const observerMap = el.__wcContextObserverMap\n  const observers = observerMap && observerMap[name]\n  if (observers) {\n    observers.forEach(observer => {\n      const context = observer.context\n      const oldValue = context[name]\n      if (oldValue !== value) {\n        context[name] = value\n        if (observer.contextChangedCallback) {\n          observer.contextChangedCallback(name, oldValue, value)\n        }\n      }\n    })\n  }\n}\n\nexport {registerProvidedContext, observeContext, unobserveContext, notifyContextChange}\n","\nimport { observeContext, unobserveContext, registerProvidedContext, notifyContextChange } from './core.js'\n\nconst initializedElements = new WeakSet()\n\nconst withContext = (Base) => {\n  return class extends Base {    \n\n    get context () {\n      return this.__wcContext || (this.__wcContext = {})\n    }\n\n    connectedCallback () {\n      super.connectedCallback()\n      const observedContexts = this.constructor.observedContexts\n      if (observedContexts) {\n        observedContexts.forEach(context => observeContext(this, context))\n      }\n\n      if (!initializedElements.has(this)) {\n        const providedContextConfigs = this.constructor.providedContexts\n        if (providedContextConfigs) {\n          const providedContexts = this.__wcProvidedContexts || (this.__wcProvidedContexts = {})\n          const mappedProps = this.__wcMappedProps || (this.__wcMappedProps = {})\n          Object.keys(providedContextConfigs).forEach(name => {\n            const config = providedContextConfigs[name]\n            const property = typeof config === 'string' ? config : config.property\n            providedContexts[name] = property ? this[property] : config.value\n            if (property) {\n              mappedProps[name] = property\n            }\n            registerProvidedContext(this, name, providedContexts)\n          })\n        }\n        initializedElements.add(this)\n      }\n    }\n\n    disconnectedCallback () {\n      super.disconnectedCallback()\n      const observedContexts = this.constructor.observedContexts\n      if (observedContexts) {\n        observedContexts.forEach(context => unobserveContext(this, context))\n      }\n    }\n\n    shouldUpdate(changedProperties) {\n      const shouldChange = super.shouldUpdate(changedProperties)\n      const mappedProps = this.__wcMappedProps\n      if (mappedProps) {\n        const providedContexts = this.__wcProvidedContexts || (this.__wcProvidedContexts = {})\n        Object.keys(mappedProps).forEach(contextName => {\n          const property = mappedProps[contextName]\n          if (changedProperties.has(property)) {\n            const value = this[property]\n            providedContexts[contextName] = value\n            notifyContextChange(this, contextName, value)            \n          }\n        })        \n      }      \n      return shouldChange\n    }\n  }\n}\n\nexport { withContext }\n","import { LitElement, html } from 'lit-element'\r\nimport { classMap } from 'lit-html/directives/class-map'\r\nimport { styleMap } from 'lit-html/directives/style-map'\r\nimport { repeat } from 'lit-html/directives/repeat'\r\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html'\r\nimport { ifDefined } from 'lit-html/directives/if-defined'\r\nimport { MobxReactionUpdate } from '@adobe/lit-mobx'\r\nimport { withContext } from 'wc-context/lit-element'\r\n\r\nclass Component extends withContext(MobxReactionUpdate(LitElement)) {\r\n  createRenderRoot() {\r\n    return this\r\n  }\r\n}\r\n\r\nexport { Component, html, styleMap, classMap, repeat, unsafeHTML, ifDefined }\r\n","import { html } from './base'\r\nimport { render } from 'lit-html'\r\n\r\nfunction makeTemplate(content) {\r\n  const templateContent = `return html\\`${content}\\`;`\r\n  // You may want to accept more arguments here for your data model,\r\n  // or call with Function#call to set `this`:\r\n  return new Function('html', templateContent).bind(undefined, html)\r\n}\r\n\r\nconst PrivateRoute = ({ currentUser, component, url }) => {\r\n  return html`\r\n    <stencil-route\r\n      url=${url}\r\n      .routeRender=${function({ match }) {\r\n        if (currentUser) {\r\n          const template = makeTemplate(`<${component}></${component}>`)\r\n          render(template(), this.el)\r\n        } else {\r\n          render(\r\n            match.handled\r\n              ? html``\r\n              : html`\r\n                  <stencil-router-redirect url=\"/\"></stencil-router-redirect>\r\n                `,\r\n            this.el\r\n          )\r\n          // add a flag to remove the redirect element the second time is called\r\n          // (when is redirected the route component is not removed)\r\n          match.handled = true\r\n        }\r\n      }}\r\n    ></stencil-route>\r\n  `\r\n  return\r\n}\r\n\r\nexport default PrivateRoute\r\n","import { Component, html, ifDefined } from './base'\r\n\r\nconst LoggedOutView = props => {\r\n  if (!props.currentUser) {\r\n    return html`\r\n      <ul class=\"nav navbar-nav pull-xs-right\">\r\n        <li class=\"nav-item\">\r\n          <stencil-route-link url=\"/\" anchor-class=\"nav-link\"\r\n            >Home</stencil-route-link\r\n          >\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <stencil-route-link url=\"/login\" anchor-class=\"nav-link\"\r\n            >Sign in</stencil-route-link\r\n          >\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <stencil-route-link url=\"/register\" anchor-class=\"nav-link\"\r\n            >Sign up</stencil-route-link\r\n          >\r\n        </li>\r\n      </ul>\r\n    `\r\n  }\r\n  return null\r\n}\r\n\r\nconst LoggedInView = props => {\r\n  if (props.currentUser) {\r\n    return html`\r\n      <ul class=\"nav navbar-nav pull-xs-right\">\r\n        <li class=\"nav-item\">\r\n          <stencil-route-link url=\"/\" anchor-class=\"nav-link\"\r\n            >Home</stencil-route-link\r\n          >\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <stencil-route-link url=\"/editor\" anchor-class=\"nav-link\"\r\n            ><i class=\"ion-compose\"></i> New Post</stencil-route-link\r\n          >\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <stencil-route-link url=\"/settings\" anchor-class=\"nav-link\"\r\n            ><i class=\"ion-gear-a\"></i> Settings</stencil-route-link\r\n          >\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <stencil-route-link\r\n            url=${`/@${props.currentUser.username}`}\r\n            anchor-class=\"nav-link\"\r\n            ><img\r\n              src=${ifDefined(props.currentUser.image || undefined)}\r\n              class=\"user-pic\"\r\n              alt=\"\"\r\n            />${props.currentUser.username}</stencil-route-link\r\n          >\r\n        </li>\r\n      </ul>\r\n    `\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nclass AppHeader extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  render() {\r\n    const { commonStore, userStore } = this.context.stores\r\n    return html`\r\n      <nav class=\"navbar navbar-light\">\r\n        <div class=\"container\">\r\n          <stencil-route-link url=\"/\" class=\"navbar-brand\"\r\n            >${commonStore.appName.toLowerCase()}</stencil-route-link\r\n          >\r\n          ${LoggedOutView({ currentUser: userStore.currentUser })}\r\n          ${LoggedInView({ currentUser: userStore.currentUser })}\r\n        </div>\r\n      </nav>\r\n    `\r\n  }\r\n}\r\n\r\ncustomElements.define('app-header', AppHeader)\r\n","import { Component, html } from './base'\r\n\r\nclass ListErrors extends Component {\r\n  static properties = {\r\n    errors: {}\r\n  }\r\n  render() {\r\n    const errors = this.errors\r\n    if (errors) {\r\n      return html`\r\n        <ul class=\"error-messages\">\r\n          ${Object.keys(errors).map(key => {\r\n            return html`\r\n              <li>${key} ${errors[key]}</li>\r\n            `\r\n          })}\r\n        </ul>\r\n      `\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n}\r\n\r\ncustomElements.define('list-errors', ListErrors)\r\n","import 'components/list-errors'\r\nimport { Component, html } from 'components/base'\r\nimport { injectHistory } from '@stencil/router/dist/cjs/index.cjs'\r\n\r\nclass LoginPage extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback()\r\n    this.context.stores.authStore.reset()\r\n  }\r\n\r\n  handleEmailChange = e => {\r\n    this.context.stores.authStore.setEmail(e.target.value)\r\n  }\r\n\r\n  handlePasswordChange = e => {\r\n    this.context.stores.authStore.setPassword(e.target.value)\r\n  }\r\n\r\n  handleSubmitForm = e => {\r\n    e.preventDefault()\r\n    this.context.stores.authStore.login().then(() => this.history.replace('/'))\r\n  }\r\n\r\n  render() {\r\n    const { values, errors, inProgress } = this.context.stores.authStore\r\n\r\n    return html`\r\n      <div class=\"auth-page\">\r\n        <div class=\"container page\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6 offset-md-3 col-xs-12\">\r\n              <h1 class=\"text-xs-center\">Sign In</h1>\r\n              <p class=\"text-xs-center\">\r\n                <stencil-route-link url=\"register\"\r\n                  >Need an account?</stencil-route-link\r\n                >\r\n              </p>\r\n              <list-errors .errors=${errors}></list-errors>\r\n              <form @submit=${this.handleSubmitForm}>\r\n                <fieldset>\r\n                  <fieldset class=\"form-group\">\r\n                    <input\r\n                      class=\"form-control form-control-lg\"\r\n                      type=\"email\"\r\n                      placeholder=\"Email\"\r\n                      .value=${values.email}\r\n                      @change=${this.handleEmailChange}\r\n                    />\r\n                  </fieldset>\r\n                  <fieldset class=\"form-group\">\r\n                    <input\r\n                      class=\"form-control form-control-lg\"\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                      .value=${values.password}\r\n                      @change=${this.handlePasswordChange}\r\n                    />\r\n                  </fieldset>\r\n                  <button\r\n                    class=\"btn btn-lg btn-primary pull-xs-right\"\r\n                    type=\"submit\"\r\n                    ?disabled=${inProgress}\r\n                  >\r\n                    Sign in\r\n                  </button>\r\n                </fieldset>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\ninjectHistory(LoginPage)\r\n\r\ncustomElements.define('login-page', LoginPage)\r\n","import { html } from 'lit-html'\r\n\r\nconst Banner = ({ appName, token }) => {\r\n  if (token) {\r\n    return null\r\n  }\r\n  return html`\r\n    <div class=\"banner\">\r\n      <div class=\"container\">\r\n        <h1 class=\"logo-font\">${appName.toLowerCase()}</h1>\r\n        <p>A place to share your knowledge.</p>\r\n      </div>\r\n    </div>\r\n  `\r\n}\r\n\r\nexport default Banner\r\n","import { Component, html, styleMap } from './base'\r\n\r\nconst style = {\r\n  borderRadius: '50%',\r\n  width: '40px',\r\n  height: '40px',\r\n  margin: '90px auto',\r\n  position: 'relative',\r\n  borderTop: '3px solid rgba(0, 0, 0, 0.1)',\r\n  borderRight: '3px solid rgba(0, 0, 0, 0.1)',\r\n  borderBottom: '3px solid rgba(0, 0, 0, 0.1)',\r\n  borderLeft: '3px solid #818a91',\r\n  transform: 'translateZ(0)',\r\n  animation: 'loading-spinner 0.5s infinite linear'\r\n}\r\n\r\nclass LoadingSpinner extends Component {\r\n  render() {\r\n    return html`\r\n      <div class=\"loading-spinner\" style=${styleMap(style)}>\r\n        <style>\r\n          @keyframes loading-spinner {\r\n            0% {\r\n              transform: rotate(0deg);\r\n            }\r\n            100% {\r\n              transform: rotate(360deg);\r\n            }\r\n          }\r\n        </style>\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\ncustomElements.define('loading-spinner', LoadingSpinner)\r\n","import '../../components/loading-spinner'\r\nimport { html } from 'lit-html'\r\n\r\nconst Tags = props => {\r\n  const tags = props.tags\r\n  if (tags) {\r\n    return html`\r\n      <div class=\"tag-list\">\r\n        ${tags.map(tag => {\r\n          return html`\r\n            <stencil-route-link\r\n              url=\"/?tab=tag&tag=${tag}\"\r\n              anchor-class=\"tag-default tag-pill\"\r\n              >${tag}</stencil-route-link\r\n            >\r\n          `\r\n        })}\r\n      </div>\r\n    `\r\n  } else {\r\n    return html`\r\n      <loading-spinner></loading-spinner>\r\n    `\r\n  }\r\n}\r\n\r\nexport default Tags\r\n","import { html } from './base'\r\n\r\nconst ListPagination = props => {\r\n  if (props.totalPagesCount < 2) {\r\n    return null\r\n  }\r\n\r\n  const range = []\r\n  for (let i = 0; i < props.totalPagesCount; ++i) {\r\n    range.push(i)\r\n  }\r\n\r\n  return html`\r\n    <nav>\r\n      <ul class=\"pagination\">\r\n        ${range.map(v => {\r\n          const isCurrent = v === props.currentPage\r\n\r\n          const onClick = ev => {\r\n            ev.preventDefault()\r\n            props.onSetPage(v)\r\n          }\r\n\r\n          return html`\r\n            <li\r\n              class=${isCurrent ? 'page-item active' : 'page-item'}\r\n              @click=${onClick}\r\n              key=${v.toString()}\r\n            >\r\n              <a class=\"page-link\" href=\"\">${v + 1}</a>\r\n            </li>\r\n          `\r\n        })}\r\n      </ul>\r\n    </nav>\r\n  `\r\n}\r\n\r\nexport default ListPagination\r\n","import { Component, html } from './base'\r\n\r\nconst FAVORITED_CLASS = 'btn btn-sm btn-primary'\r\nconst NOT_FAVORITED_CLASS = 'btn btn-sm btn-outline-primary'\r\n\r\nclass ArticlePreview extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  static properties = {\r\n    article: { type: Object }\r\n  }\r\n\r\n  handleClickFavorite = ev => {\r\n    ev.preventDefault()\r\n    const { article } = this\r\n    const { articlesStore } = this.context.stores\r\n    if (article.favorited) {\r\n      articlesStore.unmakeFavorite(article.slug)\r\n    } else {\r\n      articlesStore.makeFavorite(article.slug)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { article } = this\r\n    const favoriteButtonClass = article.favorited\r\n      ? FAVORITED_CLASS\r\n      : NOT_FAVORITED_CLASS\r\n\r\n    return html`\r\n      <div class=\"article-preview\">\r\n        <div class=\"article-meta\">\r\n          <stencil-route-link url=${`/@${article.author.username}`}\r\n            ><img src=${article.author.image} alt=\"\"\r\n          /></stencil-route-link>\r\n          <div class=\"info\">\r\n            <stencil-route-link\r\n              anchor-class=\"author\"\r\n              url=${`/@${article.author.username}`}\r\n              >${article.author.username}</stencil-route-link\r\n            ><span class=\"date\"\r\n              >${new Date(article.createdAt).toDateString()}</span\r\n            >\r\n          </div>\r\n          <div class=\"pull-xs-right\">\r\n            <button\r\n              class=${favoriteButtonClass}\r\n              @click=${this.handleClickFavorite}\r\n            >\r\n              <i class=\"ion-heart\"></i> ${article.favoritesCount}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <stencil-route-link\r\n          url=${`/article/${article.slug}`}\r\n          anchor-class=\"preview-link\"\r\n          ><h1>${article.title}</h1>\r\n          <p>${article.description}</p>\r\n          <span>Read more...</span>\r\n          <ul class=\"tag-list\">\r\n            ${article.tagList.map(tag => {\r\n              return html`\r\n                <li class=\"tag-default tag-pill tag-outline\" key=${tag}>\r\n                  ${tag}\r\n                </li>\r\n              `\r\n            })}\r\n          </ul></stencil-route-link\r\n        >\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\ncustomElements.define('article-preview', ArticlePreview)\r\n","import ListPagination from './ListPagination'\r\nimport './article-preview'\r\nimport './loading-spinner'\r\nimport { html, repeat } from './base'\r\n\r\nconst ArticleList = ({\r\n  onSetPage,\r\n  totalPagesCount,\r\n  currentPage,\r\n  articles,\r\n  loading\r\n}) => {\r\n  if (loading && articles.length === 0) {\r\n    return html`\r\n      <loading-spinner></loading-spinner>\r\n    `\r\n  }\r\n\r\n  if (articles.length === 0) {\r\n    return html`\r\n      <div class=\"article-preview\">No articles are here... yet.</div>\r\n    `\r\n  }\r\n\r\n  return html`\r\n    <div>\r\n      ${repeat(\r\n        articles,\r\n        article => article.slug,\r\n        article => html`\r\n          <article-preview .article=${article}></article-preview>\r\n        `\r\n      )}\r\n      ${ListPagination({ onSetPage, totalPagesCount, currentPage })}\r\n    </div>\r\n  `\r\n}\r\n\r\nexport default ArticleList\r\n","import ArticleList from '../../components/ArticleList'\r\nimport { parse as qsParse } from 'query-string'\r\nimport { Component, html } from '../../components/base'\r\nimport { injectHistory } from '@stencil/router/dist/cjs/index.cjs'\r\n\r\nconst YourFeedTab = ({ currentUser, tab }) => {\r\n  if (currentUser) {\r\n    return html`\r\n      <li class=\"nav-item\">\r\n        <stencil-route-link\r\n          anchor-class=${`nav-link ${tab === 'feed' ? 'active' : ''}`}\r\n          url-match=\"/xxxxx\"\r\n          url=\"/?tab=feed\"\r\n          >Your Feed</stencil-route-link\r\n        >\r\n      </li>\r\n    `\r\n  }\r\n  return null\r\n}\r\n\r\nconst GlobalFeedTab = ({ tab }) => {\r\n  return html`\r\n    <li class=\"nav-item\">\r\n      <stencil-route-link\r\n        anchor-class=${`nav-link ${tab === 'all' ? 'active' : ''}`}\r\n        url-match=\"/xxxxx\"\r\n        url=\"/?tab=all\"\r\n        >Global Feed</stencil-route-link\r\n      >\r\n    </li>\r\n  `\r\n}\r\n\r\nconst TagFilterTab = props => {\r\n  if (!props.tag) {\r\n    return null\r\n  }\r\n\r\n  return html`\r\n    <li class=\"nav-item\">\r\n      <a href=\"\" class=\"nav-link active\"\r\n        ><i class=\"ion-pound\"></i> ${props.tag}</a\r\n      >\r\n    </li>\r\n  `\r\n}\r\n\r\nclass MainView extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  static properties = {\r\n    search: { type: String }\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback()\r\n    this.context.stores.articlesStore.setPredicate(this.getPredicate())\r\n    this.context.stores.articlesStore.loadArticles()\r\n  }\r\n\r\n  shouldUpdate(changedProperties) {\r\n    if (changedProperties.has('search')) {\r\n      if (\r\n        this.getTab() !== this.getTab(changedProperties.get('search')) ||\r\n        this.getTag() !== this.getTag(changedProperties.get('search'))\r\n      ) {\r\n        this.context.stores.articlesStore.setPredicate(this.getPredicate())\r\n        this.context.stores.articlesStore.loadArticles()\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  getTag(search = this.search) {\r\n    return qsParse(search).tag || ''\r\n  }\r\n\r\n  getTab(search = this.search) {\r\n    return qsParse(search).tab || 'all'\r\n  }\r\n\r\n  getPredicate(search = this.search) {\r\n    switch (this.getTab(search)) {\r\n      case 'feed':\r\n        return { myFeed: true }\r\n      case 'tag':\r\n        return { tag: qsParse(search).tag }\r\n      default:\r\n        return {}\r\n    }\r\n  }\r\n\r\n  handleTabChange = tab => {\r\n    if (this.location.query.tab === tab) return\r\n    this.history.push({ ...this.location, query: { tab } })\r\n  }\r\n\r\n  handleSetPage = page => {\r\n    this.context.stores.articlesStore.setPage(page)\r\n    this.context.stores.articlesStore.loadArticles()\r\n  }\r\n\r\n  render() {\r\n    const { currentUser } = this.context.stores.userStore\r\n    const {\r\n      articles,\r\n      isLoading,\r\n      page,\r\n      totalPagesCount\r\n    } = this.context.stores.articlesStore\r\n\r\n    const tab = this.getTab()\r\n\r\n    return html`\r\n      <div>\r\n        <div class=\"feed-toggle\">\r\n          <ul class=\"nav nav-pills outline-active\">\r\n            ${YourFeedTab({ currentUser, tab })} ${GlobalFeedTab({ tab })}\r\n            ${TagFilterTab({ tag: qsParse(this.search).tag })}\r\n          </ul>\r\n        </div>\r\n        ${ArticleList({\r\n          articles,\r\n          totalPagesCount,\r\n          loading: isLoading,\r\n          currentPage: page,\r\n          onSetPage: this.handleSetPage\r\n        })}\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\ninjectHistory(MainView)\r\n\r\ncustomElements.define('home-main-view', MainView)\r\n","import { Component, html } from '../../components/base'\r\nimport Banner from './Banner'\r\nimport Tags from './Tags'\r\nimport './home-main-view'\r\n\r\nclass HomePage extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  static properties = {\r\n    search: { type: String }\r\n  }\r\n\r\n  set match(value) {\r\n    // listen to match because location is set even when element is being removed by the router\r\n    this.search = this.history.location.search\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback()\r\n    this.context.stores.commonStore.loadTags()\r\n  }\r\n\r\n  render() {\r\n    const { tags, token, appName } = this.context.stores.commonStore\r\n    return html`\r\n      <div class=\"home-page\">\r\n        ${Banner({ token: token, appName: appName })}\r\n        <div class=\"container page\">\r\n          <div class=\"row\">\r\n            <home-main-view\r\n              class=\"col-md-9\"\r\n              search=${this.search}\r\n            ></home-main-view>\r\n            <div class=\"col-md-3\">\r\n              <div class=\"sidebar\">\r\n                <p>Popular Tags</p>\r\n                ${Tags({ tags })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\ncustomElements.define('home-page', HomePage)\r\n","import 'components/list-errors'\r\nimport { Component, html } from 'components/base'\r\n\r\nclass RegisterPage extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback()\r\n    this.context.stores.authStore.reset()\r\n  }\r\n\r\n  handleUsernameChange = e =>\r\n    this.context.stores.authStore.setUsername(e.target.value)\r\n  handleEmailChange = e =>\r\n    this.context.stores.authStore.setEmail(e.target.value)\r\n  handlePasswordChange = e =>\r\n    this.context.stores.authStore.setPassword(e.target.value)\r\n  handleSubmitForm = e => {\r\n    e.preventDefault()\r\n    this.context.stores.authStore\r\n      .register()\r\n      .then(() => this.props.history.replace('/'))\r\n  }\r\n\r\n  render() {\r\n    const { values, errors, inProgress } = this.context.stores.authStore\r\n\r\n    return html`\r\n      <div class=\"auth-page\">\r\n        <div class=\"container page\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6 offset-md-3 col-xs-12\">\r\n              <h1 class=\"text-xs-center\">Sign Up</h1>\r\n              <p class=\"text-xs-center\">\r\n                <stencil-route-link url=\"login\"\r\n                  >Have an account?</stencil-route-link\r\n                >\r\n              </p>\r\n              <list-errors .errors=${errors}></list-errors>\r\n              <form @submit=${this.handleSubmitForm}>\r\n                <fieldset>\r\n                  <fieldset class=\"form-group\">\r\n                    <input\r\n                      class=\"form-control form-control-lg\"\r\n                      type=\"text\"\r\n                      placeholder=\"Username\"\r\n                      .value=${values.username}\r\n                      @change=${this.handleUsernameChange}\r\n                    />\r\n                  </fieldset>\r\n                  <fieldset class=\"form-group\">\r\n                    <input\r\n                      class=\"form-control form-control-lg\"\r\n                      type=\"email\"\r\n                      placeholder=\"Email\"\r\n                      .value=${values.email}\r\n                      @change=${this.handleEmailChange}\r\n                    />\r\n                  </fieldset>\r\n                  <fieldset class=\"form-group\">\r\n                    <input\r\n                      class=\"form-control form-control-lg\"\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                      .value=${values.password}\r\n                      @change=${this.handlePasswordChange}\r\n                    />\r\n                  </fieldset>\r\n                  <button\r\n                    class=\"btn btn-lg btn-primary pull-xs-right\"\r\n                    type=\"submit\"\r\n                    ?disabled=${inProgress}\r\n                  >\r\n                    Sign in\r\n                  </button>\r\n                </fieldset>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\ncustomElements.define('register-page', RegisterPage)\r\n","import { styleMap, html, Component } from './base'\r\n\r\nconst wrapperStyle = {\r\n  display: 'flex',\r\n  justifyContent: 'center'\r\n}\r\n\r\nconst errorStyle = {\r\n  display: 'inline-block',\r\n  margin: '20px auto',\r\n  borderRadius: '4px',\r\n  padding: '8px 15px',\r\n  color: 'rgb(240, 45, 45)',\r\n  fontWeight: 'bold',\r\n  backgroundColor: 'rgba(240, 45, 45, 0.1)'\r\n}\r\n\r\nexport default class RedError extends Component {\r\n  static properties = {\r\n    message: { type: String }\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <div style=${styleMap(wrapperStyle)}>\r\n        <div style=\"${styleMap(errorStyle)}\">${this.message}</div>\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\ncustomElements.define('red-error', RedError)\r\n","import { html } from 'lit-html'\r\n\r\nconst ArticleActions = props => {\r\n  const article = props.article\r\n  const handleDelete = () => props.onDelete(article.slug)\r\n\r\n  if (props.canModify) {\r\n    return html`\r\n      <span\r\n        ><stencil-route-link\r\n          url=${`/editor/${article.slug}`}\r\n          class=\"btn btn-outline-secondary btn-sm\"\r\n          ><i class=\"ion-edit\"></i> Edit Article</stencil-route-link\r\n        ><button class=\"btn btn-outline-danger btn-sm\" @click=${handleDelete}>\r\n          <i class=\"ion-trash-a\"></i> Delete Article\r\n        </button></span\r\n      >\r\n    `\r\n  }\r\n\r\n  return html`\r\n    <span></span>\r\n  `\r\n}\r\n\r\nexport default ArticleActions\r\n","import ArticleActions from './ArticleActions'\r\nimport { html } from 'lit-html'\r\n\r\nconst ArticleMeta = ({ article, canModify, onDelete }) => {\r\n  return html`\r\n    <div class=\"article-meta\">\r\n      <stencil-route-link to=${`/@${article.author.username}`}\r\n        ><img src=${article.author.image} alt=\"\"\r\n      /></stencil-route-link>\r\n      <div class=\"info\">\r\n        <stencil-route-link to=${`/@${article.author.username}`} class=\"author\"\r\n          >${article.author.username}</stencil-route-link\r\n        ><span class=\"date\">${new Date(article.createdAt).toDateString()}</span>\r\n      </div>\r\n      ${ArticleActions({\r\n        article,\r\n        canModify,\r\n        onDelete\r\n      })}\r\n    </div>\r\n  `\r\n}\r\n\r\nexport default ArticleMeta\r\n","import { Component, html, ifDefined } from 'components/base'\r\n\r\nclass CommentInput extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  static properties = {\r\n    body: { type: String },\r\n    currentUser: {}\r\n  }\r\n  constructor() {\r\n    super()\r\n    this.body = ''\r\n\r\n    this.handleBodyChange = ev => {\r\n      this.body = ev.target.value\r\n    }\r\n\r\n    this.createComment = ev => {\r\n      ev.preventDefault()\r\n      this.context.stores.commentsStore\r\n        .createComment({ body: this.body })\r\n        .then(() => (this.body = ''))\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isCreatingComment } = this.context.stores.commentsStore\r\n    return html`\r\n      <form class=\"card comment-form\" @submit=${this.createComment}>\r\n        <div class=\"card-block\">\r\n          <textarea\r\n            class=\"form-control\"\r\n            placeholder=\"Write a comment...\"\r\n            .value=${this.body}\r\n            ?disabled=${isCreatingComment}\r\n            @change=${this.handleBodyChange}\r\n            rows=\"3\"\r\n          ></textarea>\r\n        </div>\r\n        <div class=\"card-footer\">\r\n          <img\r\n            src=${ifDefined(this.currentUser.image || undefined)}\r\n            class=\"comment-author-img\"\r\n            alt=\"\"\r\n          /><button class=\"btn btn-sm btn-primary\" type=\"submit\">\r\n            Post Comment\r\n          </button>\r\n        </div>\r\n      </form>\r\n    `\r\n  }\r\n}\r\n\r\ncustomElements.define('comment-input', CommentInput)\r\n","import { html } from 'lit-html'\r\n\r\nconst DeleteButton = props => {\r\n  const handleClick = () => props.onDelete(props.commentId)\r\n\r\n  if (props.show) {\r\n    return html`\r\n      <span class=\"mod-options\"\r\n        ><i class=\"ion-trash-a\" @click=${handleClick}></i\r\n      ></span>\r\n    `\r\n  }\r\n  return null\r\n}\r\n\r\nexport default DeleteButton\r\n","import DeleteButton from './DeleteButton'\r\nimport { html } from 'lit-html'\r\nimport { ifDefined } from 'components/base'\r\n\r\nconst Comment = props => {\r\n  const comment = props.comment\r\n  const show =\r\n    props.currentUser && props.currentUser.username === comment.author.username\r\n  return html`\r\n    <div class=\"card\">\r\n      <div class=\"card-block\"><p class=\"card-text\">${comment.body}</p></div>\r\n      <div class=\"card-footer\">\r\n        <stencil-route-link\r\n          url=${`/@${comment.author.username}`}\r\n          class=\"comment-author\"\r\n          ><img\r\n            src=${ifDefined(comment.author.image || undefined)}\r\n            class=\"comment-author-img\"\r\n            alt=\"\"\r\n        /></stencil-route-link>\r\n        <stencil-route-link\r\n          url=${`/@${comment.author.username}`}\r\n          class=\"comment-author\"\r\n          >${comment.author.username}</stencil-route-link\r\n        ><span class=\"date-posted\"\r\n          >${new Date(comment.createdAt).toDateString()}</span\r\n        >\r\n        ${DeleteButton({\r\n          show,\r\n          slug: props.slug,\r\n          commentId: comment.id,\r\n          onDelete: props.onDelete\r\n        })}\r\n      </div>\r\n    </div>\r\n  `\r\n}\r\n\r\nexport default Comment\r\n","import Comment from './Comment'\r\nimport { html } from 'lit-html'\r\nimport { repeat } from 'components/base'\r\n\r\nconst CommentList = props => {\r\n  const { currentUser, onDelete, slug } = props\r\n  return html`\r\n    <div>\r\n      ${repeat(\r\n        props.comments,\r\n        comment => comment.id,\r\n        comment => Comment({ comment, currentUser, onDelete, slug })\r\n      )}\r\n    </div>\r\n  `\r\n}\r\n\r\nexport default CommentList\r\n","import './comment-input'\r\nimport CommentList from './CommentList'\r\nimport 'components/list-errors'\r\nimport { html } from 'lit-html'\r\n\r\nconst CommentContainer = props => {\r\n  if (props.currentUser) {\r\n    return html`\r\n      <div class=\"col-xs-12 col-md-8 offset-md-2\">\r\n        <div>\r\n          <list-errors .errors=${props.errors}></list-errors>\r\n          <comment-input\r\n            .currentUser=${props.currentUser}\r\n            slug=${props.slug}\r\n          ></comment-input>\r\n        </div>\r\n        ${CommentList(props)}\r\n      </div>\r\n    `\r\n  } else {\r\n    return html`\r\n      <div class=\"col-xs-12 col-md-8 offset-md-2\">\r\n        <p>\r\n          <stencil-route-link url=\"/login\">Sign in</stencil-route-link> or\r\n          <stencil-route-link url=\"/register\">sign up</stencil-route-link> to\r\n          add comments on this article.\r\n        </p>\r\n        ${CommentList(props)}\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\nexport default CommentContainer\r\n","import marked from 'marked'\r\n\r\nimport 'components/red-error'\r\nimport ArticleMeta from './ArticleMeta'\r\nimport CommentContainer from './CommentContainer'\r\nimport { Component, unsafeHTML, html } from 'components/base'\r\nimport { injectHistory } from '@stencil/router/dist/cjs/index.cjs'\r\n\r\nclass ArticlePage extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  static properties = {\r\n    match: {}\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback()\r\n    const slug = this.match.params.id\r\n    this.context.stores.articlesStore.loadArticle(slug, { acceptCached: true })\r\n    this.context.stores.commentsStore.setArticleSlug(slug)\r\n    this.context.stores.commentsStore.loadComments()\r\n  }\r\n\r\n  handleDeleteArticle = slug => {\r\n    this.context.stores.articlesStore\r\n      .deleteArticle(slug)\r\n      .then(() => this.history.replace('/'))\r\n  }\r\n\r\n  handleDeleteComment = id => {\r\n    this.context.stores.commentsStore.deleteComment(id)\r\n  }\r\n\r\n  render() {\r\n    const slug = this.match.params.id\r\n    const { currentUser } = this.context.stores.userStore\r\n    const { comments, commentErrors } = this.context.stores.commentsStore\r\n    const article = this.context.stores.articlesStore.getArticle(slug)\r\n\r\n    if (!article)\r\n      return html`\r\n        <red-error message=\"Can't load article\"></red-error>\r\n      `\r\n\r\n    const markup = marked(article.body, { sanitize: true })\r\n    const canModify =\r\n      currentUser && currentUser.username === article.author.username\r\n    return html`\r\n      <div class=\"article-page\">\r\n        <div class=\"banner\">\r\n          <div class=\"container\">\r\n            <h1>${article.title}</h1>\r\n            ${ArticleMeta({\r\n              article,\r\n              canModify,\r\n              onDelete: this.handleDeleteArticle\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div class=\"container page\">\r\n          <div class=\"row article-content\">\r\n            <div class=\"col-xs-12\">\r\n              ${unsafeHTML(markup)}\r\n\r\n              <ul class=\"tag-list\">\r\n                ${article.tagList.map(tag => {\r\n                  return html`\r\n                    <li class=\"tag-default tag-pill tag-outline\">\r\n                      ${tag}\r\n                    </li>\r\n                  `\r\n                })}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div class=\"article-actions\"></div>\r\n          <div class=\"row\">\r\n            ${CommentContainer({\r\n              comments,\r\n              errors: commentErrors,\r\n              slug,\r\n              currentUser,\r\n              onDelete: this.handleDeleteComment\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\ninjectHistory(ArticlePage)\r\n\r\ncustomElements.define('article-page', ArticlePage)\r\n","import 'components/list-errors'\r\nimport { Component, html } from 'components/base'\r\nimport { injectHistory } from '@stencil/router/dist/cjs/index.cjs'\r\n\r\nclass EditorPage extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  static properties = {\r\n    tagInput: { type: String },\r\n    slug: { type: String }\r\n  }\r\n\r\n  tagInput = ''\r\n\r\n  set match(value) {\r\n    this.slug = value.params.slug\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback()\r\n    this.context.stores.editorStore.setArticleSlug(this.slug)\r\n    this.context.stores.editorStore.loadInitialData()\r\n    this.dataLoaded = true\r\n  }\r\n\r\n  shouldUpdate(changedProperties) {\r\n    if (this.dataLoaded) {\r\n      this.dataLoaded = false\r\n      return true\r\n    }\r\n\r\n    if (changedProperties.has('slug')) {\r\n      this.context.stores.editorStore.setArticleSlug(this.slug)\r\n      this.context.stores.editorStore.loadInitialData()\r\n    }\r\n    return true\r\n  }\r\n\r\n  changeTitle = e => this.context.stores.editorStore.setTitle(e.target.value)\r\n  changeDescription = e =>\r\n    this.context.stores.editorStore.setDescription(e.target.value)\r\n  changeBody = e => this.context.stores.editorStore.setBody(e.target.value)\r\n  changeTagInput = e => (this.tagInput = e.target.value)\r\n\r\n  handleTagInputKeyDown = ev => {\r\n    switch (ev.keyCode) {\r\n      case 13: // Enter\r\n      case 9: // Tab\r\n      case 188: // ,\r\n        if (ev.keyCode !== 9) ev.preventDefault()\r\n        this.handleAddTag()\r\n        break\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  handleAddTag = () => {\r\n    if (this.tagInput) {\r\n      this.context.stores.editorStore.addTag(this.tagInput.trim())\r\n      this.tagInput = ''\r\n    }\r\n  }\r\n\r\n  handleRemoveTag = tag => {\r\n    if (this.context.stores.editorStore.inProgress) return\r\n    this.context.stores.editorStore.removeTag(tag)\r\n  }\r\n\r\n  submitForm = ev => {\r\n    ev.preventDefault()\r\n    const { editorStore } = this.context.stores\r\n    editorStore.submit().then(article => {\r\n      editorStore.reset()\r\n      this.history.replace(`/article/${article.slug}`)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      inProgress,\r\n      errors,\r\n      title,\r\n      description,\r\n      body,\r\n      tagList\r\n    } = this.context.stores.editorStore\r\n\r\n    return html`\r\n      <div class=\"editor-page\">\r\n        <div class=\"container page\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-10 offset-md-1 col-xs-12\">\r\n              <list-errors .errors=${errors}></list-errors>\r\n              <form>\r\n                <fieldset>\r\n                  <fieldset class=\"form-group\">\r\n                    <input\r\n                      class=\"form-control form-control-lg\"\r\n                      type=\"text\"\r\n                      placeholder=\"Article Title\"\r\n                      .value=${title}\r\n                      @input=${this.changeTitle}\r\n                      ?disabled=${inProgress}\r\n                    />\r\n                  </fieldset>\r\n                  <fieldset class=\"form-group\">\r\n                    <input\r\n                      class=\"form-control\"\r\n                      type=\"text\"\r\n                      placeholder=\"What's this article about?\"\r\n                      .value=${description}\r\n                      @input=${this.changeDescription}\r\n                      ?disabled=${inProgress}\r\n                    />\r\n                  </fieldset>\r\n                  <fieldset class=\"form-group\">\r\n                    <textarea\r\n                      class=\"form-control\"\r\n                      rows=\"8\"\r\n                      placeholder=\"Write your article (in markdown)\"\r\n                      .value=${body}\r\n                      @input=${this.changeBody}\r\n                      ?disabled=${inProgress}\r\n                    ></textarea>\r\n                  </fieldset>\r\n                  <fieldset class=\"form-group\">\r\n                    <input\r\n                      class=\"form-control\"\r\n                      type=\"text\"\r\n                      placeholder=\"Enter tags\"\r\n                      .value=${this.tagInput}\r\n                      @input=${this.changeTagInput}\r\n                      @blur=${this.handleAddTag}\r\n                      @keydown=${this.handleTagInputKeyDown}\r\n                      ?disabled=${inProgress}\r\n                    />\r\n                    <div class=\"tag-list\">\r\n                      ${tagList.map(tag => {\r\n                        return html`\r\n                          <span class=\"tag-default tag-pill\"\r\n                            ><i\r\n                              class=\"ion-close-round\"\r\n                              @click=${() => this.handleRemoveTag(tag)}\r\n                            ></i\r\n                            >${tag}</span\r\n                          >\r\n                        `\r\n                      })}\r\n                    </div>\r\n                  </fieldset>\r\n                  <button\r\n                    class=\"btn btn-lg pull-xs-right btn-primary\"\r\n                    type=\"button\"\r\n                    ?disabled=${inProgress}\r\n                    @click=${this.submitForm}\r\n                  >\r\n                    Publish Article\r\n                  </button>\r\n                </fieldset>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\ninjectHistory(EditorPage)\r\n\r\ncustomElements.define('editor-page', EditorPage)\r\n","import 'components/red-error'\r\nimport 'components/loading-spinner'\r\nimport ArticleList from 'components/ArticleList'\r\nimport { Component, html } from 'components/base'\r\nimport { injectHistory } from '@stencil/router/dist/cjs/index.cjs'\r\n\r\nconst EditProfileSettings = props => {\r\n  if (props.isUser) {\r\n    return html`\r\n      <stencil-route-link\r\n        url=\"/settings\"\r\n        class=\"btn btn-sm btn-outline-secondary action-btn\"\r\n        ><i class=\"ion-gear-a\"></i> Edit Profile Settings</stencil-route-link\r\n      >\r\n    `\r\n  }\r\n  return null\r\n}\r\n\r\nconst FollowUserButton = props => {\r\n  if (props.isUser) {\r\n    return null\r\n  }\r\n\r\n  let classes = 'btn btn-sm action-btn'\r\n  if (props.following) {\r\n    classes += ' btn-secondary'\r\n  } else {\r\n    classes += ' btn-outline-secondary'\r\n  }\r\n\r\n  const handleClick = ev => {\r\n    ev.preventDefault()\r\n    if (props.following) {\r\n      props.unfollow(props.username)\r\n    } else {\r\n      props.follow(props.username)\r\n    }\r\n  }\r\n\r\n  return html`\r\n    <button class=${classes} @click=${handleClick}>\r\n      <i class=\"ion-plus-round\"></i> ${props.following ? 'Unfollow' : 'Follow'}\r\n      ${props.username}\r\n    </button>\r\n  `\r\n}\r\n\r\nclass ProfilePage extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  static properties = {\r\n    username: { type: String },\r\n    pathname: { type: String }\r\n  }\r\n\r\n  set match(value) {\r\n    this.username = value.params.username\r\n    this.pathname = this.history.location.pathname\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback()\r\n    this.context.stores.articlesStore.setPredicate(this.getPredicate())\r\n    this.context.stores.profileStore.loadProfile(this.username)\r\n    this.context.stores.articlesStore.loadArticles()\r\n    this.dataLoaded = true\r\n  }\r\n\r\n  shouldUpdate(changedProperties) {\r\n    // avoid reloading data just after connect\r\n    if (this.dataLoaded) {\r\n      this.dataLoaded = false\r\n      return true\r\n    }\r\n\r\n    if (changedProperties.has('username')) {\r\n      this.context.stores.profileStore.loadProfile(this.username)\r\n    }\r\n\r\n    if (changedProperties.has('pathname')) {\r\n      this.context.stores.articlesStore.setPredicate(this.getPredicate())\r\n      this.context.stores.articlesStore.loadArticles()\r\n    }\r\n    return true\r\n  }\r\n\r\n  getTab() {\r\n    if (/\\/favorites/.test(this.pathname)) return 'favorites'\r\n    return 'all'\r\n  }\r\n\r\n  getPredicate() {\r\n    switch (this.getTab()) {\r\n      case 'favorites':\r\n        return { favoritedBy: this.username }\r\n      default:\r\n        return { author: this.username }\r\n    }\r\n  }\r\n\r\n  handleFollow = () => this.context.stores.profileStore.follow()\r\n  handleUnfollow = () => this.context.stores.profileStore.unfollow()\r\n\r\n  handleSetPage = page => {\r\n    this.context.stores.articlesStore.setPage(page)\r\n    this.context.stores.articlesStore.loadArticles()\r\n  }\r\n\r\n  renderTabs() {\r\n    const { profile } = this.context.stores.profileStore\r\n    const isFavorites = this.pathname.match('/favorites')\r\n    return html`\r\n      <ul class=\"nav nav-pills outline-active\">\r\n        <li class=\"nav-item\">\r\n          <stencil-route-link\r\n            anchor-class=${`nav-link ${!isFavorites ? 'active' : ''}`}\r\n            url=${`/@${profile.username}`}\r\n            >My Articles</stencil-route-link\r\n          >\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <stencil-route-link\r\n            anchor-class=\"nav-link\"\r\n            url=${`/@${profile.username}/favorites`}\r\n            active-class=\"active\"\r\n            >Favorited Articles</stencil-route-link\r\n          >\r\n        </li>\r\n      </ul>\r\n    `\r\n  }\r\n\r\n  render() {\r\n    const { profileStore, articlesStore, userStore } = this.context.stores\r\n    const { profile, isLoadingProfile } = profileStore\r\n    const { currentUser } = userStore\r\n\r\n    if (isLoadingProfile && !profile)\r\n      return html`\r\n        <loading-spinner></loading-spinner>\r\n      `\r\n    if (!profile)\r\n      return html`\r\n        <red-error message=\"Can't load profile\"></red-error>\r\n      `\r\n\r\n    const isUser = currentUser && profile.username === currentUser.username\r\n\r\n    return html`\r\n      <div class=\"profile-page\">\r\n        <div class=\"user-info\">\r\n          <div class=\"container\">\r\n            <div class=\"row\">\r\n              <div class=\"col-xs-12 col-md-10 offset-md-1\">\r\n                <img src=${profile.image} class=\"user-img\" alt=\"\" />\r\n                <h4>${profile.username}</h4>\r\n                <p>${profile.bio}</p>\r\n                ${EditProfileSettings({ isUser })}\r\n                ${FollowUserButton({\r\n                  isUser,\r\n                  username: profile.username,\r\n                  following: profile.following,\r\n                  unfollow: this.handleUnfollow,\r\n                  follow: this.handleFollow\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"container\">\r\n          <div class=\"row\">\r\n            <div class=\"col-xs-12 col-md-10 offset-md-1\">\r\n              <div class=\"articles-toggle\">${this.renderTabs()}</div>\r\n              ${ArticleList({\r\n                articles: articlesStore.articles,\r\n                totalPagesCount: articlesStore.totalPagesCount,\r\n                onSetPage: this.handleSetPage,\r\n                loading: articlesStore.isLoading\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\ninjectHistory(ProfilePage)\r\n\r\ncustomElements.define('profile-page', ProfilePage)\r\n","import 'components/list-errors'\r\nimport { Component, html } from 'components/base'\r\nimport { injectHistory } from '@stencil/router/dist/cjs/index.cjs'\r\n\r\nclass SettingsForm extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  static properties = {\r\n    state: { type: Object }\r\n  }\r\n\r\n  constructor() {\r\n    super()\r\n\r\n    this.state = {\r\n      image: '',\r\n      username: '',\r\n      bio: '',\r\n      email: '',\r\n      password: ''\r\n    }\r\n\r\n    this.updateState = field => ev => {\r\n      const state = this.state\r\n      const newState = Object.assign({}, state, { [field]: ev.target.value })\r\n      this.state = newState\r\n    }\r\n\r\n    this.submitForm = ev => {\r\n      ev.preventDefault()\r\n\r\n      const user = Object.assign({}, this.state)\r\n      if (!user.password) {\r\n        delete user.password\r\n      }\r\n\r\n      this.onSubmitForm(user)\r\n    }\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback()\r\n    if (this.context.stores.userStore.currentUser) {\r\n      Object.assign(this.state, {\r\n        image: this.context.stores.userStore.currentUser.image || '',\r\n        username: this.context.stores.userStore.currentUser.username,\r\n        bio: this.context.stores.userStore.currentUser.bio || '',\r\n        email: this.context.stores.userStore.currentUser.email\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <form @submit=${this.submitForm}>\r\n        <fieldset>\r\n          <fieldset class=\"form-group\">\r\n            <input\r\n              class=\"form-control\"\r\n              type=\"text\"\r\n              placeholder=\"URL of profile picture\"\r\n              .value=${this.state.image}\r\n              @change=${this.updateState('image')}\r\n            />\r\n          </fieldset>\r\n          <fieldset class=\"form-group\">\r\n            <input\r\n              class=\"form-control form-control-lg\"\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              .value=${this.state.username}\r\n              @change=${this.updateState('username')}\r\n            />\r\n          </fieldset>\r\n          <fieldset class=\"form-group\">\r\n            <textarea\r\n              class=\"form-control form-control-lg\"\r\n              rows=\"8\"\r\n              placeholder=\"Short bio about you\"\r\n              .value=${this.state.bio}\r\n              @change=${this.updateState('bio')}\r\n            /></textarea>\r\n          </fieldset>\r\n          <fieldset class=\"form-group\">\r\n            <input\r\n              class=\"form-control form-control-lg\"\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              .value=${this.state.email}\r\n              @change=${this.updateState('email')}\r\n            />\r\n          </fieldset>\r\n          <fieldset class=\"form-group\">\r\n            <input\r\n              class=\"form-control form-control-lg\"\r\n              type=\"password\"\r\n              placeholder=\"New Password\"\r\n              .value=${this.state.password}\r\n              @change=${this.updateState('password')}\r\n            />\r\n          </fieldset>\r\n          <button\r\n            class=\"btn btn-lg btn-primary pull-xs-right\"\r\n            type=\"submit\"\r\n            ?disabled=${this.context.stores.userStore.updatingUser}\r\n          >\r\n            Update Settings\r\n          </button>\r\n        </fieldset>\r\n      </form>\r\n    `\r\n  }\r\n}\r\n\r\nclass SettingsPage extends Component {\r\n  static observedContexts = ['stores']\r\n\r\n  handleClickLogout = () =>\r\n    this.context.stores.authStore.logout().then(() => this.history.replace('/'))\r\n\r\n  render() {\r\n    return html`\r\n      <div class=\"settings-page\">\r\n        <div class=\"container page\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6 offset-md-3 col-xs-12\">\r\n              <h1 class=\"text-xs-center\">Your Settings</h1>\r\n              <list-errors\r\n                .errors=${this.context.stores.userStore.updatingUserErrors}\r\n              ></list-errors>\r\n              <settings-form\r\n                .currentUser=${this.context.stores.userStore.currentUser}\r\n                .onSubmitForm=${user =>\r\n                  this.context.stores.userStore.updateUser(user)}\r\n              ></settings-form>\r\n              <hr />\r\n              <button\r\n                class=\"btn btn-outline-danger\"\r\n                @click=${this.handleClickLogout}\r\n              >\r\n                Or click here to logout.\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `\r\n  }\r\n}\r\n\r\ninjectHistory(SettingsPage)\r\n\r\ncustomElements.define('settings-form', SettingsForm)\r\ncustomElements.define('settings-page', SettingsPage)\r\n","import { Component, html } from './components/base'\r\nimport PrivateRoute from 'components/PrivateRoute'\r\n\r\nimport './components/app-header'\r\n\r\nimport 'pages/login-page'\r\nimport 'pages/Home/home-page'\r\nimport 'pages/register-page'\r\nimport 'pages/Article/article-page'\r\nimport 'pages/editor-page'\r\nimport 'pages/profile-page'\r\nimport 'pages/settings-page'\r\n\r\nclass App extends Component {\r\n  static properties = {\r\n    stores: { type: Object, attribute: false }\r\n  }\r\n\r\n  static providedContexts = {\r\n    stores: { property: 'stores' }\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback()\r\n    if (this.stores.commonStore.token) {\r\n      this.stores.userStore\r\n        .pullUser()\r\n        .finally(() => this.stores.commonStore.setAppLoaded())\r\n    } else {\r\n      this.stores.commonStore.setAppLoaded()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.stores.commonStore.appLoaded) {\r\n      const { currentUser } = this.stores.userStore\r\n      return html`\r\n        <div>\r\n          <app-header></app-header>\r\n          <stencil-route-switch>\r\n            <stencil-route url=\"/login\" component=\"login-page\"></stencil-route>\r\n            <stencil-route url=\"/register\" component=\"register-page\">\r\n            </stencil-route>\r\n            <stencil-route url=\"/editor/:slug?\" component=\"editor-page\">\r\n            </stencil-route>\r\n            <stencil-route url=\"/article/:id\" component=\"article-page\">\r\n            </stencil-route>\r\n            ${PrivateRoute({\r\n              component: 'settings-page',\r\n              url: '/settings',\r\n              currentUser\r\n            })}\r\n            </private-route>\r\n            <stencil-route url=\"/@:username\" component=\"profile-page\">\r\n            </stencil-route>\r\n            <stencil-route url=\"/@:username/favorites\" component=\"profile-page\">\r\n            </stencil-route>\r\n            <stencil-route\r\n              url=\"/\"\r\n              component=\"home-page\"\r\n              .exact=${true}\r\n            ></stencil-route>\r\n          </stencil-route-switch>\r\n        </div>\r\n      `\r\n    }\r\n    return html`\r\n      <app-header></app-header>\r\n    `\r\n  }\r\n}\r\n\r\ncustomElements.define('realworld-app', App)\r\n","import { render, html } from 'lit-html'\r\nimport 'promise-prototype-finally'\r\nimport { configure as configureMobx } from 'mobx'\r\nimport { defineCustomElements } from '@stencil/router/dist/cjs/loader.cjs'\r\nimport agent from 'agent'\r\n\r\nimport RootStore from './stores/rootStore'\r\nimport './realworld-app'\r\n\r\nconst stores = new RootStore()\r\n\r\n// @stencil/router\r\ndefineCustomElements()\r\n\r\n// For easier debugging\r\nwindow._____APP_STATE_____ = stores\r\n\r\nconfigureMobx({ enforceActions: 'observed' })\r\nagent.configure(stores)\r\n\r\nrender(\r\n  html`\r\n    <stencil-router history-type=\"hash\">\r\n      <realworld-app .stores=${stores}></realworld-app>\r\n    </stencil-router>\r\n  `,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}